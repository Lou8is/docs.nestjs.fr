(self.webpackChunkdocs_nestjs_com=self.webpackChunkdocs_nestjs_com||[]).push([[792],{8050:(Te,ne,C)=>{"use strict";C.d(ne,{y:()=>W});var g=C(8295),Y=(C(9628),C(1582),C(3809),C(7240),C(981),C(4438));let W=(()=>{class Ee{applicationRef;el;isHljsInitialized=!1;constructor(Q,me){this.applicationRef=Q,this.el=me}get nativeElement(){return this.el.nativeElement}get isMarkupReady(){return this.isHljsInitialized}ngAfterViewChecked(){this.initHljs()}initHljs(){if(this.isHljsInitialized||!this.el)return;const Q=this.el.nativeElement.querySelectorAll("code");[].forEach.call(Q,me=>{me.className&&(g.highlightElement(me),this.isHljsInitialized=!0)}),setTimeout(()=>this.applicationRef.tick(),1e3)}static \u0275fac=function(me){return new(me||Ee)(Y.rXU(Y.o8S),Y.rXU(Y.aKT))};static \u0275cmp=Y.VBU({type:Ee,selectors:[["app-base-page"]],decls:0,vars:0,template:function(me,Me){},encapsulation:2})}return Ee})()},5749:(Te,ne,C)=>{"use strict";C.d(ne,{Q:()=>e});var g=C(4438);let e=(()=>{class ${static \u0275fac=function(G){return new(G||$)};static \u0275cmp=g.VBU({type:$,selectors:[["app-banner-courses"]],decls:25,vars:0,consts:[[1,"banner"],[1,"fas","fa-check"],["href","https://courses.nestjs.com","target","_blank","title","Courses | NestJS - A node.js framework built on top of TypeScript",1,"btn-more"]],template:function(G,re){1&G&&(g.j41(0,"div",0)(1,"h2"),g.EFF(2,"Learn the "),g.j41(3,"span"),g.EFF(4,"right"),g.k0s(),g.EFF(5," way!"),g.k0s(),g.j41(6,"ul")(7,"li")(8,"span"),g.nrm(9,"i",1),g.k0s(),g.EFF(10," 80+ chapters "),g.k0s(),g.j41(11,"li")(12,"span"),g.nrm(13,"i",1),g.k0s(),g.EFF(14," 5+ hours of videos "),g.k0s(),g.j41(15,"li")(16,"span"),g.nrm(17,"i",1),g.k0s(),g.EFF(18," Official certificate "),g.k0s(),g.j41(19,"li")(20,"span"),g.nrm(21,"i",1),g.k0s(),g.EFF(22," Deep-dive sessions "),g.k0s()(),g.j41(23,"a",2),g.EFF(24,"Explore official courses"),g.k0s()())},styles:[".banner[_ngcontent-%COMP%]{background-color:#111;background-image:url(/assets/banners/courses.jpg)}"],changeDetection:0})}return $})()},7077:(Te,ne,C)=>{"use strict";C.d(ne,{_:()=>e});var g=C(4438);let e=(()=>{class ${static \u0275fac=function(G){return new(G||$)};static \u0275cmp=g.VBU({type:$,selectors:[["app-banner-devtools"]],decls:24,vars:0,consts:[[1,"banner"],[1,"fas","fa-check"],["href","https://devtools.nestjs.com","target","_blank","title","Devtools | NestJS - A node.js framework built on top of TypeScript",1,"btn-more"]],template:function(G,re){1&G&&(g.j41(0,"div",0)(1,"h2"),g.EFF(2,"Explore your graph with "),g.j41(3,"span"),g.EFF(4,"NestJS Devtools"),g.k0s()(),g.j41(5,"ul")(6,"li")(7,"span"),g.nrm(8,"i",1),g.k0s(),g.EFF(9," Graph visualizer "),g.k0s(),g.j41(10,"li")(11,"span"),g.nrm(12,"i",1),g.k0s(),g.EFF(13," Routes navigator "),g.k0s(),g.j41(14,"li")(15,"span"),g.nrm(16,"i",1),g.k0s(),g.EFF(17," Interactive playground "),g.k0s(),g.j41(18,"li")(19,"span"),g.nrm(20,"i",1),g.k0s(),g.EFF(21," CI/CD integration "),g.k0s()(),g.j41(22,"a",2),g.EFF(23,"Sign up"),g.k0s()())},styles:[".banner[_ngcontent-%COMP%]{background-color:#111;background-image:url(/assets/banners/courses-graphql-sf.jpg)}"],changeDetection:0})}return $})()},8149:(Te,ne,C)=>{"use strict";C.d(ne,{d:()=>e});var g=C(4438);let e=(()=>{class ${static \u0275fac=function(G){return new(G||$)};static \u0275cmp=g.VBU({type:$,selectors:[["app-banner-enterprise"]],decls:25,vars:0,consts:[[1,"banner"],[1,"fas","fa-check"],["href","https://enterprise.nestjs.com","target","_blank","title","Enterprise | NestJS - A progressive Node.js framework",1,"btn-more"]],template:function(G,re){1&G&&(g.j41(0,"div",0)(1,"h2"),g.EFF(2,"Official "),g.j41(3,"span"),g.EFF(4,"enterprise"),g.k0s(),g.EFF(5," support"),g.k0s(),g.j41(6,"ul")(7,"li")(8,"span"),g.nrm(9,"i",1),g.k0s(),g.EFF(10," Providing technical guidance "),g.k0s(),g.j41(11,"li")(12,"span"),g.nrm(13,"i",1),g.k0s(),g.EFF(14," Performing in-depth code reviews "),g.k0s(),g.j41(15,"li")(16,"span"),g.nrm(17,"i",1),g.k0s(),g.EFF(18," Mentoring team members "),g.k0s(),g.j41(19,"li")(20,"span"),g.nrm(21,"i",1),g.k0s(),g.EFF(22," Advising best practices "),g.k0s()(),g.j41(23,"a",2),g.EFF(24,"Explore more"),g.k0s()())},styles:[".banner[_ngcontent-%COMP%]{background-color:#111;background-image:url(/assets/banners/enterprise.jpg)}.banner[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{max-width:820px}"],changeDetection:0})}return $})()},2469:(Te,ne,C)=>{"use strict";C.d(ne,{z:()=>O});var g=C(4438),e=C(3506);const $=["*"];let O=(()=>{class R{elRef=(0,g.WQX)(g.aKT);copied=!1;cdr=(0,g.WQX)(g.gRc);revertIconTimeout=null;onCopy(){const re=this.elRef.nativeElement.querySelector("pre:not(.hide)");re&&(navigator.clipboard.writeText(re.firstChild.textContent),this.copied=!0,this.cdr.detectChanges(),this.revertIconTimeout=setTimeout(()=>{this.copied=!1,this.cdr.detectChanges(),this.revertIconTimeout=null},2e3))}ngOnDestroy(){this.revertIconTimeout&&clearTimeout(this.revertIconTimeout)}static \u0275fac=function(be){return new(be||R)};static \u0275cmp=g.VBU({type:R,selectors:[["app-copy-button"]],ngContentSelectors:$,decls:4,vars:3,consts:[[1,"clipboard",3,"click"]],template:function(be,he){1&be&&(g.NAR(),g.j41(0,"button",0),g.bIt("click",function(){return he.onCopy()}),g.j41(1,"mat-icon"),g.EFF(2),g.k0s()(),g.SdG(3)),2&be&&(g.AVh("copied",he.copied),g.R7$(2),g.JRh(he.copied?"check":"content_copy"))},dependencies:[e.An],styles:["[_nghost-%COMP%]{display:block;position:relative}.with-heading[_nghost-%COMP%]   .clipboard[_ngcontent-%COMP%]{top:65px}[_nghost-%COMP%]   .clipboard[_ngcontent-%COMP%]{color:#dfdfdf;cursor:pointer;background:transparent;border:none;padding:10px;position:absolute;top:20px;right:10px;z-index:10;opacity:.7}[_nghost-%COMP%]   .clipboard[_ngcontent-%COMP%]:hover:not(.copied){opacity:1}[_nghost-%COMP%]   .clipboard[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:18px;height:18px;font-size:18px}"]})}return R})()},5119:(Te,ne,C)=>{"use strict";C.d(ne,{O:()=>e});var g=C(4438);let e=(()=>{class ${isJsActive=!1;static \u0275fac=function(G){return new(G||$)};static \u0275cmp=g.VBU({type:$,selectors:[["app-tabs"]],decls:5,vars:4,consts:[[1,"tabs-wrapper"],[1,"tab",3,"click"],[1,"tab","active",3,"click"]],template:function(G,re){1&G&&(g.j41(0,"div",0)(1,"span",1),g.bIt("click",function(){return re.isJsActive=!0}),g.EFF(2," JS "),g.k0s(),g.j41(3,"span",2),g.bIt("click",function(){return re.isJsActive=!1}),g.EFF(4," TS "),g.k0s()()),2&G&&(g.R7$(),g.AVh("active",re.isJsActive),g.R7$(2),g.AVh("active",!re.isJsActive))},styles:['.transition[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast[_ngcontent-%COMP%]{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]:before, .clearfix[_ngcontent-%COMP%]:after{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.center-top[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%]{box-sizing:border-box}.tabs-wrapper[_ngcontent-%COMP%]{position:absolute;right:0;top:0;bottom:0}.tab[_ngcontent-%COMP%]{color:#dfdfdf;cursor:pointer;margin:0;float:right;font-weight:600;height:100%;padding:12px 20px;box-sizing:border-box;-webkit-box-sizing:border-box}.tab[_ngcontent-%COMP%]:hover:not(.active){color:#efefef}.tab.active[_ngcontent-%COMP%]{display:none}'],changeDetection:0})}return $})()},4819:(Te,ne,C)=>{"use strict";C.d(ne,{a:()=>$});var g=C(4438),e=C(685);let $=(()=>{class O{elementRef;renderer;router;id;constructor(G,re,be){this.elementRef=G,this.renderer=re,this.router=be}ngAfterViewInit(){const G=null==this.id?this.getImplicitId():this.id;null==this.id&&this.renderer.setProperty(this.elementRef.nativeElement,"id",G);const re=this.renderer.createElement("a");this.renderer.setProperty(re,"href",`${this.router.url.split("#")[0]}#${G}`);const be=this.renderer.createText("#");this.renderer.appendChild(re,be),this.renderer.appendChild(this.elementRef.nativeElement,re)}getImplicitId(){return this.elementRef.nativeElement.innerText.replace(/\s/g,"-").toLocaleLowerCase()}static \u0275fac=function(re){return new(re||O)(g.rXU(g.aKT),g.rXU(g.sFG),g.rXU(e.Ix))};static \u0275dir=g.FsC({type:O,selectors:[["","appAnchor",""]],inputs:{id:"id"}})}return O})()},5663:(Te,ne,C)=>{"use strict";C.d(ne,{M:()=>e});var g=C(4438);let e=(()=>{class ${transform(R,G){return G?`${R}.js`:`${R}.ts`}static \u0275fac=function(G){return new(G||$)};static \u0275pipe=g.EJ8({name:"extension",type:$,pure:!0})}return $})()},4599:(Te,ne,C)=>{"use strict";C.d(ne,{n:()=>e});var g=C(4438);let e=(()=>{class ${set(R,G){localStorage.setItem(R,JSON.stringify(G))}get(R){const G=localStorage.getItem(R);return G?JSON.parse(G):null}remove(R){this.get(R)&&localStorage.removeItem(R)}static \u0275fac=function(G){return new(G||$)};static \u0275prov=g.jDH({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})()},445:(Te,ne,C)=>{"use strict";C.d(ne,{G:()=>le});var g=C(177),e=C(4599),$=C(4438);let be=(()=>{class X{static#e=this.\u0275fac=function(W){return new(W||X)};static#t=this.\u0275mod=$.$C({type:X});static#n=this.\u0275inj=$.G2t({})}return X})();var he=C(3506);let le=(()=>{class X{static \u0275fac=function(W){return new(W||X)};static \u0275mod=$.$C({type:X});static \u0275inj=$.G2t({providers:[e.n],imports:[g.MD,be,he.m_]})}return X})()},6760:(Te,ne,C)=>{"use strict";var g=C(345),e=C(4438),$=C(1626),O=function(y){return y[y.State=0]="State",y[y.Transition=1]="Transition",y[y.Sequence=2]="Sequence",y[y.Group=3]="Group",y[y.Animate=4]="Animate",y[y.Keyframes=5]="Keyframes",y[y.Style=6]="Style",y[y.Trigger=7]="Trigger",y[y.Reference=8]="Reference",y[y.AnimateChild=9]="AnimateChild",y[y.AnimateRef=10]="AnimateRef",y[y.Query=11]="Query",y[y.Stagger=12]="Stagger",y}(O||{});const R="*";function G(y,u){return{type:O.Trigger,name:y,definitions:u,options:{}}}function re(y,u=null){return{type:O.Animate,styles:u,timings:y}}function le(y){return{type:O.Style,styles:y,offset:null}}function Y(y,u,a=null){return{type:O.Transition,expr:y,animation:u,options:a}}function Q(y,u,a=null){return{type:O.Query,selector:y,animation:u,options:a}}class Ve{constructor(u=0,a=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=u+a}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}onStart(u){this._originalOnStartFns.push(u),this._onStartFns.push(u)}onDone(u){this._originalOnDoneFns.push(u),this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(u=>u()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(u){this._position=this.totalTime?u*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(u){const a="start"==u?this._onStartFns:this._onDoneFns;a.forEach(c=>c()),a.length=0}}class it{constructor(u){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=u;let a=0,c=0,f=0;const b=this.players.length;0==b?queueMicrotask(()=>this._onFinish()):this.players.forEach(A=>{A.onDone(()=>{++a==b&&this._onFinish()}),A.onDestroy(()=>{++c==b&&this._onDestroy()}),A.onStart(()=>{++f==b&&this._onStart()})}),this.totalTime=this.players.reduce((A,l)=>Math.max(A,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}init(){this.players.forEach(u=>u.init())}onStart(u){this._onStartFns.push(u)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(u=>u()),this._onStartFns=[])}onDone(u){this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(u=>u.play())}pause(){this.players.forEach(u=>u.pause())}restart(){this.players.forEach(u=>u.restart())}finish(){this._onFinish(),this.players.forEach(u=>u.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(u=>u.destroy()),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}reset(){this.players.forEach(u=>u.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(u){const a=u*this.totalTime;this.players.forEach(c=>{const f=c.totalTime?Math.min(1,a/c.totalTime):1;c.setPosition(f)})}getPosition(){const u=this.players.reduce((a,c)=>null===a||c.totalTime>a.totalTime?c:a,null);return null!=u?u.getPosition():0}beforeDestroy(){this.players.forEach(u=>{u.beforeDestroy&&u.beforeDestroy()})}triggerCallback(u){const a="start"==u?this._onStartFns:this._onDoneFns;a.forEach(c=>c()),a.length=0}}function kt(y){return new e.wOt(3e3,!1)}function On(y){switch(y.length){case 0:return new Ve;case 1:return y[0];default:return new it(y)}}function Zt(y,u,a=new Map,c=new Map){const f=[],b=[];let A=-1,l=null;if(u.forEach(m=>{const p=m.get("offset"),E=p==A,_=E&&l||new Map;m.forEach((x,S)=>{let H=S,B=x;if("offset"!==S)switch(H=y.normalizePropertyName(H,f),B){case"!":B=a.get(S);break;case R:B=c.get(S);break;default:B=y.normalizeStyleValue(S,H,B,f)}_.set(H,B)}),E||b.push(_),l=_,A=p}),f.length)throw function Re(){return new e.wOt(3502,!1)}();return b}function qt(y,u,a,c){switch(u){case"start":y.onStart(()=>c(a&&_t(a,"start",y)));break;case"done":y.onDone(()=>c(a&&_t(a,"done",y)));break;case"destroy":y.onDestroy(()=>c(a&&_t(a,"destroy",y)))}}function _t(y,u,a){const b=jr(y.element,y.triggerName,y.fromState,y.toState,u||y.phaseName,a.totalTime??y.totalTime,!!a.disabled),A=y._data;return null!=A&&(b._data=A),b}function jr(y,u,a,c,f="",b=0,A){return{element:y,triggerName:u,fromState:a,toState:c,phaseName:f,totalTime:b,disabled:!!A}}function ct(y,u,a){let c=y.get(u);return c||y.set(u,c=a),c}function ns(y){const u=y.indexOf(":");return[y.substring(1,u),y.slice(u+1)]}const zt=typeof document>"u"?null:document.documentElement;function Hr(y){const u=y.parentNode||y.host||null;return u===zt?null:u}let nr=null,ie=!1;function Fe(y,u){for(;u;){if(u===y)return!0;u=Hr(u)}return!1}function $e(y,u,a){if(a)return Array.from(y.querySelectorAll(u));const c=y.querySelector(u);return c?[c]:[]}let ft=(()=>{class y{validateStyleProperty(a){return function K(y){nr||(nr=function V(){return typeof document<"u"?document.body:null}()||{},ie=!!nr.style&&"WebkitAppearance"in nr.style);let u=!0;return nr.style&&!function rs(y){return"ebkit"==y.substring(1,6)}(y)&&(u=y in nr.style,!u&&ie&&(u="Webkit"+y.charAt(0).toUpperCase()+y.slice(1)in nr.style)),u}(a)}containsElement(a,c){return Fe(a,c)}getParentElement(a){return Hr(a)}query(a,c,f){return $e(a,c,f)}computeStyle(a,c,f){return f||""}animate(a,c,f,b,A,l=[],m){return new Ve(f,b)}static#e=this.\u0275fac=function(c){return new(c||y)};static#t=this.\u0275prov=e.jDH({token:y,factory:y.\u0275fac})}return y})();class on{static#e=this.NOOP=new ft}class Pn{}const cr=1e3,Co="ng-enter",ys="ng-leave",kn="ng-trigger",rt=".ng-trigger",ur="ng-animating",oo=".ng-animating";function lr(y){if("number"==typeof y)return y;const u=y.match(/^(-?[\.\d]+)(m?s)/);return!u||u.length<2?0:$s(parseFloat(u[1]),u[2])}function $s(y,u){return"s"===u?y*cr:y}function wr(y,u,a){return y.hasOwnProperty("duration")?y:function Ot(y,u,a){let f,b=0,A="";if("string"==typeof y){const l=y.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return u.push(kt()),{duration:0,delay:0,easing:""};f=$s(parseFloat(l[1]),l[2]);const m=l[3];null!=m&&(b=$s(parseFloat(m),l[4]));const p=l[5];p&&(A=p)}else f=y;if(!a){let l=!1,m=u.length;f<0&&(u.push(function Ye(){return new e.wOt(3100,!1)}()),l=!0),b<0&&(u.push(function pt(){return new e.wOt(3101,!1)}()),l=!0),l&&u.splice(m,0,kt())}return{duration:f,delay:b,easing:A}}(y,u,a)}function Rn(y,u,a){u.forEach((c,f)=>{const b=io(f);a&&!a.has(f)&&a.set(f,y.style[b]),y.style[b]=c})}function kr(y,u){u.forEach((a,c)=>{const f=io(c);y.style[f]=""})}function dr(y){return Array.isArray(y)?1==y.length?y[0]:function he(y,u=null){return{type:O.Sequence,steps:y,options:u}}(y):y}const _s=new RegExp("{{\\s*(.+?)\\s*}}","g");function ws(y){let u=[];if("string"==typeof y){let a;for(;a=_s.exec(y);)u.push(a[1]);_s.lastIndex=0}return u}function Cr(y,u,a){const c=`${y}`,f=c.replace(_s,(b,A)=>{let l=u[A];return null==l&&(a.push(function Pt(){return new e.wOt(3003,!1)}()),l=""),l.toString()});return f==c?y:f}const os=/-+([a-z0-9])/g;function io(y){return y.replace(os,(...u)=>u[1].toUpperCase())}function U(y,u,a){switch(u.type){case O.Trigger:return y.visitTrigger(u,a);case O.State:return y.visitState(u,a);case O.Transition:return y.visitTransition(u,a);case O.Sequence:return y.visitSequence(u,a);case O.Group:return y.visitGroup(u,a);case O.Animate:return y.visitAnimate(u,a);case O.Keyframes:return y.visitKeyframes(u,a);case O.Style:return y.visitStyle(u,a);case O.Reference:return y.visitReference(u,a);case O.AnimateChild:return y.visitAnimateChild(u,a);case O.AnimateRef:return y.visitAnimateRef(u,a);case O.Query:return y.visitQuery(u,a);case O.Stagger:return y.visitStagger(u,a);default:throw function Kt(){return new e.wOt(3004,!1)}()}}function ce(y,u){return window.getComputedStyle(y)[u]}const pe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Se extends Pn{normalizePropertyName(u,a){return io(u)}normalizeStyleValue(u,a,c,f){let b="";const A=c.toString().trim();if(pe.has(a)&&0!==c&&"0"!==c)if("number"==typeof c)b="px";else{const l=c.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&f.push(function oe(){return new e.wOt(3005,!1)}())}return A+b}}const an="*";const Dt=new Set(["true","1"]),_n=new Set(["false","0"]);function st(y,u){const a=Dt.has(y)||_n.has(y),c=Dt.has(u)||_n.has(u);return(f,b)=>{let A=y==an||y==f,l=u==an||u==b;return!A&&a&&"boolean"==typeof f&&(A=f?Dt.has(y):_n.has(y)),!l&&c&&"boolean"==typeof b&&(l=b?Dt.has(u):_n.has(u)),A&&l}}const Dr=new RegExp("s*:selfs*,?","g");function ks(y,u,a,c){return new Hs(y).build(u,a,c)}class Hs{constructor(u){this._driver=u}build(u,a,c){const f=new wt(a);return this._resetContextStyleTimingState(f),U(this,dr(u),f)}_resetContextStyleTimingState(u){u.currentQuerySelector="",u.collectedStyles=new Map,u.collectedStyles.set("",new Map),u.currentTime=0}visitTrigger(u,a){let c=a.queryCount=0,f=a.depCount=0;const b=[],A=[];return"@"==u.name.charAt(0)&&a.errors.push(function ae(){return new e.wOt(3006,!1)}()),u.definitions.forEach(l=>{if(this._resetContextStyleTimingState(a),l.type==O.State){const m=l,p=m.name;p.toString().split(/\s*,\s*/).forEach(E=>{m.name=E,b.push(this.visitState(m,a))}),m.name=p}else if(l.type==O.Transition){const m=this.visitTransition(l,a);c+=m.queryCount,f+=m.depCount,A.push(m)}else a.errors.push(function fe(){return new e.wOt(3007,!1)}())}),{type:O.Trigger,name:u.name,states:b,transitions:A,queryCount:c,depCount:f,options:null}}visitState(u,a){const c=this.visitStyle(u.styles,a),f=u.options&&u.options.params||null;if(c.containsDynamicStyles){const b=new Set,A=f||{};c.styles.forEach(l=>{l instanceof Map&&l.forEach(m=>{ws(m).forEach(p=>{A.hasOwnProperty(p)||b.add(p)})})}),b.size&&a.errors.push(function ge(){return new e.wOt(3008,!1)}(0,b.values()))}return{type:O.State,name:u.name,style:c,options:f?{params:f}:null}}visitTransition(u,a){a.queryCount=0,a.depCount=0;const c=U(this,dr(u.animation),a),f=function nn(y,u){const a=[];return"string"==typeof y?y.split(/\s*,\s*/).forEach(c=>function bn(y,u,a){if(":"==y[0]){const m=function At(y,u){switch(y){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,c)=>parseFloat(c)>parseFloat(a);case":decrement":return(a,c)=>parseFloat(c)<parseFloat(a);default:return u.push(function Qt(){return new e.wOt(3016,!1)}()),"* => *"}}(y,a);if("function"==typeof m)return void u.push(m);y=m}const c=y.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==c||c.length<4)return a.push(function Nt(){return new e.wOt(3015,!1)}()),u;const f=c[1],b=c[2],A=c[3];u.push(st(f,A)),"<"==b[0]&&(f!=an||A!=an)&&u.push(st(A,f))}(c,a,u)):a.push(y),a}(u.expr,a.errors);return{type:O.Transition,matchers:f,animation:c,queryCount:a.queryCount,depCount:a.depCount,options:Cn(u.options)}}visitSequence(u,a){return{type:O.Sequence,steps:u.steps.map(c=>U(this,c,a)),options:Cn(u.options)}}visitGroup(u,a){const c=a.currentTime;let f=0;const b=u.steps.map(A=>{a.currentTime=c;const l=U(this,A,a);return f=Math.max(f,a.currentTime),l});return a.currentTime=f,{type:O.Group,steps:b,options:Cn(u.options)}}visitAnimate(u,a){const c=function vi(y,u){if(y.hasOwnProperty("duration"))return y;if("number"==typeof y)return Go(wr(y,u).duration,0,"");const a=y;if(a.split(/\s+/).some(b=>"{"==b.charAt(0)&&"{"==b.charAt(1))){const b=Go(0,0,"");return b.dynamic=!0,b.strValue=a,b}const f=wr(a,u);return Go(f.duration,f.delay,f.easing)}(u.timings,a.errors);a.currentAnimateTimings=c;let f,b=u.styles?u.styles:le({});if(b.type==O.Keyframes)f=this.visitKeyframes(b,a);else{let A=u.styles,l=!1;if(!A){l=!0;const p={};c.easing&&(p.easing=c.easing),A=le(p)}a.currentTime+=c.duration+c.delay;const m=this.visitStyle(A,a);m.isEmptyStep=l,f=m}return a.currentAnimateTimings=null,{type:O.Animate,timings:c,style:f,options:null}}visitStyle(u,a){const c=this._makeStyleAst(u,a);return this._validateStyleAst(c,a),c}_makeStyleAst(u,a){const c=[],f=Array.isArray(u.styles)?u.styles:[u.styles];for(let l of f)"string"==typeof l?l===R?c.push(l):a.errors.push(new e.wOt(3002,!1)):c.push(new Map(Object.entries(l)));let b=!1,A=null;return c.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(A=l.get("easing"),l.delete("easing")),!b))for(let m of l.values())if(m.toString().indexOf("{{")>=0){b=!0;break}}),{type:O.Style,styles:c,easing:A,offset:u.offset,containsDynamicStyles:b,options:null}}_validateStyleAst(u,a){const c=a.currentAnimateTimings;let f=a.currentTime,b=a.currentTime;c&&b>0&&(b-=c.duration+c.delay),u.styles.forEach(A=>{"string"!=typeof A&&A.forEach((l,m)=>{const p=a.collectedStyles.get(a.currentQuerySelector),E=p.get(m);let _=!0;E&&(b!=f&&b>=E.startTime&&f<=E.endTime&&(a.errors.push(function Qe(){return new e.wOt(3010,!1)}()),_=!1),b=E.startTime),_&&p.set(m,{startTime:b,endTime:f}),a.options&&function Do(y,u,a){const c=u.params||{},f=ws(y);f.length&&f.forEach(b=>{c.hasOwnProperty(b)||a.push(function ht(){return new e.wOt(3001,!1)}())})}(l,a.options,a.errors)})})}visitKeyframes(u,a){const c={type:O.Keyframes,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function Ct(){return new e.wOt(3011,!1)}()),c;let b=0;const A=[];let l=!1,m=!1,p=0;const E=u.steps.map(Le=>{const He=this._makeStyleAst(Le,a);let dt=null!=He.offset?He.offset:function zo(y){if("string"==typeof y)return null;let u=null;if(Array.isArray(y))y.forEach(a=>{if(a instanceof Map&&a.has("offset")){const c=a;u=parseFloat(c.get("offset")),c.delete("offset")}});else if(y instanceof Map&&y.has("offset")){const a=y;u=parseFloat(a.get("offset")),a.delete("offset")}return u}(He.styles),rn=0;return null!=dt&&(b++,rn=He.offset=dt),m=m||rn<0||rn>1,l=l||rn<p,p=rn,A.push(rn),He});m&&a.errors.push(function We(){return new e.wOt(3012,!1)}()),l&&a.errors.push(function tt(){return new e.wOt(3200,!1)}());const _=u.steps.length;let x=0;b>0&&b<_?a.errors.push(function Vt(){return new e.wOt(3202,!1)}()):0==b&&(x=1/(_-1));const S=_-1,H=a.currentTime,B=a.currentAnimateTimings,ve=B.duration;return E.forEach((Le,He)=>{const dt=x>0?He==S?1:x*He:A[He],rn=dt*ve;a.currentTime=H+B.delay+rn,B.duration=rn,this._validateStyleAst(Le,a),Le.offset=dt,c.styles.push(Le)}),c}visitReference(u,a){return{type:O.Reference,animation:U(this,dr(u.animation),a),options:Cn(u.options)}}visitAnimateChild(u,a){return a.depCount++,{type:O.AnimateChild,options:Cn(u.options)}}visitAnimateRef(u,a){return{type:O.AnimateRef,animation:this.visitReference(u.animation,a),options:Cn(u.options)}}visitQuery(u,a){const c=a.currentQuerySelector,f=u.options||{};a.queryCount++,a.currentQuery=u;const[b,A]=function ao(y){const u=!!y.split(/\s*,\s*/).find(a=>":self"==a);return u&&(y=y.replace(Dr,"")),y=y.replace(/@\*/g,rt).replace(/@\w+/g,a=>rt+"-"+a.slice(1)).replace(/:animating/g,oo),[y,u]}(u.selector);a.currentQuerySelector=c.length?c+" "+b:b,ct(a.collectedStyles,a.currentQuerySelector,new Map);const l=U(this,dr(u.animation),a);return a.currentQuery=null,a.currentQuerySelector=c,{type:O.Query,selector:b,limit:f.limit||0,optional:!!f.optional,includeSelf:A,animation:l,originalSelector:u.selector,options:Cn(u.options)}}visitStagger(u,a){a.currentQuery||a.errors.push(function Jt(){return new e.wOt(3013,!1)}());const c="full"===u.timings?{duration:0,delay:0,easing:"full"}:wr(u.timings,a.errors,!0);return{type:O.Stagger,animation:U(this,dr(u.animation),a),timings:c,options:null}}}class wt{constructor(u){this.errors=u,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Cn(y){return y?(y={...y}).params&&(y.params=function zs(y){return y?{...y}:null}(y.params)):y={},y}function Go(y,u,a){return{duration:y,delay:u,easing:a}}function yi(y,u,a,c,f,b,A=null,l=!1){return{type:1,element:y,keyframes:u,preStyleProps:a,postStyleProps:c,duration:f,delay:b,totalTime:f+b,easing:A,subTimeline:l}}class co{constructor(){this._map=new Map}get(u){return this._map.get(u)||[]}append(u,a){let c=this._map.get(u);c||this._map.set(u,c=[]),c.push(...a)}has(u){return this._map.has(u)}clear(){this._map.clear()}}const Io=new RegExp(":enter","g"),rr=new RegExp(":leave","g");function uo(y,u,a,c,f,b=new Map,A=new Map,l,m,p=[]){return(new Cs).buildKeyframes(y,u,a,c,f,b,A,l,m,p)}class Cs{buildKeyframes(u,a,c,f,b,A,l,m,p,E=[]){p=p||new co;const _=new is(u,a,p,f,b,E,[]);_.options=m;const x=m.delay?lr(m.delay):0;_.currentTimeline.delayNextStep(x),_.currentTimeline.setStyles([A],null,_.errors,m),U(this,c,_);const S=_.timelines.filter(H=>H.containsAnimation());if(S.length&&l.size){let H;for(let B=S.length-1;B>=0;B--){const ve=S[B];if(ve.element===a){H=ve;break}}H&&!H.allowOnlyTimelineStyles()&&H.setStyles([l],null,_.errors,m)}return S.length?S.map(H=>H.buildKeyframes()):[yi(a,[],[],[],0,x,"",!1)]}visitTrigger(u,a){}visitState(u,a){}visitTransition(u,a){}visitAnimateChild(u,a){const c=a.subInstructions.get(a.element);if(c){const f=a.createSubContext(u.options),b=a.currentTimeline.currentTime,A=this._visitSubInstructions(c,f,f.options);b!=A&&a.transformIntoNewTimeline(A)}a.previousNode=u}visitAnimateRef(u,a){const c=a.createSubContext(u.options);c.transformIntoNewTimeline(),this._applyAnimationRefDelays([u.options,u.animation.options],a,c),this.visitReference(u.animation,c),a.transformIntoNewTimeline(c.currentTimeline.currentTime),a.previousNode=u}_applyAnimationRefDelays(u,a,c){for(const f of u){const b=f?.delay;if(b){const A="number"==typeof b?b:lr(Cr(b,f?.params??{},a.errors));c.delayNextStep(A)}}}_visitSubInstructions(u,a,c){let b=a.currentTimeline.currentTime;const A=null!=c.duration?lr(c.duration):null,l=null!=c.delay?lr(c.delay):null;return 0!==A&&u.forEach(m=>{const p=a.appendInstructionToTimeline(m,A,l);b=Math.max(b,p.duration+p.delay)}),b}visitReference(u,a){a.updateOptions(u.options,!0),U(this,u.animation,a),a.previousNode=u}visitSequence(u,a){const c=a.subContextCount;let f=a;const b=u.options;if(b&&(b.params||b.delay)&&(f=a.createSubContext(b),f.transformIntoNewTimeline(),null!=b.delay)){f.previousNode.type==O.Style&&(f.currentTimeline.snapshotCurrentStyles(),f.previousNode=Rr);const A=lr(b.delay);f.delayNextStep(A)}u.steps.length&&(u.steps.forEach(A=>U(this,A,f)),f.currentTimeline.applyStylesToKeyframe(),f.subContextCount>c&&f.transformIntoNewTimeline()),a.previousNode=u}visitGroup(u,a){const c=[];let f=a.currentTimeline.currentTime;const b=u.options&&u.options.delay?lr(u.options.delay):0;u.steps.forEach(A=>{const l=a.createSubContext(u.options);b&&l.delayNextStep(b),U(this,A,l),f=Math.max(f,l.currentTimeline.currentTime),c.push(l.currentTimeline)}),c.forEach(A=>a.currentTimeline.mergeTimelineCollectedStyles(A)),a.transformIntoNewTimeline(f),a.previousNode=u}_visitTiming(u,a){if(u.dynamic){const c=u.strValue;return wr(a.params?Cr(c,a.params,a.errors):c,a.errors)}return{duration:u.duration,delay:u.delay,easing:u.easing}}visitAnimate(u,a){const c=a.currentAnimateTimings=this._visitTiming(u.timings,a),f=a.currentTimeline;c.delay&&(a.incrementTime(c.delay),f.snapshotCurrentStyles());const b=u.style;b.type==O.Keyframes?this.visitKeyframes(b,a):(a.incrementTime(c.duration),this.visitStyle(b,a),f.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=u}visitStyle(u,a){const c=a.currentTimeline,f=a.currentAnimateTimings;!f&&c.hasCurrentStyleProperties()&&c.forwardFrame();const b=f&&f.easing||u.easing;u.isEmptyStep?c.applyEmptyStep(b):c.setStyles(u.styles,b,a.errors,a.options),a.previousNode=u}visitKeyframes(u,a){const c=a.currentAnimateTimings,f=a.currentTimeline.duration,b=c.duration,l=a.createSubContext().currentTimeline;l.easing=c.easing,u.styles.forEach(m=>{l.forwardTime((m.offset||0)*b),l.setStyles(m.styles,m.easing,a.errors,a.options),l.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(l),a.transformIntoNewTimeline(f+b),a.previousNode=u}visitQuery(u,a){const c=a.currentTimeline.currentTime,f=u.options||{},b=f.delay?lr(f.delay):0;b&&(a.previousNode.type===O.Style||0==c&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Rr);let A=c;const l=a.invokeQuery(u.selector,u.originalSelector,u.limit,u.includeSelf,!!f.optional,a.errors);a.currentQueryTotal=l.length;let m=null;l.forEach((p,E)=>{a.currentQueryIndex=E;const _=a.createSubContext(u.options,p);b&&_.delayNextStep(b),p===a.element&&(m=_.currentTimeline),U(this,u.animation,_),_.currentTimeline.applyStylesToKeyframe(),A=Math.max(A,_.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(A),m&&(a.currentTimeline.mergeTimelineCollectedStyles(m),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=u}visitStagger(u,a){const c=a.parentContext,f=a.currentTimeline,b=u.timings,A=Math.abs(b.duration),l=A*(a.currentQueryTotal-1);let m=A*a.currentQueryIndex;switch(b.duration<0?"reverse":b.easing){case"reverse":m=l-m;break;case"full":m=c.currentStaggerTime}const E=a.currentTimeline;m&&E.delayNextStep(m);const _=E.currentTime;U(this,u.animation,a),a.previousNode=u,c.currentStaggerTime=f.currentTime-_+(f.startTime-c.currentTimeline.startTime)}}const Rr={};class is{constructor(u,a,c,f,b,A,l,m){this._driver=u,this.element=a,this.subInstructions=c,this._enterClassName=f,this._leaveClassName=b,this.errors=A,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Rr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new pr(this._driver,a,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(u,a){if(!u)return;const c=u;let f=this.options;null!=c.duration&&(f.duration=lr(c.duration)),null!=c.delay&&(f.delay=lr(c.delay));const b=c.params;if(b){let A=f.params;A||(A=this.options.params={}),Object.keys(b).forEach(l=>{(!a||!A.hasOwnProperty(l))&&(A[l]=Cr(b[l],A,this.errors))})}}_copyOptions(){const u={};if(this.options){const a=this.options.params;if(a){const c=u.params={};Object.keys(a).forEach(f=>{c[f]=a[f]})}}return u}createSubContext(u=null,a,c){const f=a||this.element,b=new is(this._driver,f,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(f,c||0));return b.previousNode=this.previousNode,b.currentAnimateTimings=this.currentAnimateTimings,b.options=this._copyOptions(),b.updateOptions(u),b.currentQueryIndex=this.currentQueryIndex,b.currentQueryTotal=this.currentQueryTotal,b.parentContext=this,this.subContextCount++,b}transformIntoNewTimeline(u){return this.previousNode=Rr,this.currentTimeline=this.currentTimeline.fork(this.element,u),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(u,a,c){const f={duration:a??u.duration,delay:this.currentTimeline.currentTime+(c??0)+u.delay,easing:""},b=new lo(this._driver,u.element,u.keyframes,u.preStyleProps,u.postStyleProps,f,u.stretchStartingKeyframe);return this.timelines.push(b),f}incrementTime(u){this.currentTimeline.forwardTime(this.currentTimeline.duration+u)}delayNextStep(u){u>0&&this.currentTimeline.delayNextStep(u)}invokeQuery(u,a,c,f,b,A){let l=[];if(f&&l.push(this.element),u.length>0){u=(u=u.replace(Io,"."+this._enterClassName)).replace(rr,"."+this._leaveClassName);let p=this._driver.query(this.element,u,1!=c);0!==c&&(p=c<0?p.slice(p.length+c,p.length):p.slice(0,c)),l.push(...p)}return!b&&0==l.length&&A.push(function ar(){return new e.wOt(3014,!1)}()),l}}class pr{constructor(u,a,c,f){this._driver=u,this.element=a,this.startTime=c,this._elementTimelineStylesLookup=f,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(u){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+u),a&&this.snapshotCurrentStyles()):this.startTime+=u}fork(u,a){return this.applyStylesToKeyframe(),new pr(this._driver,u,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(u){this.applyStylesToKeyframe(),this.duration=u,this._loadKeyframe()}_updateStyle(u,a){this._localTimelineStyles.set(u,a),this._globalTimelineStyles.set(u,a),this._styleSummary.set(u,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(u){u&&this._previousKeyframe.set("easing",u);for(let[a,c]of this._globalTimelineStyles)this._backFill.set(a,c||R),this._currentKeyframe.set(a,R);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(u,a,c,f){a&&this._previousKeyframe.set("easing",a);const b=f&&f.params||{},A=function Ir(y,u){const a=new Map;let c;return y.forEach(f=>{if("*"===f){c??=u.keys();for(let b of c)a.set(b,R)}else for(let[b,A]of f)a.set(b,A)}),a}(u,this._globalTimelineStyles);for(let[l,m]of A){const p=Cr(m,b,c);this._pendingStyles.set(l,p),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??R),this._updateStyle(l,p)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((u,a)=>{this._currentKeyframe.set(a,u)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((u,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,u)}))}snapshotCurrentStyles(){for(let[u,a]of this._localTimelineStyles)this._pendingStyles.set(u,a),this._updateStyle(u,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const u=[];for(let a in this._currentKeyframe)u.push(a);return u}mergeTimelineCollectedStyles(u){u._styleSummary.forEach((a,c)=>{const f=this._styleSummary.get(c);(!f||a.time>f.time)&&this._updateStyle(c,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const u=new Set,a=new Set,c=1===this._keyframes.size&&0===this.duration;let f=[];this._keyframes.forEach((l,m)=>{const p=new Map([...this._backFill,...l]);p.forEach((E,_)=>{"!"===E?u.add(_):E===R&&a.add(_)}),c||p.set("offset",m/this.duration),f.push(p)});const b=[...u.values()],A=[...a.values()];if(c){const l=f[0],m=new Map(l);l.set("offset",0),m.set("offset",1),f=[l,m]}return yi(this.element,f,b,A,this.duration,this.startTime,this.easing,!1)}}class lo extends pr{constructor(u,a,c,f,b,A,l=!1){super(u,a,A.delay),this.keyframes=c,this.preStyleProps=f,this.postStyleProps=b,this._stretchStartingKeyframe=l,this.timings={duration:A.duration,delay:A.delay,easing:A.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let u=this.keyframes,{delay:a,duration:c,easing:f}=this.timings;if(this._stretchStartingKeyframe&&a){const b=[],A=c+a,l=a/A,m=new Map(u[0]);m.set("offset",0),b.push(m);const p=new Map(u[0]);p.set("offset",vn(l)),b.push(p);const E=u.length-1;for(let _=1;_<=E;_++){let x=new Map(u[_]);const S=x.get("offset");x.set("offset",vn((a+S*c)/A)),b.push(x)}c=A,a=0,f="",u=b}return yi(this.element,u,this.preStyleProps,this.postStyleProps,c,a,f,!0)}}function vn(y,u=3){const a=Math.pow(10,u-1);return Math.round(y*a)/a}function Ze(y,u,a,c,f,b,A,l,m,p,E,_,x){return{type:0,element:y,triggerName:u,isRemovalTransition:f,fromState:a,fromStyles:b,toState:c,toStyles:A,timelines:l,queriedElements:m,preStyleProps:p,postStyleProps:E,totalTime:_,errors:x}}const as={};class Ds{constructor(u,a,c){this._triggerName=u,this.ast=a,this._stateStyles=c}match(u,a,c,f){return function zr(y,u,a,c,f){return y.some(b=>b(u,a,c,f))}(this.ast.matchers,u,a,c,f)}buildStyles(u,a,c){let f=this._stateStyles.get("*");return void 0!==u&&(f=this._stateStyles.get(u?.toString())||f),f?f.buildStyles(a,c):new Map}build(u,a,c,f,b,A,l,m,p,E){const _=[],x=this.ast.options&&this.ast.options.params||as,H=this.buildStyles(c,l&&l.params||as,_),B=m&&m.params||as,ve=this.buildStyles(f,B,_),Le=new Set,He=new Map,dt=new Map,rn="void"===f,xn={params:Ws(B,x),delay:this.ast.options?.delay},Gn=E?[]:uo(u,a,this.ast.animation,b,A,H,ve,xn,p,_);let gn=0;return Gn.forEach(Wn=>{gn=Math.max(Wn.duration+Wn.delay,gn)}),_.length?Ze(a,this._triggerName,c,f,rn,H,ve,[],[],He,dt,gn,_):(Gn.forEach(Wn=>{const _o=Wn.element,Ls=ct(He,_o,new Set);Wn.preStyleProps.forEach(Bo=>Ls.add(Bo));const Au=ct(dt,_o,new Set);Wn.postStyleProps.forEach(Bo=>Au.add(Bo)),_o!==a&&Le.add(_o)}),Ze(a,this._triggerName,c,f,rn,H,ve,Gn,[...Le.values()],He,dt,gn))}}function Ws(y,u){const a={...u};return Object.entries(y).forEach(([c,f])=>{null!=f&&(a[c]=f)}),a}class fo{constructor(u,a,c){this.styles=u,this.defaultParams=a,this.normalizer=c}buildStyles(u,a){const c=new Map,f=Ws(u,this.defaultParams);return this.styles.styles.forEach(b=>{"string"!=typeof b&&b.forEach((A,l)=>{A&&(A=Cr(A,f,a));const m=this.normalizer.normalizePropertyName(l,a);A=this.normalizer.normalizeStyleValue(l,m,A,a),c.set(l,A)})}),c}}class Ks{constructor(u,a,c){this.name=u,this.ast=a,this._normalizer=c,this.transitionFactories=[],this.states=new Map,a.states.forEach(f=>{this.states.set(f.name,new fo(f.style,f.options&&f.options.params||{},c))}),Is(this.states,"true","1"),Is(this.states,"false","0"),a.transitions.forEach(f=>{this.transitionFactories.push(new Ds(u,f,this.states))}),this.fallbackTransition=function ki(y,u){return new Ds(y,{type:O.Transition,animation:{type:O.Sequence,steps:[],options:null},matchers:[(A,l)=>!0],options:null,queryCount:0,depCount:0},u)}(u,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(u,a,c,f){return this.transitionFactories.find(A=>A.match(u,a,c,f))||null}matchStyles(u,a,c){return this.fallbackTransition.buildStyles(u,a,c)}}function Is(y,u,a){y.has(u)?y.has(a)||y.set(a,y.get(u)):y.has(a)&&y.set(u,y.get(a))}const Mo=new co;class Mr{constructor(u,a,c){this.bodyNode=u,this._driver=a,this._normalizer=c,this._animations=new Map,this._playersById=new Map,this.players=[]}register(u,a){const c=[],b=ks(this._driver,a,c,[]);if(c.length)throw function br(){return new e.wOt(3503,!1)}();this._animations.set(u,b)}_buildPlayer(u,a,c){const f=u.element,b=Zt(this._normalizer,u.keyframes,a,c);return this._driver.animate(f,b,u.duration,u.delay,u.easing,[],!0)}create(u,a,c={}){const f=[],b=this._animations.get(u);let A;const l=new Map;if(b?(A=uo(this._driver,a,b,Co,ys,new Map,new Map,c,Mo,f),A.forEach(E=>{const _=ct(l,E.element,new Map);E.postStyleProps.forEach(x=>_.set(x,null))})):(f.push(function qr(){return new e.wOt(3300,!1)}()),A=[]),f.length)throw function Tr(){return new e.wOt(3504,!1)}();l.forEach((E,_)=>{E.forEach((x,S)=>{E.set(S,this._driver.computeStyle(_,S,R))})});const p=On(A.map(E=>{const _=l.get(E.element);return this._buildPlayer(E,new Map,_)}));return this._playersById.set(u,p),p.onDestroy(()=>this.destroy(u)),this.players.push(p),p}destroy(u){const a=this._getPlayer(u);a.destroy(),this._playersById.delete(u);const c=this.players.indexOf(a);c>=0&&this.players.splice(c,1)}_getPlayer(u){const a=this._playersById.get(u);if(!a)throw function Fi(){return new e.wOt(3301,!1)}();return a}listen(u,a,c,f){const b=jr(a,"","","");return qt(this._getPlayer(u),c,b,f),()=>{}}command(u,a,c,f){if("register"==c)return void this.register(u,f[0]);if("create"==c)return void this.create(u,a,f[0]||{});const b=this._getPlayer(u);switch(c){case"play":b.play();break;case"pause":b.pause();break;case"reset":b.reset();break;case"restart":b.restart();break;case"finish":b.finish();break;case"init":b.init();break;case"setPosition":b.setPosition(parseFloat(f[0]));break;case"destroy":this.destroy(u)}}}const Wo="ng-animate-queued",Nr="ng-animate-disabled",Ms=[],Ci={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ko={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ar="__ng_removed";class Nn{get params(){return this.options.params}constructor(u,a=""){this.namespaceId=a;const c=u&&u.hasOwnProperty("value");if(this.value=function Lr(y){return y??null}(c?u.value:u),c){const{value:b,...A}=u;this.options=A}else this.options={};this.options.params||(this.options.params={})}absorbOptions(u){const a=u.params;if(a){const c=this.options.params;Object.keys(a).forEach(f=>{null==c[f]&&(c[f]=a[f])})}}}const As="void",xs=new Nn(As);class Hi{constructor(u,a,c){this.id=u,this.hostElement=a,this._engine=c,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+u,In(a,this._hostClassName)}listen(u,a,c,f){if(!this._triggers.has(a))throw function _r(){return new e.wOt(3302,!1)}();if(null==c||0==c.length)throw function St(){return new e.wOt(3303,!1)}();if(!function So(y){return"start"==y||"done"==y}(c))throw function Et(){return new e.wOt(3400,!1)}();const b=ct(this._elementListeners,u,[]),A={name:a,phase:c,callback:f};b.push(A);const l=ct(this._engine.statesByElement,u,new Map);return l.has(a)||(In(u,kn),In(u,kn+"-"+a),l.set(a,xs)),()=>{this._engine.afterFlush(()=>{const m=b.indexOf(A);m>=0&&b.splice(m,1),this._triggers.has(a)||l.delete(a)})}}register(u,a){return!this._triggers.has(u)&&(this._triggers.set(u,a),!0)}_getTrigger(u){const a=this._triggers.get(u);if(!a)throw function $r(){return new e.wOt(3401,!1)}();return a}trigger(u,a,c,f=!0){const b=this._getTrigger(a),A=new fr(this.id,a,u);let l=this._engine.statesByElement.get(u);l||(In(u,kn),In(u,kn+"-"+a),this._engine.statesByElement.set(u,l=new Map));let m=l.get(a);const p=new Nn(c,this.id);if(!(c&&c.hasOwnProperty("value"))&&m&&p.absorbOptions(m.options),l.set(a,p),m||(m=xs),p.value!==As&&m.value===p.value){if(!function Js(y,u){const a=Object.keys(y),c=Object.keys(u);if(a.length!=c.length)return!1;for(let f=0;f<a.length;f++){const b=a[f];if(!u.hasOwnProperty(b)||y[b]!==u[b])return!1}return!0}(m.params,p.params)){const B=[],ve=b.matchStyles(m.value,m.params,B),Le=b.matchStyles(p.value,p.params,B);B.length?this._engine.reportError(B):this._engine.afterFlush(()=>{kr(u,ve),Rn(u,Le)})}return}const x=ct(this._engine.playersByElement,u,[]);x.forEach(B=>{B.namespaceId==this.id&&B.triggerName==a&&B.queued&&B.destroy()});let S=b.matchTransition(m.value,p.value,u,p.params),H=!1;if(!S){if(!f)return;S=b.fallbackTransition,H=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:a,transition:S,fromState:m,toState:p,player:A,isFallbackTransition:H}),H||(In(u,Wo),A.onStart(()=>{sr(u,Wo)})),A.onDone(()=>{let B=this.players.indexOf(A);B>=0&&this.players.splice(B,1);const ve=this._engine.playersByElement.get(u);if(ve){let Le=ve.indexOf(A);Le>=0&&ve.splice(Le,1)}}),this.players.push(A),x.push(A),A}deregister(u){this._triggers.delete(u),this._engine.statesByElement.forEach(a=>a.delete(u)),this._elementListeners.forEach((a,c)=>{this._elementListeners.set(c,a.filter(f=>f.name!=u))})}clearElementCache(u){this._engine.statesByElement.delete(u),this._elementListeners.delete(u);const a=this._engine.playersByElement.get(u);a&&(a.forEach(c=>c.destroy()),this._engine.playersByElement.delete(u))}_signalRemovalForInnerTriggers(u,a){const c=this._engine.driver.query(u,rt,!0);c.forEach(f=>{if(f[Ar])return;const b=this._engine.fetchNamespacesByElement(f);b.size?b.forEach(A=>A.triggerLeaveAnimation(f,a,!1,!0)):this.clearElementCache(f)}),this._engine.afterFlushAnimationsDone(()=>c.forEach(f=>this.clearElementCache(f)))}triggerLeaveAnimation(u,a,c,f){const b=this._engine.statesByElement.get(u),A=new Map;if(b){const l=[];if(b.forEach((m,p)=>{if(A.set(p,m.value),this._triggers.has(p)){const E=this.trigger(u,p,As,f);E&&l.push(E)}}),l.length)return this._engine.markElementAsRemoved(this.id,u,!0,a,A),c&&On(l).onDone(()=>this._engine.processLeaveNode(u)),!0}return!1}prepareLeaveAnimationListeners(u){const a=this._elementListeners.get(u),c=this._engine.statesByElement.get(u);if(a&&c){const f=new Set;a.forEach(b=>{const A=b.name;if(f.has(A))return;f.add(A);const m=this._triggers.get(A).fallbackTransition,p=c.get(A)||xs,E=new Nn(As),_=new fr(this.id,A,u);this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:A,transition:m,fromState:p,toState:E,player:_,isFallbackTransition:!0})})}}removeNode(u,a){const c=this._engine;if(u.childElementCount&&this._signalRemovalForInnerTriggers(u,a),this.triggerLeaveAnimation(u,a,!0))return;let f=!1;if(c.totalAnimations){const b=c.players.length?c.playersByQueriedElement.get(u):[];if(b&&b.length)f=!0;else{let A=u;for(;A=A.parentNode;)if(c.statesByElement.get(A)){f=!0;break}}}if(this.prepareLeaveAnimationListeners(u),f)c.markElementAsRemoved(this.id,u,!1,a);else{const b=u[Ar];(!b||b===Ci)&&(c.afterFlush(()=>this.clearElementCache(u)),c.destroyInnerAnimations(u),c._onRemovalComplete(u,a))}}insertNode(u,a){In(u,this._hostClassName)}drainQueuedTransitions(u){const a=[];return this._queue.forEach(c=>{const f=c.player;if(f.destroyed)return;const b=c.element,A=this._elementListeners.get(b);A&&A.forEach(l=>{if(l.name==c.triggerName){const m=jr(b,c.triggerName,c.fromState.value,c.toState.value);m._data=u,qt(c.player,l.phase,m,l.callback)}}),f.markedForDestroy?this._engine.afterFlush(()=>{f.destroy()}):a.push(c)}),this._queue=[],a.sort((c,f)=>{const b=c.transition.ast.depCount,A=f.transition.ast.depCount;return 0==b||0==A?b-A:this._engine.driver.containsElement(c.element,f.element)?1:-1})}destroy(u){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,u)}}class Di{_onRemovalComplete(u,a){this.onRemovalComplete(u,a)}constructor(u,a,c){this.bodyNode=u,this.driver=a,this._normalizer=c,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(f,b)=>{}}get queuedPlayers(){const u=[];return this._namespaceList.forEach(a=>{a.players.forEach(c=>{c.queued&&u.push(c)})}),u}createNamespace(u,a){const c=new Hi(u,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(c,a):(this.newHostElements.set(a,c),this.collectEnterElement(a)),this._namespaceLookup[u]=c}_balanceNamespaceList(u,a){const c=this._namespaceList,f=this.namespacesByHostElement;if(c.length-1>=0){let A=!1,l=this.driver.getParentElement(a);for(;l;){const m=f.get(l);if(m){const p=c.indexOf(m);c.splice(p+1,0,u),A=!0;break}l=this.driver.getParentElement(l)}A||c.unshift(u)}else c.push(u);return f.set(a,u),u}register(u,a){let c=this._namespaceLookup[u];return c||(c=this.createNamespace(u,a)),c}registerTrigger(u,a,c){let f=this._namespaceLookup[u];f&&f.register(a,c)&&this.totalAnimations++}destroy(u,a){u&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const c=this._fetchNamespace(u);this.namespacesByHostElement.delete(c.hostElement);const f=this._namespaceList.indexOf(c);f>=0&&this._namespaceList.splice(f,1),c.destroy(a),delete this._namespaceLookup[u]}))}_fetchNamespace(u){return this._namespaceLookup[u]}fetchNamespacesByElement(u){const a=new Set,c=this.statesByElement.get(u);if(c)for(let f of c.values())if(f.namespaceId){const b=this._fetchNamespace(f.namespaceId);b&&a.add(b)}return a}trigger(u,a,c,f){if(us(a)){const b=this._fetchNamespace(u);if(b)return b.trigger(a,c,f),!0}return!1}insertNode(u,a,c,f){if(!us(a))return;const b=a[Ar];if(b&&b.setForRemoval){b.setForRemoval=!1,b.setForMove=!0;const A=this.collectedLeaveElements.indexOf(a);A>=0&&this.collectedLeaveElements.splice(A,1)}if(u){const A=this._fetchNamespace(u);A&&A.insertNode(a,c)}f&&this.collectEnterElement(a)}collectEnterElement(u){this.collectedEnterElements.push(u)}markElementAsDisabled(u,a){a?this.disabledNodes.has(u)||(this.disabledNodes.add(u),In(u,Nr)):this.disabledNodes.has(u)&&(this.disabledNodes.delete(u),sr(u,Nr))}removeNode(u,a,c){if(us(a)){const f=u?this._fetchNamespace(u):null;f?f.removeNode(a,c):this.markElementAsRemoved(u,a,!1,c);const b=this.namespacesByHostElement.get(a);b&&b.id!==u&&b.removeNode(a,c)}else this._onRemovalComplete(a,c)}markElementAsRemoved(u,a,c,f,b){this.collectedLeaveElements.push(a),a[Ar]={namespaceId:u,setForRemoval:f,hasAnimation:c,removedBeforeQueried:!1,previousTriggersValues:b}}listen(u,a,c,f,b){return us(a)?this._fetchNamespace(u).listen(a,c,f,b):()=>{}}_buildInstruction(u,a,c,f,b){return u.transition.build(this.driver,u.element,u.fromState.value,u.toState.value,c,f,u.fromState.options,u.toState.options,a,b)}destroyInnerAnimations(u){let a=this.driver.query(u,rt,!0);a.forEach(c=>this.destroyActiveAnimationsForElement(c)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(u,oo,!0),a.forEach(c=>this.finishActiveQueriedAnimationOnElement(c)))}destroyActiveAnimationsForElement(u){const a=this.playersByElement.get(u);a&&a.forEach(c=>{c.queued?c.markedForDestroy=!0:c.destroy()})}finishActiveQueriedAnimationOnElement(u){const a=this.playersByQueriedElement.get(u);a&&a.forEach(c=>c.finish())}whenRenderingDone(){return new Promise(u=>{if(this.players.length)return On(this.players).onDone(()=>u());u()})}processLeaveNode(u){const a=u[Ar];if(a&&a.setForRemoval){if(u[Ar]=Ci,a.namespaceId){this.destroyInnerAnimations(u);const c=this._fetchNamespace(a.namespaceId);c&&c.clearElementCache(u)}this._onRemovalComplete(u,a.setForRemoval)}u.classList?.contains(Nr)&&this.markElementAsDisabled(u,!1),this.driver.query(u,".ng-animate-disabled",!0).forEach(c=>{this.markElementAsDisabled(c,!1)})}flush(u=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((c,f)=>this._balanceNamespaceList(c,f)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let c=0;c<this.collectedEnterElements.length;c++)In(this.collectedEnterElements[c],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const c=[];try{a=this._flushAnimations(c,u)}finally{for(let f=0;f<c.length;f++)c[f]()}}else for(let c=0;c<this.collectedLeaveElements.length;c++)this.processLeaveNode(this.collectedLeaveElements[c]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(c=>c()),this._flushFns=[],this._whenQuietFns.length){const c=this._whenQuietFns;this._whenQuietFns=[],a.length?On(a).onDone(()=>{c.forEach(f=>f())}):c.forEach(f=>f())}}reportError(u){throw function Kn(){return new e.wOt(3402,!1)}()}_flushAnimations(u,a){const c=new co,f=[],b=new Map,A=[],l=new Map,m=new Map,p=new Map,E=new Set;this.disabledNodes.forEach(nt=>{E.add(nt);const Ue=this.driver.query(nt,".ng-animate-queued",!0);for(let ut=0;ut<Ue.length;ut++)E.add(Ue[ut])});const _=this.bodyNode,x=Array.from(this.statesByElement.keys()),S=hr(x,this.collectedEnterElements),H=new Map;let B=0;S.forEach((nt,Ue)=>{const ut=Co+B++;H.set(Ue,ut),nt.forEach(Bt=>In(Bt,ut))});const ve=[],Le=new Set,He=new Set;for(let nt=0;nt<this.collectedLeaveElements.length;nt++){const Ue=this.collectedLeaveElements[nt],ut=Ue[Ar];ut&&ut.setForRemoval&&(ve.push(Ue),Le.add(Ue),ut.hasAnimation?this.driver.query(Ue,".ng-star-inserted",!0).forEach(Bt=>Le.add(Bt)):He.add(Ue))}const dt=new Map,rn=hr(x,Array.from(Le));rn.forEach((nt,Ue)=>{const ut=ys+B++;dt.set(Ue,ut),nt.forEach(Bt=>In(Bt,ut))}),u.push(()=>{S.forEach((nt,Ue)=>{const ut=H.get(Ue);nt.forEach(Bt=>sr(Bt,ut))}),rn.forEach((nt,Ue)=>{const ut=dt.get(Ue);nt.forEach(Bt=>sr(Bt,ut))}),ve.forEach(nt=>{this.processLeaveNode(nt)})});const xn=[],Gn=[];for(let nt=this._namespaceList.length-1;nt>=0;nt--)this._namespaceList[nt].drainQueuedTransitions(a).forEach(ut=>{const Bt=ut.player,sn=ut.element;if(xn.push(Bt),this.collectedEnterElements.length){const Sr=sn[Ar];if(Sr&&Sr.setForMove){if(Sr.previousTriggersValues&&Sr.previousTriggersValues.has(ut.triggerName)){const ir=Sr.previousTriggersValues.get(ut.triggerName),ms=this.statesByElement.get(ut.element);if(ms&&ms.has(ut.triggerName)){const ma=ms.get(ut.triggerName);ma.value=ir,ms.set(ut.triggerName,ma)}}return void Bt.destroy()}}const wo=!_||!this.driver.containsElement(_,sn),Er=dt.get(sn),Yr=H.get(sn),Wt=this._buildInstruction(ut,c,Yr,Er,wo);if(Wt.errors&&Wt.errors.length)return void Gn.push(Wt);if(wo)return Bt.onStart(()=>kr(sn,Wt.fromStyles)),Bt.onDestroy(()=>Rn(sn,Wt.toStyles)),void f.push(Bt);if(ut.isFallbackTransition)return Bt.onStart(()=>kr(sn,Wt.fromStyles)),Bt.onDestroy(()=>Rn(sn,Wt.toStyles)),void f.push(Bt);const xu=[];Wt.timelines.forEach(Sr=>{Sr.stretchStartingKeyframe=!0,this.disabledNodes.has(Sr.element)||xu.push(Sr)}),Wt.timelines=xu,c.append(sn,Wt.timelines),A.push({instruction:Wt,player:Bt,element:sn}),Wt.queriedElements.forEach(Sr=>ct(l,Sr,[]).push(Bt)),Wt.preStyleProps.forEach((Sr,ir)=>{if(Sr.size){let ms=m.get(ir);ms||m.set(ir,ms=new Set),Sr.forEach((ma,Na)=>ms.add(Na))}}),Wt.postStyleProps.forEach((Sr,ir)=>{let ms=p.get(ir);ms||p.set(ir,ms=new Set),Sr.forEach((ma,Na)=>ms.add(Na))})});if(Gn.length){const nt=[];Gn.forEach(Ue=>{nt.push(function Tt(){return new e.wOt(3505,!1)}())}),xn.forEach(Ue=>Ue.destroy()),this.reportError(nt)}const gn=new Map,Wn=new Map;A.forEach(nt=>{const Ue=nt.element;c.has(Ue)&&(Wn.set(Ue,Ue),this._beforeAnimationBuild(nt.player.namespaceId,nt.instruction,gn))}),f.forEach(nt=>{const Ue=nt.element;this._getPreviousPlayers(Ue,!1,nt.namespaceId,nt.triggerName,null).forEach(Bt=>{ct(gn,Ue,[]).push(Bt),Bt.destroy()})});const _o=ve.filter(nt=>Jo(nt,m,p)),Ls=new Map;Gr(Ls,this.driver,He,p,R).forEach(nt=>{Jo(nt,m,p)&&_o.push(nt)});const Bo=new Map;S.forEach((nt,Ue)=>{Gr(Bo,this.driver,new Set(nt),m,"!")}),_o.forEach(nt=>{const Ue=Ls.get(nt),ut=Bo.get(nt);Ls.set(nt,new Map([...Ue?.entries()??[],...ut?.entries()??[]]))});const kc=[],to=[],Cc={};A.forEach(nt=>{const{element:Ue,player:ut,instruction:Bt}=nt;if(c.has(Ue)){if(E.has(Ue))return ut.onDestroy(()=>Rn(Ue,Bt.toStyles)),ut.disabled=!0,ut.overrideTotalTime(Bt.totalTime),void f.push(ut);let sn=Cc;if(Wn.size>1){let Er=Ue;const Yr=[];for(;Er=Er.parentNode;){const Wt=Wn.get(Er);if(Wt){sn=Wt;break}Yr.push(Er)}Yr.forEach(Wt=>Wn.set(Wt,sn))}const wo=this._buildAnimation(ut.namespaceId,Bt,gn,b,Bo,Ls);if(ut.setRealPlayer(wo),sn===Cc)kc.push(ut);else{const Er=this.playersByElement.get(sn);Er&&Er.length&&(ut.parentPlayer=On(Er)),f.push(ut)}}else kr(Ue,Bt.fromStyles),ut.onDestroy(()=>Rn(Ue,Bt.toStyles)),to.push(ut),E.has(Ue)&&f.push(ut)}),to.forEach(nt=>{const Ue=b.get(nt.element);if(Ue&&Ue.length){const ut=On(Ue);nt.setRealPlayer(ut)}}),f.forEach(nt=>{nt.parentPlayer?nt.syncPlayerEvents(nt.parentPlayer):nt.destroy()});for(let nt=0;nt<ve.length;nt++){const Ue=ve[nt],ut=Ue[Ar];if(sr(Ue,ys),ut&&ut.hasAnimation)continue;let Bt=[];if(l.size){let wo=l.get(Ue);wo&&wo.length&&Bt.push(...wo);let Er=this.driver.query(Ue,oo,!0);for(let Yr=0;Yr<Er.length;Yr++){let Wt=l.get(Er[Yr]);Wt&&Wt.length&&Bt.push(...Wt)}}const sn=Bt.filter(wo=>!wo.destroyed);sn.length?Wr(this,Ue,sn):this.processLeaveNode(Ue)}return ve.length=0,kc.forEach(nt=>{this.players.push(nt),nt.onDone(()=>{nt.destroy();const Ue=this.players.indexOf(nt);this.players.splice(Ue,1)}),nt.play()}),kc}afterFlush(u){this._flushFns.push(u)}afterFlushAnimationsDone(u){this._whenQuietFns.push(u)}_getPreviousPlayers(u,a,c,f,b){let A=[];if(a){const l=this.playersByQueriedElement.get(u);l&&(A=l)}else{const l=this.playersByElement.get(u);if(l){const m=!b||b==As;l.forEach(p=>{p.queued||!m&&p.triggerName!=f||A.push(p)})}}return(c||f)&&(A=A.filter(l=>!(c&&c!=l.namespaceId||f&&f!=l.triggerName))),A}_beforeAnimationBuild(u,a,c){const b=a.element,A=a.isRemovalTransition?void 0:u,l=a.isRemovalTransition?void 0:a.triggerName;for(const m of a.timelines){const p=m.element,E=p!==b,_=ct(c,p,[]);this._getPreviousPlayers(p,E,A,l,a.toState).forEach(S=>{const H=S.getRealPlayer();H.beforeDestroy&&H.beforeDestroy(),S.destroy(),_.push(S)})}kr(b,a.fromStyles)}_buildAnimation(u,a,c,f,b,A){const l=a.triggerName,m=a.element,p=[],E=new Set,_=new Set,x=a.timelines.map(H=>{const B=H.element;E.add(B);const ve=B[Ar];if(ve&&ve.removedBeforeQueried)return new Ve(H.duration,H.delay);const Le=B!==m,He=function Ss(y){const u=[];return mo(y,u),u}((c.get(B)||Ms).map(gn=>gn.getRealPlayer())).filter(gn=>!!gn.element&&gn.element===B),dt=b.get(B),rn=A.get(B),xn=Zt(this._normalizer,H.keyframes,dt,rn),Gn=this._buildPlayer(H,xn,He);if(H.subTimeline&&f&&_.add(B),Le){const gn=new fr(u,l,B);gn.setRealPlayer(Gn),p.push(gn)}return Gn});p.forEach(H=>{ct(this.playersByQueriedElement,H.element,[]).push(H),H.onDone(()=>function Lt(y,u,a){let c=y.get(u);if(c){if(c.length){const f=c.indexOf(a);c.splice(f,1)}0==c.length&&y.delete(u)}return c}(this.playersByQueriedElement,H.element,H))}),E.forEach(H=>In(H,ur));const S=On(x);return S.onDestroy(()=>{E.forEach(H=>sr(H,ur)),Rn(m,a.toStyles)}),_.forEach(H=>{ct(f,H,[]).push(S)}),S}_buildPlayer(u,a,c){return a.length>0?this.driver.animate(u.element,a,u.duration,u.delay,u.easing,c):new Ve(u.duration,u.delay)}}class fr{constructor(u,a,c){this.namespaceId=u,this.triggerName=a,this.element=c,this._player=new Ve,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(u){this._containsRealPlayer||(this._player=u,this._queuedCallbacks.forEach((a,c)=>{a.forEach(f=>qt(u,c,void 0,f))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(u.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(u){this.totalTime=u}syncPlayerEvents(u){const a=this._player;a.triggerCallback&&u.onStart(()=>a.triggerCallback("start")),u.onDone(()=>this.finish()),u.onDestroy(()=>this.destroy())}_queueEvent(u,a){ct(this._queuedCallbacks,u,[]).push(a)}onDone(u){this.queued&&this._queueEvent("done",u),this._player.onDone(u)}onStart(u){this.queued&&this._queueEvent("start",u),this._player.onStart(u)}onDestroy(u){this.queued&&this._queueEvent("destroy",u),this._player.onDestroy(u)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(u){this.queued||this._player.setPosition(u)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(u){const a=this._player;a.triggerCallback&&a.triggerCallback(u)}}function us(y){return y&&1===y.nodeType}function ho(y,u){const a=y.style.display;return y.style.display=u??"none",a}function Gr(y,u,a,c,f){const b=[];a.forEach(m=>b.push(ho(m)));const A=[];c.forEach((m,p)=>{const E=new Map;m.forEach(_=>{const x=u.computeStyle(p,_,f);E.set(_,x),(!x||0==x.length)&&(p[Ar]=Ko,A.push(p))}),y.set(p,E)});let l=0;return a.forEach(m=>ho(m,b[l++])),A}function hr(y,u){const a=new Map;if(y.forEach(l=>a.set(l,[])),0==u.length)return a;const f=new Set(u),b=new Map;function A(l){if(!l)return 1;let m=b.get(l);if(m)return m;const p=l.parentNode;return m=a.has(p)?p:f.has(p)?1:A(p),b.set(l,m),m}return u.forEach(l=>{const m=A(l);1!==m&&a.get(m).push(l)}),a}function In(y,u){y.classList?.add(u)}function sr(y,u){y.classList?.remove(u)}function Wr(y,u,a){On(a).onDone(()=>y.processLeaveNode(u))}function mo(y,u){for(let a=0;a<y.length;a++){const c=y[a];c instanceof it?mo(c.players,u):u.push(c)}}function Jo(y,u,a){const c=a.get(y);if(!c)return!1;let f=u.get(y);return f?c.forEach(b=>f.add(b)):u.set(y,c),a.delete(y),!0}class Qs{constructor(u,a,c){this._driver=a,this._normalizer=c,this._triggerCache={},this.onRemovalComplete=(f,b)=>{},this._transitionEngine=new Di(u.body,a,c),this._timelineEngine=new Mr(u.body,a,c),this._transitionEngine.onRemovalComplete=(f,b)=>this.onRemovalComplete(f,b)}registerTrigger(u,a,c,f,b){const A=u+"-"+f;let l=this._triggerCache[A];if(!l){const m=[],E=ks(this._driver,b,m,[]);if(m.length)throw function jn(){return new e.wOt(3404,!1)}();l=function wi(y,u,a){return new Ks(y,u,a)}(f,E,this._normalizer),this._triggerCache[A]=l}this._transitionEngine.registerTrigger(a,f,l)}register(u,a){this._transitionEngine.register(u,a)}destroy(u,a){this._transitionEngine.destroy(u,a)}onInsert(u,a,c,f){this._transitionEngine.insertNode(u,a,c,f)}onRemove(u,a,c){this._transitionEngine.removeNode(u,a,c)}disableAnimations(u,a){this._transitionEngine.markElementAsDisabled(u,a)}process(u,a,c,f){if("@"==c.charAt(0)){const[b,A]=ns(c);this._timelineEngine.command(b,a,A,f)}else this._transitionEngine.trigger(u,a,c,f)}listen(u,a,c,f,b){if("@"==c.charAt(0)){const[A,l]=ns(c);return this._timelineEngine.listen(A,a,l,b)}return this._transitionEngine.listen(u,a,c,f,b)}flush(u=-1){this._transitionEngine.flush(u)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(u){this._transitionEngine.afterFlushAnimationsDone(u)}}class Kr{static#e=this.initialStylesByElement=new WeakMap;constructor(u,a,c){this._element=u,this._startStyles=a,this._endStyles=c,this._state=0;let f=Kr.initialStylesByElement.get(u);f||Kr.initialStylesByElement.set(u,f=new Map),this._initialStyles=f}start(){this._state<1&&(this._startStyles&&Rn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Rn(this._element,this._initialStyles),this._endStyles&&(Rn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Kr.initialStylesByElement.delete(this._element),this._startStyles&&(kr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(kr(this._element,this._endStyles),this._endStyles=null),Rn(this._element,this._initialStyles),this._state=3)}}function To(y){let u=null;return y.forEach((a,c)=>{(function Gt(y){return"display"===y||"position"===y})(c)&&(u=u||new Map,u.set(c,a))}),u}class Hn{constructor(u,a,c,f){this.element=u,this.keyframes=a,this.options=c,this._specialStyles=f,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=c.duration,this._delay=c.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const u=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,u,this.options),this._finalKeyframe=u.length?u[u.length-1]:new Map;const a=()=>this._onFinish();this.domPlayer.addEventListener("finish",a),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",a)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(u){const a=[];return u.forEach(c=>{a.push(Object.fromEntries(c))}),a}_triggerWebAnimation(u,a,c){return u.animate(this._convertKeyframesToObject(a),c)}onStart(u){this._originalOnStartFns.push(u),this._onStartFns.push(u)}onDone(u){this._originalOnDoneFns.push(u),this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(u=>u()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}setPosition(u){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=u*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const u=new Map;this.hasStarted()&&this._finalKeyframe.forEach((c,f)=>{"offset"!==f&&u.set(f,this._finished?c:ce(this.element,f))}),this.currentSnapshot=u}triggerCallback(u){const a="start"===u?this._onStartFns:this._onDoneFns;a.forEach(c=>c()),a.length=0}}class Qo{validateStyleProperty(u){return!0}validateAnimatableStyleProperty(u){return!0}containsElement(u,a){return Fe(u,a)}getParentElement(u){return Hr(u)}query(u,a,c){return $e(u,a,c)}computeStyle(u,a,c){return ce(u,a)}animate(u,a,c,f,b,A=[]){const m={duration:c,delay:f,fill:0==f?"both":"forwards"};b&&(m.easing=b);const p=new Map,E=A.filter(S=>S instanceof Hn);(function j(y,u){return 0===y||0===u})(c,f)&&E.forEach(S=>{S.currentSnapshot.forEach((H,B)=>p.set(B,H))});let _=function bs(y){return y.length?y[0]instanceof Map?y:y.map(u=>new Map(Object.entries(u))):[]}(a).map(S=>new Map(S));_=function q(y,u,a){if(a.size&&u.length){let c=u[0],f=[];if(a.forEach((b,A)=>{c.has(A)||f.push(A),c.set(A,b)}),f.length)for(let b=1;b<u.length;b++){let A=u[b];f.forEach(l=>A.set(l,ce(y,l)))}}return u}(u,_,p);const x=function zi(y,u){let a=null,c=null;return Array.isArray(u)&&u.length?(a=To(u[0]),u.length>1&&(c=To(u[u.length-1]))):u instanceof Map&&(a=To(u)),a||c?new Kr(y,a,c):null}(u,_);return new Hn(u,_,m,x)}}const Gi="@.disabled";class Wi{constructor(u,a,c,f){this.namespaceId=u,this.delegate=a,this.engine=c,this._onDestroy=f,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(u){this.delegate.destroyNode?.(u)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(u,a){return this.delegate.createElement(u,a)}createComment(u){return this.delegate.createComment(u)}createText(u){return this.delegate.createText(u)}appendChild(u,a){this.delegate.appendChild(u,a),this.engine.onInsert(this.namespaceId,a,u,!1)}insertBefore(u,a,c,f=!0){this.delegate.insertBefore(u,a,c),this.engine.onInsert(this.namespaceId,a,u,f)}removeChild(u,a,c){this.parentNode(a)&&this.engine.onRemove(this.namespaceId,a,this.delegate)}selectRootElement(u,a){return this.delegate.selectRootElement(u,a)}parentNode(u){return this.delegate.parentNode(u)}nextSibling(u){return this.delegate.nextSibling(u)}setAttribute(u,a,c,f){this.delegate.setAttribute(u,a,c,f)}removeAttribute(u,a,c){this.delegate.removeAttribute(u,a,c)}addClass(u,a){this.delegate.addClass(u,a)}removeClass(u,a){this.delegate.removeClass(u,a)}setStyle(u,a,c,f){this.delegate.setStyle(u,a,c,f)}removeStyle(u,a,c){this.delegate.removeStyle(u,a,c)}setProperty(u,a,c){"@"==a.charAt(0)&&a==Gi?this.disableAnimations(u,!!c):this.delegate.setProperty(u,a,c)}setValue(u,a){this.delegate.setValue(u,a)}listen(u,a,c){return this.delegate.listen(u,a,c)}disableAnimations(u,a){this.engine.disableAnimations(u,a)}}class Mi extends Wi{constructor(u,a,c,f,b){super(a,c,f,b),this.factory=u,this.namespaceId=a}setProperty(u,a,c){"@"==a.charAt(0)?"."==a.charAt(1)&&a==Gi?this.disableAnimations(u,c=void 0===c||!!c):this.engine.process(this.namespaceId,u,a.slice(1),c):this.delegate.setProperty(u,a,c)}listen(u,a,c){if("@"==a.charAt(0)){const f=function ua(y){switch(y){case"body":return document.body;case"document":return document;case"window":return window;default:return y}}(u);let b=a.slice(1),A="";return"@"!=b.charAt(0)&&([b,A]=function la(y){const u=y.indexOf(".");return[y.substring(0,u),y.slice(u+1)]}(b)),this.engine.listen(this.namespaceId,f,b,A,l=>{this.factory.scheduleListenerCallback(l._data||-1,c,l)})}return this.delegate.listen(u,a,c)}}class da{constructor(u,a,c){this.delegate=u,this.engine=a,this._zone=c,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,a.onRemovalComplete=(f,b)=>{b?.removeChild(null,f)}}createRenderer(u,a){const f=this.delegate.createRenderer(u,a);if(!u||!a?.data?.animation){const p=this._rendererCache;let E=p.get(f);return E||(E=new Wi("",f,this.engine,()=>p.delete(f)),p.set(f,E)),E}const b=a.id,A=a.id+"-"+this._currentId;this._currentId++,this.engine.register(A,u);const l=p=>{Array.isArray(p)?p.forEach(l):this.engine.registerTrigger(b,A,u,p.name,p)};return a.data.animation.forEach(l),new Mi(this,A,f,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(u,a,c){if(u>=0&&u<this._microtaskId)return void this._zone.run(()=>a(c));const f=this._animationCallbacksBuffer;0==f.length&&queueMicrotask(()=>{this._zone.run(()=>{f.forEach(b=>{const[A,l]=b;A(l)}),this._animationCallbacksBuffer=[]})}),f.push([a,c])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var xr=C(177);const mr=[{provide:Pn,useFactory:function go(){return new Se}},{provide:Qs,useClass:(()=>{class y extends Qs{constructor(a,c,f){super(a,c,f)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(c){return new(c||y)(e.KVO(xr.qQ),e.KVO(on),e.KVO(Pn))};static#t=this.\u0275prov=e.jDH({token:y,factory:y.\u0275fac})}return y})()},{provide:e._9s,useFactory:function ls(y,u,a){return new da(y,u,a)},deps:[g.B7,Qs,e.SKi]}],Xo=[{provide:on,useFactory:()=>new Qo},{provide:e.bc$,useValue:"BrowserAnimations"},...mr],Yo=[{provide:on,useClass:ft},{provide:e.bc$,useValue:"NoopAnimations"},...mr];let Ft=(()=>{class y{static withConfig(a){return{ngModule:y,providers:a.disableAnimations?Yo:Xo}}static#e=this.\u0275fac=function(c){return new(c||y)};static#t=this.\u0275mod=e.$C({type:y});static#n=this.\u0275inj=e.G2t({providers:Xo,imports:[g.Bb]})}return y})();var mt=C(685),jo=C(8750),Eo=C(1985),Fo=C(1397),Ai=C(7441),ds=C(8071),Ur=C(6450);const ei=["addListener","removeListener"],ti=["addEventListener","removeEventListener"],xi=["on","off"];function Ts(y,u,a,c){if((0,ds.T)(a)&&(c=a,a=void 0),c)return Ts(y,u,a).pipe((0,Ur.I)(c));const[f,b]=function ni(y){return(0,ds.T)(y.addEventListener)&&(0,ds.T)(y.removeEventListener)}(y)?ti.map(A=>l=>y[A](u,l,a)):function Si(y){return(0,ds.T)(y.addListener)&&(0,ds.T)(y.removeListener)}(y)?ei.map(pa(y,u)):function Ji(y){return(0,ds.T)(y.on)&&(0,ds.T)(y.off)}(y)?xi.map(pa(y,u)):[];if(!f&&(0,Ai.X)(y))return(0,Fo.Z)(A=>Ts(A,u,a))((0,jo.Tg)(y));if(!f)throw new TypeError("Invalid event target");return new Eo.c(A=>{const l=(...m)=>A.next(1<m.length?m:m[0]);return f(l),()=>b(l)})}function pa(y,u){return a=>c=>y[a](u,c)}var vo=C(5964),Ti=C(152);var Qi=C(3888),ri=C(9470);var ps=C(6697);const oi=["tocWrapper"];function hn(y,u){if(1&y){const a=e.RV6();e.j41(0,"li")(1,"a",3),e.bIt("click",function(f){const b=e.eBV(a).$implicit,A=e.XpG();return e.Njj(A.navigateToAnchor(f,b.elementRef))}),e.EFF(2),e.k0s()()}if(2&y){const a=u.$implicit,c=u.index,f=e.XpG();e.AVh("current",c===f.activeId),e.BMQ("id",a.id),e.R7$(),e.FCK("href","",f.currentURL(),"#",a.elementRef.id,"",e.B4B),e.R7$(),e.SpI(" ",a.textContent," ")}}let fs=(()=>{class y{cd;renderer;contentReference;headings=[];activeId;tocWrapper;isPositionFixed=!0;scrollTopOffset=100;scrollDebounceTime=10;scrollSubscription;timerSubscription;maxTopOffset;constructor(a,c){this.cd=a,this.renderer=c}ngOnInit(){this.scrollSubscription=Ts(window,"scroll").pipe((0,Ti.B)(this.scrollDebounceTime)).subscribe(()=>{this.findCurrentHeading(),this.checkViewportBoundaries()}),this.init(),this.updateOffsetTop()}ngOnChanges(){this.init(),this.updateOffsetTop()}ngOnDestroy(){this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.timerSubscription&&this.timerSubscription.unsubscribe()}init(){this.lookupHeadings(),this.findCurrentHeading(),this.findMaxTopOffset()}lookupHeadings(){if(!this.contentReference)return;const a=this.contentReference.querySelectorAll("h3, h4"),c=f=>{const b=f&&f.indexOf("#");return b>=0?f.slice(0,b):f};this.headings=Array.from(a).map(f=>({offsetTop:f.offsetTop,textContent:c(f.textContent),elementRef:f}))}updateOffsetTop(){this.timerSubscription=function ji(y=0,u,a=Qi.b){let c=-1;return null!=u&&((0,ri.m)(u)?a=u:c=u),new Eo.c(f=>{let b=function si(y){return y instanceof Date&&!isNaN(y)}(y)?+y-a.now():y;b<0&&(b=0);let A=0;return a.schedule(function(){f.closed||(f.next(A++),0<=c?this.schedule(void 0,c):f.complete())},b)})}(600,200).pipe((0,ps.s)(3)).subscribe(()=>this.init())}navigateToAnchor(a,c){c&&this.findCurrentHeading()}findCurrentHeading(){const c=f=>{const b=this.activeId!==f;this.activeId=f,b&&this.cd.markForCheck()};for(let f=0;f<this.headings.length;f++){if(this.headings.length-1===f)return c(f);if(this.headings[f+1].offsetTop>=window.pageYOffset+this.scrollTopOffset+15)return c(f)}}findMaxTopOffset(){if(!this.tocWrapper)return;const{nativeElement:a}=this.tocWrapper,c=document.querySelector(".page-wrapper");c&&a&&(this.maxTopOffset=c.scrollHeight-a.scrollHeight-this.scrollTopOffset)}currentURL(){return window.location.href.split("#")[0]}checkViewportBoundaries(){this.isPositionFixed=this.maxTopOffset>window.pageYOffset;const{nativeElement:a}=this.tocWrapper;this.isPositionFixed?(this.renderer.removeStyle(a,"top"),this.renderer.removeStyle(a,"position")):(this.renderer.setStyle(a,"top",this.maxTopOffset+150+"px"),this.renderer.setStyle(a,"position","absolute"))}trackById(a,c){return c.id}static \u0275fac=function(c){return new(c||y)(e.rXU(e.gRc),e.rXU(e.sFG))};static \u0275cmp=e.VBU({type:y,selectors:[["app-toc"]],viewQuery:function(c,f){if(1&c&&e.GBs(oi,7),2&c){let b;e.mGM(b=e.lsd())&&(f.tocWrapper=b.first)}},inputs:{contentReference:"contentReference",headings:"headings"},features:[e.OA$],decls:4,vars:2,consts:[["tocWrapper",""],["perfectScrollbar","",1,"toc-wrapper"],[3,"current",4,"ngFor","ngForOf","ngForTrackBy"],[3,"click","href"]],template:function(c,f){1&c&&(e.j41(0,"div",1,0)(2,"ul"),e.DNE(3,hn,3,7,"li",2),e.k0s()()),2&c&&(e.R7$(3),e.Y8G("ngForOf",f.headings)("ngForTrackBy",f.trackById))},dependencies:[xr.Sq],styles:['.transition[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast[_ngcontent-%COMP%]{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]:before, .clearfix[_ngcontent-%COMP%]:after{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.center-top[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%]{box-sizing:border-box}.toc-wrapper[_ngcontent-%COMP%]{width:250px;padding-left:45px;box-sizing:border-box;position:fixed;top:90px;right:20px;max-height:350px;max-height:calc(100vh - 350px)}@media print{.toc-wrapper[_ngcontent-%COMP%]{display:none}}.toc-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{position:relative;padding:0}.toc-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:10px;bottom:10px;width:2px;background:var(--background-4dp)}.toc-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block;position:relative;padding-left:30px;font-size:14px;line-height:24px;margin-bottom:6px}.toc-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#ea2845;background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}.toc-wrapper[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{color:#ea2845;background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent;font-weight:600}.toc-wrapper[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]:before{background:var(--primary-gradient);border-color:var(--primary-gradient);border-width:1px;left:-3px}.toc-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{border-radius:50%;transform:translateY(-50%);content:"";background:var(--background);border:2px solid var(--background-4dp);left:-4px;width:6px;height:6px;top:50%;display:inline-block;position:absolute}.toc-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type:before{top:auto;bottom:0}.toc-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color);font-weight:400}.toc-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ea2845;background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}.toc-wrapper[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:600;color:#ea2845;background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}'],changeDetection:0})}return y})();var yo=C(1844),fa=C(4599);function js(y,u){if(1&y){const a=e.RV6();e.j41(0,"span",2),e.bIt("click",function(){e.eBV(a);const f=e.XpG();return e.Njj(f.toggleTheme())}),e.EFF(1," light_mode "),e.k0s()}}function ii(y,u){if(1&y){const a=e.RV6();e.j41(0,"span",2),e.bIt("click",function(){e.eBV(a);const f=e.XpG();return e.Njj(f.toggleTheme())}),e.EFF(1," dark_mode "),e.k0s()}}let Qr=(()=>{class y{document;mediaMatcher;storageService;changeDetector;theme;constructor(a,c,f,b){this.document=a,this.mediaMatcher=c,this.storageService=f,this.changeDetector=b}ngOnInit(){const a=this.mediaMatcher.matchMedia("(prefers-color-scheme: dark)");a.onchange=({matches:b})=>{this.getStoredTheme()||this.setTheme(b?"dark":"light")};const c=a.matches?"dark":"light",f=this.getStoredTheme();this.setTheme(f??c)}toggleTheme(a=!1){const c="dark"===this.theme?"light":"dark";a||this.storageService.set("theme",c),this.setTheme(c)}getStoredTheme(){return this.storageService.get("theme")}setTheme(a){this.theme=a,this.document.documentElement.setAttribute("mode",a),this.changeDetector.detectChanges()}static \u0275fac=function(c){return new(c||y)(e.rXU(xr.qQ),e.rXU(yo.DY),e.rXU(fa.n),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:y,selectors:[["app-theme-mode-toggle"]],decls:3,vars:2,consts:[[1,"theme-mode-toggle"],["class","material-icons",3,"click",4,"ngIf"],[1,"material-icons",3,"click"]],template:function(c,f){1&c&&(e.j41(0,"button",0),e.DNE(1,js,2,0,"span",1)(2,ii,2,0,"span",1),e.k0s()),2&c&&(e.R7$(),e.Y8G("ngIf","dark"===f.theme),e.R7$(),e.Y8G("ngIf","light"===f.theme))},dependencies:[xr.bT],styles:['.transition[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast[_ngcontent-%COMP%]{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]:before, .clearfix[_ngcontent-%COMP%]:after{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.center-top[_ngcontent-%COMP%], [_nghost-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center;float:right;padding-right:40px}@media only screen and (max-width : 767px){[_nghost-%COMP%]{padding-right:20px}}@media only screen and (max-width : 480px){[_nghost-%COMP%]{position:absolute;right:20px;padding-right:0}}.theme-mode-toggle[_ngcontent-%COMP%]{border:none;width:auto;overflow:visible;background:transparent;font:inherit;line-height:normal;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;margin:0 0 0 15px;color:#fff;padding:0 0 0 15px;position:relative}@media only screen and (max-width : 480px){.theme-mode-toggle[_ngcontent-%COMP%]{padding:0;margin:0}}.theme-mode-toggle[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px;cursor:pointer;background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}@media only screen and (max-width : 480px){.theme-mode-toggle[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{background:#fff}}.theme-mode-toggle[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]:before{content:"";position:absolute;background:#fff;opacity:.2;left:0;top:2px;bottom:2px;width:2px}.theme-mode-toggle[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]:hover{color:var(--primary);background:#fff}@media only screen and (max-width : 480px){.theme-mode-toggle[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]:hover{background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}}@media only screen and (max-width : 480px){.theme-mode-toggle[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:24px}.theme-mode-toggle[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]:before{display:none}}']})}return y})(),Os=(()=>{class y{static \u0275fac=function(c){return new(c||y)};static \u0275cmp=e.VBU({type:y,selectors:[["app-social-wrapper"]],decls:11,vars:0,consts:[[1,"social-wrapper"],["href","https://twitter.com/nestframework","title","Twitter account","target","_blank"],[1,"fa-brands","fa-x-twitter"],["href","https://github.com/nestjs/nest","title","Github repository","target","_blank"],[1,"fa-brands","fa-github"],["href","https://stackoverflow.com/questions/tagged/nestjs","title","Stackoverflow","target","_blank"],[1,"fa-brands","fa-stack-overflow"],["href","https://nestjs.com","title","NestJS - A node.js framework built on top of TypeScript","target","_blank"],[1,"fa","fa-globe"],["href","https://discord.gg/G7Qnnhy","title","Discord","target","_blank","rel","nofollow"],[1,"fa-brands","fa-discord"]],template:function(c,f){1&c&&(e.j41(0,"div",0)(1,"a",1),e.nrm(2,"i",2),e.k0s(),e.j41(3,"a",3),e.nrm(4,"i",4),e.k0s(),e.j41(5,"a",5),e.nrm(6,"i",6),e.k0s(),e.j41(7,"a",7),e.nrm(8,"i",8),e.k0s(),e.j41(9,"a",9),e.nrm(10,"i",10),e.k0s()())},styles:['.transition[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast[_ngcontent-%COMP%], .social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]:before, .clearfix[_ngcontent-%COMP%]:after{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.center-top[_ngcontent-%COMP%], .social-wrapper[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%]{box-sizing:border-box}@media only screen and (max-width : 480px){[_nghost-%COMP%]{position:absolute;top:50%;right:20px;transform:translateY(-50%)}}.social-wrapper[_ngcontent-%COMP%]{float:right;position:relative;display:flex}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-flex;vertical-align:middle;color:#fff;font-size:18px;margin-left:15px;cursor:pointer}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .discord-icon[_ngcontent-%COMP%]{fill:#fff;position:relative}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .discord-icon[_ngcontent-%COMP%]:hover{fill:var(--primary)}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-of-type{font-size:20px}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary)}@media only screen and (max-width : 480px){.social-wrapper[_ngcontent-%COMP%]{top:0;transform:none}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:none}}@media print{.social-wrapper[_ngcontent-%COMP%]{display:none}}']})}return y})();const Oo=["*"];let ai=(()=>{class y{toggle=new e.bkB;isSidebarOpened=!0;static \u0275fac=function(c){return new(c||y)};static \u0275cmp=e.VBU({type:y,selectors:[["app-header"]],inputs:{isSidebarOpened:"isSidebarOpened"},outputs:{toggle:"toggle"},ngContentSelectors:Oo,decls:33,vars:2,consts:[[1,"icon-wrapper",3,"click"],[1,"nav-icon"],[1,"mobile-nav-icon"],["height","512pt","viewBox","0 -27 512 512","width","512pt","xmlns","http://www.w3.org/2000/svg",1,"desktop-nav-icon"],["d","m213.117188 81.011719c6.273437-5.488281 6.910156-15.027344 1.421874-21.300781-5.492187-6.273438-15.027343-6.910157-21.300781-1.421876l-2.597656 2.273438c-6.273437 5.488281-6.910156 15.027344-1.421875 21.300781 2.984375 3.410157 7.164062 5.15625 11.367188 5.15625 3.527343 0 7.070312-1.230469 9.933593-3.734375zm0 0"],["d","m117.898438 120.203125-2.597657 2.273437c-6.273437 5.492188-6.910156 15.027344-1.421875 21.300782 2.984375 3.414062 7.164063 5.15625 11.367188 5.15625 3.527344 0 7.070312-1.226563 9.933594-3.730469l2.597656-2.273437c6.273437-5.492188 6.910156-15.027344 1.421875-21.300782-5.488281-6.277344-15.027344-6.914062-21.300781-1.425781zm0 0"],["d","m216.179688 121.503906-2.597657 2.273438c-6.269531 5.492187-6.90625 15.027344-1.417969 21.300781 2.984376 3.414063 7.164063 5.15625 11.367188 5.15625 3.527344 0 7.070312-1.230469 9.933594-3.738281l2.597656-2.273438c6.273438-5.488281 6.910156-15.027344 1.417969-21.300781-5.488281-6.273437-15.023438-6.90625-21.300781-1.417969zm0 0"],["d","m315.523438 70.039062.253906-3.441406c.609375-8.316406-5.636719-15.550781-13.949219-16.160156s-15.550781 5.636719-16.160156 13.949219l-.253907 3.441406c-.609374 8.316406 5.636719 15.550781 13.949219 16.160156.375.027344.75.042969 1.121094.042969 7.835937 0 14.457031-6.054688 15.039063-13.992188zm0 0"],["d","m403.570312 96.273438c-5.109374-6.589844-14.589843-7.789063-21.179687-2.683594-6.589844 5.109375-7.789063 14.589844-2.683594 21.179687l2.117188 2.730469c2.976562 3.835938 7.433593 5.847656 11.941406 5.847656 3.230469 0 6.484375-1.035156 9.238281-3.167968 6.585938-5.105469 7.789063-14.589844 2.679688-21.179688zm0 0"],["d","m325.449219 118.675781c-8.308594-.628906-15.550781 5.632813-16.164063 13.945313l-.253906 3.441406c-.613281 8.316406 5.632812 15.550781 13.945312 16.164062.378907.027344.753907.042969 1.125.042969 7.832032 0 14.453126-6.050781 15.039063-13.988281l.253906-3.441406c.613281-8.316406-5.632812-15.550782-13.945312-16.164063zm0 0"],["d","m479.355469 183.492188v-22.644532c0-88.691406-72.15625-160.847656-160.847657-160.847656h-116.597656c-88.691406 0-160.847656 72.15625-160.847656 160.847656v19.882813c-23.519531 5.632812-41.0625 26.820312-41.0625 52.039062v3.253907c0 25.21875 17.542969 46.40625 41.0625 52.039062v26.367188c0 3.339843.507812 6.597656 1.441406 9.6875v2.667968c0 72.097656 58.652344 130.75 130.75 130.75h175.351563c72.097656 0 130.75-58.652344 130.75-130.75v-41.484375c19.167969-8.152343 32.644531-27.171875 32.644531-49.277343v-3.253907c0-22.109375-13.476562-41.125-32.644531-49.277343zm-408.101563-22.644532c0-72.046875 58.609375-130.65625 130.65625-130.65625h116.597656c72.046876 0 130.65625 58.609375 130.65625 130.65625v18.402344h-377.910156zm377.910156 165.9375c0 4.710938-3.179687 7-4.546874 7.765625-1.378907.769531-5.023438 2.296875-9.082032-.191406-1.34375-.824219-2.664062-1.664063-3.980468-2.503906-10.746094-6.835938-24.117188-15.347657-48.917969-15.347657-24.804688 0-38.175781 8.507813-48.917969 15.347657-9.328125 5.9375-16.699219 10.628906-32.707031 10.628906-16.007813 0-23.375-4.6875-32.703125-10.628906-10.746094-6.835938-24.113282-15.347657-48.917969-15.347657-24.800781 0-38.171875 8.511719-48.914063 15.347657-9.328124 5.9375-16.695312 10.628906-32.703124 10.628906-16.003907 0-23.375-4.6875-32.699219-10.628906-7.894531-5.023438-16.839844-10.714844-30.464844-13.5625-1.425781-.296875-2.53125-1.210938-3.042969-2.394531-.03125-.078126-.058594-.160157-.09375-.238282-.136718-.390625-.21875-.800781-.21875-1.230468v-24.886719h377.910156zm-100.558593 100.558594h-175.355469c-47.492188 0-87.398438-33.097656-97.871094-77.4375 4.75 1.863281 8.773438 4.421875 13.480469 7.417969 10.742187 6.839843 24.113281 15.351562 48.914063 15.351562 24.800781 0 38.171874-8.511719 48.914062-15.351562 9.328125-5.9375 16.695312-10.628907 32.703125-10.628907s23.375 4.691407 32.703125 10.628907c10.746094 6.839843 24.113281 15.351562 48.917969 15.351562 24.800781 0 38.171875-8.511719 48.917969-15.351562 9.328124-5.9375 16.695312-10.628907 32.703124-10.628907 16.007813 0 23.378907 4.691407 32.707032 10.628907 1.460937.929687 2.917968 1.859375 4.40625 2.769531 6.667968 4.089844 14.089844 6.027344 21.488281 5.828125-15.292969 36.0625-51.054687 61.421875-92.628906 61.421875zm133.203125-191.320312c0 12.863281-10.464844 23.328124-23.328125 23.328124h-404.960938c-12.863281 0-23.328125-10.464843-23.328125-23.328124v-3.253907c0-12.863281 10.464844-23.328125 23.328125-23.328125h404.960938c12.863281 0 23.328125 10.464844 23.328125 23.328125zm0 0"],[1,"menu-wrapper"],["id","search",1,"search-wrapper"],["href","https://courses.nestjs.com","target","_blank","title","Cours | NestJS - Un framework node.js construit sur TypeScript"],["href","https://enterprise.nestjs.com","target","_blank","title","Entreprise | NestJS - Un framework node.js construit sur TypeScript"],["href","https://devtools.nestjs.com","target","_blank","title","Devtools | NestJS - Un framework node.js construit sur TypeScript"],[1,"new"],["href","https://mau.nestjs.com","target","_blank","title","D\xe9ployer Nest | NestJS - Un framework node.js construit sur TypeScript"]],template:function(c,f){1&c&&(e.NAR(),e.j41(0,"header")(1,"button",0),e.bIt("click",function(){return f.toggle.emit()}),e.j41(2,"div",1)(3,"div",2),e.nrm(4,"span"),e.k0s(),e.qSk(),e.j41(5,"svg",3),e.nrm(6,"path",4)(7,"path",5)(8,"path",6)(9,"path",7)(10,"path",8)(11,"path",9)(12,"path",10),e.k0s()()(),e.SdG(13),e.joV(),e.nrm(14,"app-theme-mode-toggle")(15,"app-social-wrapper"),e.j41(16,"div",11),e.nrm(17,"div",12),e.j41(18,"ul")(19,"li")(20,"a",13),e.EFF(21,"Cours"),e.k0s()(),e.j41(22,"li")(23,"a",14),e.EFF(24,"Entreprise"),e.k0s()(),e.j41(25,"li")(26,"a",15)(27,"span",16),e.EFF(28,"NEW"),e.k0s(),e.EFF(29," Devtools"),e.k0s()(),e.j41(30,"li")(31,"a",17),e.EFF(32,"D\xe9ployer avec Mau "),e.k0s()()()()()),2&c&&(e.R7$(),e.AVh("opened",f.isSidebarOpened))},dependencies:[Qr,Os],styles:['.transition[_ngcontent-%COMP%], .icon-wrapper[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast[_ngcontent-%COMP%], .menu-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]:before, .clearfix[_ngcontent-%COMP%]:after{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%], .icon-wrapper[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.center-top[_ngcontent-%COMP%], .menu-wrapper[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{background:var(--header-background);display:block;position:fixed;z-index:10000;width:100%;height:70px}@media print{[_nghost-%COMP%]{position:relative}}.top-bar[_ngcontent-%COMP%]{background:#0a0a0a;text-align:center;height:35px;padding:4px;letter-spacing:.2px;box-sizing:border-box}.top-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0}.top-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-weight:600;font-size:18px}@media only screen and (max-width : 480px){.top-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:15px}}.new[_ngcontent-%COMP%]{background:var(--primary-gradient);font-size:11px;padding:2px 4px;border-radius:2px;margin-right:2px;-webkit-text-fill-color:#fff}header[_ngcontent-%COMP%]{display:block;position:relative;background:var(--header-background);width:100%;height:70px;z-index:10000}.icon-wrapper[_ngcontent-%COMP%]{height:100%;width:80px;top:0;bottom:0;display:inline-block;position:relative;z-index:10000;border:none;background:transparent}.icon-wrapper[_ngcontent-%COMP%]:hover{cursor:pointer;background:#212121}.icon-wrapper.opened[_ngcontent-%COMP%]{width:250px}@media only screen and (max-width: 1200px){.icon-wrapper.opened[_ngcontent-%COMP%]{width:250px}}@media only screen and (max-width: 991px){.icon-wrapper.opened[_ngcontent-%COMP%]{width:80px}}.icon-wrapper[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:30px;height:30px;fill:#fff}@media only screen and (max-width : 767px){.icon-wrapper[_ngcontent-%COMP%]{background:transparent}}@media print{.icon-wrapper[_ngcontent-%COMP%]{display:none}}[_nghost-%COMP%]     .logo-wrapper{display:inline-block;height:100%;text-align:center;vertical-align:top;padding-left:85px}@media only screen and (max-width: 1200px){[_nghost-%COMP%]     .logo-wrapper{padding-left:15px}}@media only screen and (max-width : 767px){[_nghost-%COMP%]     .logo-wrapper{padding-left:10px}}[_nghost-%COMP%]     .logo-wrapper a{display:inline-block;padding-top:10px}@media print{[_nghost-%COMP%]     .logo-wrapper{left:50%;position:relative;transform:translate(-50%);padding:0}}.menu-wrapper[_ngcontent-%COMP%]{position:relative;float:right;padding:14px 25px}@media (min-width: 1500px){.menu-wrapper[_ngcontent-%COMP%]{margin-right:30px}}@media (max-width: 1499px){.menu-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type{display:none}.menu-wrapper[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]{margin-right:0}}@media (max-width: 1350px){.menu-wrapper[_ngcontent-%COMP%]{padding:14px 5px}.menu-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-of-type(3){display:none}}@media (max-width: 1150px){.menu-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:none!important}}@media (max-width: 600px){.menu-wrapper[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]{display:none}}@media only screen and (max-width: 1200px){.menu-wrapper[_ngcontent-%COMP%]{margin-right:0;padding:14px 5px}}@media only screen and (max-width: 991px){.menu-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:none!important}}@media only screen and (max-width : 480px){.menu-wrapper[_ngcontent-%COMP%]   .search-wrapper[_ngcontent-%COMP%]{display:none}}.menu-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;padding:0}.menu-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin-left:30px}.menu-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type{margin-left:0}.menu-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type   a[_ngcontent-%COMP%]{border-radius:2px;transition:none;padding:4px 6px;background:var(--primary-gradient)}.menu-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type   a[_ngcontent-%COMP%]:hover{background:#262626}@media only screen and (max-width: 1200px){.menu-wrapper[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:20px}}.menu-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;font-size:14px;font-weight:600}.menu-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-4dp)}@media print{.menu-wrapper[_ngcontent-%COMP%]{display:none}}.workshop-wrapper[_ngcontent-%COMP%]{float:right;padding:14px 25px}@media only screen and (max-width : 767px){.workshop-wrapper[_ngcontent-%COMP%]{padding:23px 15px}}@media only screen and (max-width : 480px){.workshop-wrapper[_ngcontent-%COMP%]{display:none}}.workshop-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px;width:55px}@media only screen and (max-width : 767px){.workshop-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none!important}}.workshop-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .workshop-wrapper[_ngcontent-%COMP%]   .workshop-info[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.workshop-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;font-weight:400;color:#fff;margin:0}.workshop-wrapper[_ngcontent-%COMP%]   .short-title[_ngcontent-%COMP%]{display:none}@media only screen and (max-width : 767px){.workshop-wrapper[_ngcontent-%COMP%]   .short-title[_ngcontent-%COMP%]{display:block}}@media only screen and (max-width : 767px){.workshop-wrapper[_ngcontent-%COMP%]   .long-title[_ngcontent-%COMP%]{display:none}}.workshop-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#03a9f4;font-weight:600;font-size:12px;position:relative}.workshop-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary)}.workshop-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{background:var(--primary)}.workshop-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";display:block;background:#246081;height:2px;left:0;right:0;bottom:-1px;position:absolute}.workshop-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;padding:1px 2px;font-weight:700;background:linear-gradient(#ee2943,#d31e5a)}@media (max-width: 480px){.workshop-wrapper[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]     .logo-wrapper{width:100%}.icon-wrapper[_ngcontent-%COMP%]{position:absolute}}.fa-stack-overflow[_ngcontent-%COMP%]{font-size:18px}.mobile-nav-icon[_ngcontent-%COMP%]{display:none;width:25px;margin-top:5px;cursor:pointer}@media only screen and (max-width: 1200px){.mobile-nav-icon[_ngcontent-%COMP%]{display:inline-block}}.mobile-nav-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .mobile-nav-icon[_ngcontent-%COMP%]:after, .mobile-nav-icon[_ngcontent-%COMP%]:before{content:"";background:#fff;display:block;height:2px;width:100%}.mobile-nav-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:6px 0}@media only screen and (max-width: 1200px){.desktop-nav-icon[_ngcontent-%COMP%]{display:none}}.search-wrapper[_ngcontent-%COMP%]{margin-right:2em;height:100%;display:inline-block;position:relative}.search-icon[_ngcontent-%COMP%], [_nghost-%COMP%]     .DocSearch-Search-Icon{position:absolute;margin-top:7px;color:#a5a5a5!important;font-size:14px;width:14px}@media (max-width: 1150px){[_nghost-%COMP%]     .DocSearch-Search-Icon{margin-top:0}}.search-input[_ngcontent-%COMP%],   .DocSearch-Button{background:transparent;border:0;border-bottom:2px solid #414141;padding:5px 20px 5px 28px;color:#fff;font-family:Source Sans Pro,Helvetica Neue,sans-serif;font-display:swap;font-size:14px;outline:0!important;transition:all 90ms ease-in-out;width:215px}.search-input[_ngcontent-%COMP%]:active, .search-input[_ngcontent-%COMP%]:focus,   .DocSearch-Button:active,   .DocSearch-Button:focus{border-bottom-color:var(--primary);width:190px}@media (max-width: 1300px){.search-input[_ngcontent-%COMP%],   .DocSearch-Button{width:190px}}@media (max-width: 680px){.search-input[_ngcontent-%COMP%],   .DocSearch-Button{width:190px}}  .DocSearch-Button:hover,   .DocSearch-Button:active  .DocSearch-Button:focus{border-bottom-color:#ea2845;width:240px}@media (min-width: 1200px) and (max-width: 1300px){  .DocSearch-Button:hover,   .DocSearch-Button:active  .DocSearch-Button:focus{width:190px}}.search-input[_ngcontent-%COMP%]::placeholder{color:#a5a5a5;opacity:1}  .DocSearch-Button{border-radius:0;color:#a5a5a5;padding:5px}  .DocSearch-Button-Placeholder{padding-left:30px;font-size:14px;margin-top:7px;display:block!important}@media (max-width: 1150px){  .DocSearch-Button-Placeholder{margin-top:0}}  .DocSearch-Button-Keys{display:none}  .DocSearch-Button:active,   .DocSearch-Button:focus,   .DocSearch-Button:hover{color:#a5a5a5}.close-icon[_ngcontent-%COMP%]{position:absolute;right:0;width:15px;height:15px;top:10px;cursor:pointer;visibility:hidden;transition:all 90ms ease-in-out}.close-icon.visible[_ngcontent-%COMP%]{visibility:visible}.close-icon[_ngcontent-%COMP%]:after, .close-icon[_ngcontent-%COMP%]:before{content:"";background:var(--primary);display:block;height:2px;position:absolute;width:15px}.close-icon[_ngcontent-%COMP%]:after{transform:rotate(45deg) translateY(3px)}.close-icon[_ngcontent-%COMP%]:before{transform:rotate(-45deg) translateY(3px)}@media (max-width: 1300px){.shop-link[_ngcontent-%COMP%]{display:none!important}}'],changeDetection:0})}return y})(),Xs=(()=>{class y{currentDate=Date.now();static \u0275fac=function(c){return new(c||y)};static \u0275cmp=e.VBU({type:y,selectors:[["app-footer"]],decls:28,vars:4,consts:[[1,"social-wrapper"],["title","Kamil Mysliwiec Facebook","href","https://www.facebook.com/kammysliwiec/","target","_blank"],[1,"fa-brands","fa-facebook"],["title","Kamil Mysliwiec Twitter","href","https://twitter.com/kammysliwiec","target","_blank"],[1,"fa-brands","fa-x-twitter"],["title","Kamil Mysliwiec Github","href","https://github.com/kamilmysliwiec","target","_blank"],[1,"fa-brands","fa-github"],["href","https://kamilmysliwiec.com","title","Kamil Mysliwiec Blog | Full-Stack Software Engineer","target","_blank"],[1,"fa-solid","fa-globe"],[1,"credits"],["href","https://kamilmysliwiec.com","target","_blank","title","Kamil Mysliwiec Blog | Full-Stack Software Engineer"],[1,"separator"],["href","https://dribbble.com/JakubStaron","title","Jakub Staron Dribble","target","_blank"],["href","https://trilon.io","target","_blank","title","Official NestJS Consulting | Angular Consulting"],["href","https://www.netlify.com","target","_blank"]],template:function(c,f){1&c&&(e.j41(0,"footer")(1,"div",0)(2,"a",1),e.nrm(3,"i",2),e.k0s(),e.j41(4,"a",3),e.nrm(5,"i",4),e.k0s(),e.j41(6,"a",5),e.nrm(7,"i",6),e.k0s(),e.j41(8,"a",7),e.nrm(9,"i",8),e.k0s()(),e.j41(10,"div",9)(11,"p"),e.EFF(12),e.nI1(13,"date"),e.j41(14,"a",10),e.EFF(15," Kamil Mysliwiec"),e.k0s(),e.nrm(16,"span",11),e.EFF(17," design by "),e.j41(18,"a",12),e.EFF(19,"Jakub Staron"),e.k0s(),e.nrm(20,"br"),e.EFF(21," Official NestJS Consulting "),e.j41(22,"a",13),e.EFF(23," Trilon.io"),e.k0s(),e.nrm(24,"span",11),e.EFF(25," hosted by "),e.j41(26,"a",14),e.EFF(27,"Netlify"),e.k0s()()()()),2&c&&(e.R7$(12),e.SpI(" Copyright \xa9 2017-",e.i5U(13,1,f.currentDate,"yyyy")," MIT by "))},dependencies:[xr.vh],styles:['.transition[_ngcontent-%COMP%], [_nghost-%COMP%], .social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast[_ngcontent-%COMP%]{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]:before, .clearfix[_ngcontent-%COMP%]:after{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.center-top[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%], [_nghost-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{background:var(--header-background);display:block;padding:40px 0;margin:0 -85px;width:auto;font-size:14px;position:relative;z-index:12}@media only screen and (max-width: 1200px){[_nghost-%COMP%]{margin:0 -50px}}@media only screen and (max-width : 767px){[_nghost-%COMP%]{padding:15px;margin:0 -20px;width:calc(100% + 40px);position:static;height:auto;text-align:center}}footer[_ngcontent-%COMP%]{display:block;position:relative;color:#929292;text-align:center}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-5dp);font-weight:600;background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#fff}footer[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{display:inline-block;width:2px;height:12px;margin:0 3px 0 5px;vertical-align:middle;background:#313131}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:25px;margin-bottom:0}.social-wrapper[_ngcontent-%COMP%]{text-align:center;right:40px}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;color:#f3f5f7;font-size:20px;margin-left:15px;cursor:pointer;color:#fff}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-of-type{font-size:20px}.social-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary)}@media print{.social-wrapper[_ngcontent-%COMP%]{display:none}}'],changeDetection:0})}return y})();G("fadeAnimation",[Y("* => *",[Q(":enter",[le({opacity:0})],{optional:!0}),Q(":leave",[le({opacity:1}),re("0.3s",le({opacity:0}))],{optional:!0}),Q(":enter",[le({opacity:0}),re("0.3s",le({opacity:1}))],{optional:!0})])]);const bo=G("openCloseAnimation",[function X(y,u,a){return{type:O.State,name:y,styles:u,options:a}}("false",le({display:"none"})),Y("false => true",[le("*"),le({height:0,overflow:"hidden"}),re("250ms ease-out",le({height:"*"}))]),Y("true => false",[le({height:"*",overflow:"hidden"}),re("250ms ease-in",le({height:0}))])]),Ps=()=>({exact:!0});function Ys(y,u){1&y&&(e.j41(0,"span",9),e.EFF(1,"NEW"),e.k0s())}function Zi(y,u){if(1&y&&(e.j41(0,"i",14),e.EFF(1),e.k0s()),2&y){const a=e.XpG(2).$implicit;e.R7$(),e.SpI(" ",a.icon," ")}}function F(y,u){if(1&y&&(e.j41(0,"a",12),e.DNE(1,Zi,2,1,"i",13),e.EFF(2),e.k0s()),2&y){const a=e.XpG().$implicit;e.AVh("pending",a.isPending),e.Y8G("routerLink",a.path)("routerLinkActiveOptions",e.lJ4(6,Ps)),e.R7$(),e.Y8G("ngIf",a.icon),e.R7$(),e.SpI(" ",a.title," ")}}function M(y,u){if(1&y&&(e.j41(0,"i",14),e.EFF(1),e.k0s()),2&y){const a=e.XpG(2).$implicit;e.R7$(),e.SpI(" ",a.icon," ")}}function w(y,u){if(1&y&&(e.j41(0,"a",15),e.DNE(1,M,2,1,"i",13),e.EFF(2),e.k0s()),2&y){const a=e.XpG().$implicit;e.FS9("href",a.externalUrl,e.B4B),e.R7$(),e.Y8G("ngIf",a.icon),e.R7$(),e.SpI(" ",a.title," ")}}function I(y,u){if(1&y&&(e.j41(0,"li"),e.DNE(1,F,3,7,"a",10)(2,w,3,3,"a",11),e.k0s()),2&y){const a=u.$implicit;e.R7$(),e.Y8G("ngIf",!a.externalUrl),e.R7$(),e.Y8G("ngIf",!!a.externalUrl)}}function N(y,u){if(1&y){const a=e.RV6();e.j41(0,"div",2)(1,"div",3),e.bIt("click",function(){e.eBV(a);const f=e.XpG();return e.Njj(f.toggle())}),e.j41(2,"h3"),e.DNE(3,Ys,2,0,"span",4),e.EFF(4),e.k0s(),e.qSk(),e.j41(5,"svg",5),e.nrm(6,"path",6),e.k0s()(),e.joV(),e.j41(7,"ul",7),e.DNE(8,I,3,2,"li",8),e.k0s()()}if(2&y){const a=e.XpG();e.AVh("opened",a.isOpen),e.R7$(3),e.Y8G("ngIf",a.isNew),e.R7$(),e.JRh(a.title),e.R7$(3),e.Y8G("@openCloseAnimation",a.isOpen),e.R7$(),e.Y8G("ngForOf",a.children)}}function ue(y,u){if(1&y&&(e.j41(0,"i",14),e.EFF(1),e.k0s()),2&y){const a=e.XpG(3);e.R7$(),e.SpI(" ",a.icon," ")}}function ke(y,u){1&y&&(e.j41(0,"span",9),e.EFF(1,"NEW"),e.k0s())}function Ge(y,u){if(1&y&&(e.j41(0,"a",12)(1,"h3"),e.DNE(2,ue,2,1,"i",13)(3,ke,2,0,"span",4),e.EFF(4),e.k0s()()),2&y){const a=e.XpG(2);e.AVh("has-icon",a.icon),e.Y8G("routerLink",a.path)("routerLinkActiveOptions",e.lJ4(7,Ps)),e.R7$(2),e.Y8G("ngIf",a.icon),e.R7$(),e.Y8G("ngIf",a.isNew),e.R7$(),e.SpI("",a.title," ")}}function Ut(y,u){if(1&y&&(e.j41(0,"i",14),e.EFF(1),e.k0s()),2&y){const a=e.XpG(3);e.R7$(),e.SpI(" ",a.icon," ")}}function un(y,u){1&y&&(e.j41(0,"span",9),e.EFF(1,"NEW"),e.k0s())}function Ht(y,u){if(1&y&&(e.j41(0,"a",15)(1,"h3"),e.DNE(2,Ut,2,1,"i",13)(3,un,2,0,"span",4),e.EFF(4),e.k0s()()),2&y){const a=e.XpG(2);e.FS9("href",a.externalUrl,e.B4B),e.R7$(2),e.Y8G("ngIf",a.icon),e.R7$(),e.Y8G("ngIf",a.isNew),e.R7$(),e.SpI("",a.title," ")}}function It(y,u){if(1&y&&(e.j41(0,"div",16),e.DNE(1,Ge,5,8,"a",17)(2,Ht,5,4,"a",11),e.k0s()),2&y){const a=e.XpG();e.R7$(),e.Y8G("ngIf",!a.externalUrl),e.R7$(),e.Y8G("ngIf",!!a.externalUrl)}}let ln=(()=>{class y{isOpen=!1;children=[];path;title;icon;externalUrl;isNew;toggle(){this.isOpen=!this.isOpen}static \u0275fac=function(c){return new(c||y)};static \u0275cmp=e.VBU({type:y,selectors:[["app-menu-item"]],inputs:{isOpen:"isOpen",children:"children",path:"path",title:"title",icon:"icon",externalUrl:"externalUrl",isNew:"isNew"},decls:3,vars:2,consts:[["withoutChildren",""],["class","nav-item",3,"opened",4,"ngIf","ngIfElse"],[1,"nav-item"],[1,"heading",3,"click"],["class","new",4,"ngIf"],["width","20","height","20","viewBox","0 0 1792 1792","xmlns","http://www.w3.org/2000/svg",1,"arrow-icon"],["d","M1171 960q0 13-10 23l-466 466q-10 10-23 10t-23-10l-50-50q-10-10-10-23t10-23l393-393-393-393q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l466 466q10 10 10 23z"],[1,"sub-nav"],[4,"ngFor","ngForOf"],[1,"new"],["routerLinkActive","active",3,"pending","routerLink","routerLinkActiveOptions",4,"ngIf"],["target","_blank",3,"href",4,"ngIf"],["routerLinkActive","active",3,"routerLink","routerLinkActiveOptions"],["class","material-icons",4,"ngIf"],[1,"material-icons"],["target","_blank",3,"href"],[1,"heading"],["routerLinkActive","active",3,"routerLink","routerLinkActiveOptions","has-icon",4,"ngIf"]],template:function(c,f){if(1&c&&e.DNE(0,N,9,6,"div",1)(1,It,3,2,"ng-template",null,0,e.C5r),2&c){const b=e.sdS(2);e.Y8G("ngIf",f.children)("ngIfElse",b)}},dependencies:[xr.Sq,xr.bT,mt.Wk,mt.wQ],styles:['.transition[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], .arrow-icon[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast[_ngcontent-%COMP%]{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]:before, .clearfix[_ngcontent-%COMP%]:after{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.center-top[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{position:relative;display:block}h3[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;color:var(--color-1dp);font-size:15px;margin:10px 0}h3[_ngcontent-%COMP%]:hover{color:#ea2845;background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}.new[_ngcontent-%COMP%]{color:#fff;background:var(--primary-gradient);font-size:11px;padding:2px 4px;margin-right:5px;font-weight:700;border-radius:2px;-webkit-text-fill-color:#fff}.active[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ea2845;background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}.material-icons[_ngcontent-%COMP%]{margin-right:5px}.arrow-icon[_ngcontent-%COMP%]{transform:rotate(90deg);position:absolute;top:1px;right:20px;font-size:20px;cursor:pointer}li[_ngcontent-%COMP%]{display:block;padding:2.5px 0}li[_ngcontent-%COMP%]:first-of-type{padding-top:0}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--menu-color);font-size:14px;text-decoration:none;cursor:pointer}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ea2845;background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{font-weight:600;color:#ea2845;background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}li[_ngcontent-%COMP%]   .pending[_ngcontent-%COMP%]{color:#afafaf!important;pointer-events:none}.nav-item[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:10px 0 15px}.nav-item[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{fill:var(--color)}.nav-item.opened[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{transform:rotate(-90deg);fill:var(--primary)}.heading[_ngcontent-%COMP%]{cursor:pointer}.heading[_ngcontent-%COMP%]:hover   .arrow-icon[_ngcontent-%COMP%]{color:var(--primary)}ul[_ngcontent-%COMP%]{padding-left:15px}.material-icons[_ngcontent-%COMP%]{font-size:14px;margin-left:3px;vertical-align:middle;padding-bottom:4px}.has-icon[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ea2845;background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}'],data:{animation:[bo]},changeDetection:0})}return y})();function ot(y,u){if(1&y&&e.nrm(0,"app-menu-item",4),2&y){const a=u.$implicit;e.Y8G("isOpen",a.isOpened)("title",a.title)("externalUrl",null==a?null:a.externalUrl)("isNew",a.isNew)("icon",null==a?null:a.icon)("path",null==a?null:a.path)("children",a.children)}}let Ce=(()=>{class y{route;router;isSidebarOpened=!0;items=[{title:"\u{1f1eb}\u{1f1f7} Aidez \xe0 la traduction",externalUrl:"https://github.com/Lou8is/docs.nestjs.fr"},{title:"Introduction",isOpened:!1,path:"/"},{title:"Vue d'ensemble",isOpened:!0,children:[{title:"Premiers pas",path:"/first-steps"},{title:"Contr\xf4leurs",path:"/controllers"},{title:"Fournisseurs",path:"/providers"},{title:"Modules",path:"/modules"},{title:"Middleware",path:"/middleware"},{title:"Filtres d'exception",path:"/exception-filters"},{title:"Pipes",path:"/pipes"},{title:"Gardes",path:"/guards"},{title:"Intercepteurs",path:"/interceptors"},{title:"D\xe9corateurs personnalis\xe9s",path:"/custom-decorators"}]},{title:"Fondamentaux",isOpened:!1,children:[{title:"Fournisseurs personnalis\xe9s",path:"/fundamentals/custom-providers"},{title:"Fournisseurs asynchrones",path:"/fundamentals/async-providers"},{title:"Modules dynamiques",path:"/fundamentals/dynamic-modules"},{title:"Port\xe9es d'injection",path:"/fundamentals/injection-scopes"},{title:"D\xe9pendance circulaire",path:"/fundamentals/circular-dependency"},{title:"R\xe9f\xe9rence de module",path:"/fundamentals/module-ref"},{title:"Lazy-loading de modules",path:"/fundamentals/lazy-loading-modules"},{title:"Contexte d'ex\xe9cution",path:"/fundamentals/execution-context"},{title:"\xc9v\xe9nements du cycle de vie",path:"/fundamentals/lifecycle-events"},{title:"Agnosticisme de plateforme",path:"/fundamentals/platform-agnosticism"},{title:"Tests",path:"/fundamentals/testing"}]},{title:"Techniques",isOpened:!1,children:[{title:"Configuration",path:"/techniques/configuration"},{title:"Base de donn\xe9es",path:"/techniques/database"},{title:"Mongo",path:"/techniques/mongodb"},{title:"Validation",path:"/techniques/validation"},{title:"Gestion du cache",path:"/techniques/caching"},{title:"S\xe9rialisation",path:"/techniques/serialization"},{title:"Gestion des versions",path:"/techniques/versioning"},{title:"Planification des t\xe2ches",path:"/techniques/task-scheduling"},{title:"Queues",path:"/techniques/queues"},{title:"Journalisation",path:"/techniques/logger"},{title:"Cookies",path:"/techniques/cookies"},{title:"\xc9v\xe9nements",path:"/techniques/events"},{title:"Compression",path:"/techniques/compression"},{title:"T\xe9l\xe9chargement de fichiers",path:"/techniques/file-upload"},{title:"Flux de fichier",path:"/techniques/streaming-files"},{title:"Module HTTP",path:"/techniques/http-module"},{title:"Session",path:"/techniques/session"},{title:"Mod\xe8le-Vue-Contr\xf4leur",path:"/techniques/mvc"},{title:"Performance (Fastify)",path:"/techniques/performance"},{title:"\xc9v\xe9nements envoy\xe9s par le serveur",path:"/techniques/server-sent-events"}]},{title:"S\xe9curit\xe9",isOpened:!1,children:[{title:"Authentification",path:"/security/authentication"},{title:"Autorisation",path:"/security/authorization"},{title:"Chiffrement et hachage",path:"/security/encryption-and-hashing"},{title:"Helmet",path:"/security/helmet"},{title:"CORS",path:"/security/cors"},{title:"Protection CSRF",path:"/security/csrf"},{title:"Limitation du d\xe9bit",path:"/security/rate-limiting"}]},{title:"GraphQL",isOpened:!1,children:[{title:"D\xe9marrage rapide",path:"/graphql/quick-start"},{title:"R\xe9solveurs",path:"/graphql/resolvers"},{title:"Mutations",path:"/graphql/mutations"},{title:"Abonnements",path:"/graphql/subscriptions"},{title:"Scalaires",path:"/graphql/scalars"},{title:"Directives",path:"/graphql/directives"},{title:"Interfaces",path:"/graphql/interfaces"},{title:"Unions et Enums",path:"/graphql/unions-and-enums"},{title:"Field middleware",path:"/graphql/field-middleware"},{title:"Types mapp\xe9s",path:"/graphql/mapped-types"},{title:"Plugins",path:"/graphql/plugins"},{title:"Complexit\xe9",path:"/graphql/complexity"},{title:"Extensions",path:"/graphql/extensions"},{title:"Plugin CLI",path:"/graphql/cli-plugin"},{title:"G\xe9n\xe9rer le SDL",path:"/graphql/generating-sdl"},{title:"Partage de mod\xe8les",path:"/graphql/sharing-models"},{title:"Autres fonctionnalit\xe9s",path:"/graphql/other-features"},{title:"F\xe9d\xe9ration",path:"/graphql/federation"},{title:"Guide de migration",path:"/graphql/migration-guide"}]},{title:"WebSockets",isOpened:!1,children:[{title:"Gateways",path:"/websockets/gateways"},{title:"Filtres d'exception",path:"/websockets/exception-filters"},{title:"Pipes",path:"/websockets/pipes"},{title:"Gardes",path:"/websockets/guards"},{title:"Intercepteurs",path:"/websockets/interceptors"},{title:"Adaptateurs",path:"/websockets/adapter"}]},{title:"Microservices",isOpened:!1,children:[{title:"Vue d'ensemble",path:"/microservices/basics"},{title:"Redis",path:"/microservices/redis"},{title:"MQTT",path:"/microservices/mqtt"},{title:"NATS",path:"/microservices/nats"},{title:"RabbitMQ",path:"/microservices/rabbitmq"},{title:"Kafka",path:"/microservices/kafka"},{title:"gRPC",path:"/microservices/grpc"},{title:"Transporteurs personnalis\xe9s",path:"/microservices/custom-transport"},{title:"Filtres d'exception",path:"/microservices/exception-filters"},{title:"Pipes",path:"/microservices/pipes"},{title:"Gardes",path:"/microservices/guards"},{title:"Intercepteurs",path:"/microservices/interceptors"}]},{title:"D\xe9ploiement",isNew:!0,path:"/deployment"},{title:"Applications ind\xe9pendantes",isOpened:!1,path:"/standalone-applications"},{title:"CLI",isOpened:!1,children:[{title:"Vue d'ensemble",path:"/cli/overview"},{title:"Espaces de travail",path:"/cli/monorepo"},{title:"Biblioth\xe8ques",path:"/cli/libraries"},{title:"Usage",path:"/cli/usages"},{title:"Scripts",path:"/cli/scripts"}]},{title:"OpenAPI",isOpened:!1,children:[{title:"Introduction",path:"/openapi/introduction"},{title:"Types et param\xe8tres",path:"/openapi/types-and-parameters"},{title:"Op\xe9rations",path:"/openapi/operations"},{title:"S\xe9curit\xe9",path:"/openapi/security"},{title:"Types mapp\xe9s",path:"/openapi/mapped-types"},{title:"D\xe9corateurs",path:"/openapi/decorators"},{title:"Plugin CLI",path:"/openapi/cli-plugin"},{title:"Autres fonctionnalit\xe9s",path:"/openapi/other-features"},{title:"Guide de migration",path:"/openapi/migration-guide"}]},{title:"Recettes",isOpened:!1,children:[{title:"REPL",path:"/recipes/repl"},{title:"G\xe9n\xe9rateur CRUD",path:"/recipes/crud-generator"},{title:"SWC (fast compiler)",path:"/recipes/swc"},{title:"Passport (auth)",path:"/recipes/passport"},{title:"Rechargement \xe0 chaud",path:"/recipes/hot-reload"},{title:"MikroORM",path:"/recipes/mikroorm"},{title:"TypeORM",path:"/recipes/sql-typeorm"},{title:"Mongoose",path:"/recipes/mongodb"},{title:"Sequelize",path:"/recipes/sql-sequelize"},{title:"Module Router",path:"/recipes/router-module"},{title:"Swagger",path:"/recipes/swagger"},{title:"Contr\xf4les de sant\xe9",path:"/recipes/terminus"},{title:"CQRS",path:"/recipes/cqrs"},{title:"Compodoc",path:"/recipes/documentation"},{title:"Prisma",path:"/recipes/prisma"},{title:"Serve static",path:"/recipes/serve-static"},{title:"Commander",path:"/recipes/nest-commander"},{title:"Async local storage",path:"/recipes/async-local-storage"},{title:"Necord",path:"/recipes/necord"},{title:"Suites (Automock)",path:"/recipes/suites"}]},{title:"FAQ",isOpened:!1,children:[{title:"Serverless",path:"/faq/serverless"},{title:"Adaptateur HTTP",path:"/faq/http-adapter"},{title:"Connexions Keep-Alive",path:"/faq/keep-alive-connections"},{title:"Pr\xe9fixe de chemin global",path:"/faq/global-prefix"},{title:"Corps brut",path:"/faq/raw-body"},{title:"Application hybride",path:"/faq/hybrid-application"},{title:"HTTPS et serveurs multiples",path:"/faq/multiple-servers"},{title:"Cycle de vie de la requ\xeate",path:"/faq/request-lifecycle"},{title:"Erreurs fr\xe9quentes",path:"/faq/common-errors"},{title:"Exemples",externalUrl:"https://github.com/nestjs/nest/tree/master/sample"}]},{title:"Devtools",isOpened:!1,children:[{title:"Vue d'ensemble",path:"/devtools/overview"},{title:"Int\xe9gration CI/CD",path:"/devtools/ci-cd-integration"}]},{title:"Guide de migration",isOpened:!1,path:"/migration-guide"},{title:"[EN] Cours officiels",externalUrl:"https://courses.nestjs.com/"},{title:"D\xe9couvrir",isOpened:!1,children:[{title:"Qui utilise Nest ?",path:"/discover/companies"},{title:"Jobs board",externalUrl:"https://jobs.nestjs.com/"}]},{title:"Soutenez-nous",isOpened:!1,path:"/support"}];constructor(a,c){this.route=a,this.router=c}ngOnInit(){this.router.events.pipe((0,vo.p)(a=>a instanceof mt.wF)).subscribe(()=>this.toggleCategory()),this.toggleCategory()}toggleCategory(){const{firstChild:a}=this.route.snapshot;if(a.url&&a.url[1]||a.url&&a.routeConfig&&a.routeConfig.loadChildren){const{path:c}=a.url[0],f=this.items.findIndex(({title:b})=>b.toLowerCase()===c);if(f<0)return;this.items[f].isOpened=!0,this.items[1].isOpened=!1}}static \u0275fac=function(c){return new(c||y)(e.rXU(mt.nX),e.rXU(mt.Ix))};static \u0275cmp=e.VBU({type:y,selectors:[["app-menu"]],inputs:{isSidebarOpened:"isSidebarOpened"},decls:6,vars:1,consts:[[1,"nav-container",3,"click"],["class","nav-item",3,"isOpen","title","externalUrl","isNew","icon","path","children",4,"ngFor","ngForOf"],["href","https://enterprise.nestjs.com","target","_blank","title","Entreprise | NestJS - A node.js framework built on top of TypeScript",1,"btn","btn-support"],["href","https://docs.nestjs.com/v9",1,"btn","btn-version"],[1,"nav-item",3,"isOpen","title","externalUrl","isNew","icon","path","children"]],template:function(c,f){1&c&&(e.j41(0,"nav",0),e.bIt("click",function(A){return A.stopPropagation()}),e.DNE(1,ot,1,7,"app-menu-item",1),e.j41(2,"a",2),e.EFF(3,"[EN] Support Entreprise"),e.k0s(),e.j41(4,"a",3),e.EFF(5,"[EN] Version 9"),e.k0s()()),2&c&&(e.R7$(),e.Y8G("ngForOf",f.items))},dependencies:[xr.Sq,ln],styles:['.transition[_ngcontent-%COMP%], [_nghost-%COMP%], .btn-version[_ngcontent-%COMP%], .btn-support[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast[_ngcontent-%COMP%]{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]:before, .clearfix[_ngcontent-%COMP%]:after{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.center-top[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%], [_nghost-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{transform:translate(-100%);padding:125px 17px 40px 24px;width:250px;background:var(--menu-background);position:fixed!important;bottom:0;top:0;z-index:1000;overflow:overlay}.opened[_nghost-%COMP%]{transform:translate(0)}@media only screen and (max-width: 1200px){[_nghost-%COMP%]{width:250px}}@media only screen and (max-width: 991px){.opened[_nghost-%COMP%]{z-index:1000;box-shadow:0 10px 40px #0000001a}}@media only screen and (max-width : 767px){[_nghost-%COMP%]{padding:85px 25px 20px}}@media only screen and (max-width : 480px){[_nghost-%COMP%]{width:100%}}@media print{[_nghost-%COMP%]{display:none}}.nav-item[_ngcontent-%COMP%]{margin:0 -10px;padding:0 10px}.nav-item[_ngcontent-%COMP%]:last-of-type{border:0}.nav-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:20px 0}.btn-version[_ngcontent-%COMP%], .btn-support[_ngcontent-%COMP%]{border-radius:2px;padding:10px;box-sizing:border-box;font-weight:700;font-size:13px;text-transform:uppercase;text-align:left;width:calc(100% - 10px);display:block}.btn-version[_ngcontent-%COMP%]{background:var(--background-3dp);margin-top:5px;color:var(--color-1dp)}.btn-version[_ngcontent-%COMP%]:hover{background:var(--background-5dp)}.btn-support[_ngcontent-%COMP%]{margin-top:20px;background:var(--primary-gradient);transition:none;color:#fff}.btn-support[_ngcontent-%COMP%]:hover{background:#151515}'],changeDetection:0})}return y})();var qe=C(467),Xt=C(9350),en=C(983),wn=C(9437);let Jn=(()=>{class y{httpClient;constructor(a){this.httpClient=a}addToNewsletter(a){return function Bn(y,u){const a="object"==typeof u;return new Promise((c,f)=>{let A,b=!1;y.subscribe({next:l=>{A=l,b=!0},error:f,complete:()=>{b?c(A):a?c(u.defaultValue):f(new Xt.G)}})})}(this.httpClient.post("https://nbdggbnqnrevwg6xlex3st3vpe0nyhiq.lambda-url.us-east-2.on.aws/?token=db1f899025b5a59a76b6b34b2a013893",{email:a}).pipe((0,wn.W)(()=>en.w)))}static \u0275fac=function(c){return new(c||y)(e.KVO($.Qq))};static \u0275prov=e.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),xt=(()=>{class y{newsletterService;cd;isDisabled;isEmailAdded;constructor(a,c){this.newsletterService=a,this.cd=c}addToNewsletter(a,c){var f=this;return(0,qe.A)(function*(){a.preventDefault(),f.isDisabled=!0,f.cd.markForCheck(),yield f.newsletterService.addToNewsletter(c),f.isEmailAdded=!0,f.cd.markForCheck()})()}static \u0275fac=function(c){return new(c||y)(e.rXU(Jn),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:y,selectors:[["app-newsletter"]],decls:14,vars:4,consts:[["email",""],[1,"newsletter-wrapper"],[1,"signup"],[1,"hgroup"],[1,"newsletter-form"],[1,"form-wrapper",3,"submit"],["id","newsletter-email","name","email","type","email","placeholder","Email address..","required","",1,"form-control",3,"disabled"],["type","submit","aria-label","Signup to Newsletter",1,"signup-button",3,"disabled"],[1,"far","fa-paper-plane"],[1,"icon-success","fas","fa-check-circle"]],template:function(c,f){if(1&c){const b=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"h3"),e.EFF(4,"Join our Newsletter"),e.k0s(),e.j41(5,"p"),e.EFF(6," Subscribe to stay up to date with the latest Nest updates, features, and videos! "),e.k0s()(),e.j41(7,"div",4)(8,"form",5),e.bIt("submit",function(l){e.eBV(b);const m=e.sdS(10);return e.Njj(f.addToNewsletter(l,m.value))}),e.nrm(9,"input",6,0),e.j41(11,"button",7),e.nrm(12,"i",8)(13,"i",9),e.k0s()()()()()}2&c&&(e.R7$(9),e.Y8G("disabled",f.isDisabled),e.R7$(2),e.AVh("btn-success",f.isEmailAdded),e.Y8G("disabled",f.isDisabled))},styles:['.transition[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast[_ngcontent-%COMP%]{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow[_ngcontent-%COMP%]{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix[_ngcontent-%COMP%]:before, .clearfix[_ngcontent-%COMP%]:after{content:" ";display:table}.clearfix[_ngcontent-%COMP%]:after{clear:both}.center-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.center-left[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.center-top[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing[_ngcontent-%COMP%]{box-sizing:border-box}.newsletter-wrapper[_ngcontent-%COMP%]{background:var(--background-3dp);padding:40px 85px;overflow:hidden;position:relative;margin:0 -85px;width:auto}@media only screen and (max-width: 1200px){.newsletter-wrapper[_ngcontent-%COMP%]{margin:0 -50px;padding:40px 50px}}@media only screen and (max-width : 767px){.newsletter-wrapper[_ngcontent-%COMP%]{margin:0 -20px;padding:40px 20px;width:100%;text-align:center}}.newsletter-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin:0 0 4px;color:var(--color-1dp)}.newsletter-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px;margin:0;color:var(--color);font-weight:500;line-height:22px}.newsletter-wrapper[_ngcontent-%COMP%]   .hgroup[_ngcontent-%COMP%], .newsletter-form[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.newsletter-form[_ngcontent-%COMP%]{text-align:right;width:40%;position:relative;margin-top:5px}.newsletter-wrapper[_ngcontent-%COMP%]   .hgroup[_ngcontent-%COMP%]{width:60%;float:left;position:relative}.newsletter-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:0;font-size:14px;font-family:Source Sans Pro;height:40px;padding:10px 20px;background:var(--background);color:var(--color);width:calc(100% - 70px);border-radius:3px;max-width:100%;vertical-align:middle;box-sizing:border-box;outline:0}.newsletter-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--primary-gradient);height:40px;padding:10px 18px;border:0;color:#fff;margin-left:-45px;font-size:14px;vertical-align:middle;border-top-right-radius:3px;border-bottom-right-radius:3px;transition:none;box-sizing:border-box;cursor:pointer;outline:0}.newsletter-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .newsletter-form[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{background:#111}.newsletter-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .icon-success[_ngcontent-%COMP%], .newsletter-form[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]   .fa-paper-plane[_ngcontent-%COMP%]{display:none}.newsletter-form[_ngcontent-%COMP%]   .btn-success[disabled][_ngcontent-%COMP%]{background:var(--background);color:#1dd81c;pointer-events:none}.newsletter-form[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]   .icon-success[_ngcontent-%COMP%]{display:inline-block}.newsletter-wrapper[_ngcontent-%COMP%]   .envelope-bg[_ngcontent-%COMP%]{font-size:180px;position:absolute;margin-top:-50px;margin-left:60px;color:#0000001a;z-index:0;transform:rotate(-30deg)}@media (max-width: 1020px){.newsletter-wrapper[_ngcontent-%COMP%]   .hgroup[_ngcontent-%COMP%], .newsletter-form[_ngcontent-%COMP%]{width:50%}}@media (max-width: 990px){.newsletter-wrapper[_ngcontent-%COMP%]   .hgroup[_ngcontent-%COMP%], .newsletter-form[_ngcontent-%COMP%]{width:100%}.newsletter-wrapper[_ngcontent-%COMP%]   .hgroup[_ngcontent-%COMP%]{float:none;text-align:center}.newsletter-form[_ngcontent-%COMP%]{margin-top:30px;text-align:center}.newsletter-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{margin-left:0}.newsletter-wrapper[_ngcontent-%COMP%]   .envelope-bg[_ngcontent-%COMP%]{font-size:280px}.newsletter-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{max-width:400px;width:calc(100% - 10px)}}'],changeDetection:0})}return y})(),gr=(()=>{class y{cd;router;elementRef;renderer;isSidebarOpened=!0;previousWidth;contentRef;isMarkupReady;scrollSubscription;scrollDebounceTime=100;constructor(a,c,f,b){this.cd=a,this.router=c,this.elementRef=f,this.renderer=b}ngOnInit(){this.router.events.pipe((0,vo.p)(a=>a instanceof mt.wF)).subscribe(()=>{if(window.innerWidth>768)return!1;this.isSidebarOpened=!1,this.cd.detectChanges()}),this.scrollSubscription=Ts(window,"scroll").pipe((0,Ti.B)(this.scrollDebounceTime)).subscribe(()=>{this.checkViewportBoundaries()})}ngAfterViewInit(){this.checkWindowWidth(window.innerWidth),this.contentRef&&this.contentRef.appendChild(this.createDocSearchScriptTag())}ngOnDestroy(){this.scrollSubscription&&this.scrollSubscription.unsubscribe()}onResize(a){this.checkWindowWidth(a.target.innerWidth)}toggleSidebar(){this.isSidebarOpened=!this.isSidebarOpened}checkWindowWidth(a){a=a||window.innerWidth,this.previousWidth!==a&&a<=768&&(this.previousWidth=a,this.isSidebarOpened=!1,this.cd.detectChanges())}checkViewportBoundaries(){const a=this.elementRef.nativeElement,c=a.querySelector("app-footer"),f=a.querySelector(".newsletter-wrapper"),b=a.querySelector("#carbonads"),A=a.querySelector(".sponsors-wrapper");if(c&&b)return window.innerWidth<768?(this.renderer.removeStyle(b,"position"),void this.renderer.removeStyle(b,"bottom")):(b&&A.classList.add("sponsors-carbon"),void(window.pageYOffset+window.innerHeight<f.offsetTop-c.offsetHeight+f.offsetHeight?(this.renderer.removeStyle(b,"position"),this.renderer.removeStyle(b,"bottom")):(this.renderer.setStyle(b,"position","absolute"),this.renderer.setStyle(b,"bottom","350px"))))}onRouteActivate(a){if(!a)return;const c=a.nativeElement;if(c){if(this.contentRef=c.querySelector(".content"),this.contentRef&&!this.contentRef.querySelector(".carbon-wrapper")){const b=this.createCarbonScriptTag(),A=document.createElement("div");A.classList.add("carbon-wrapper"),window.innerWidth>1200&&A.classList.add("hide"),A.prepend(b),this.contentRef.prepend(A)}this.cd.markForCheck(),setTimeout(()=>this.hideAdIfTocOverflow(),300)}}createCarbonScriptTag(){const a=document.createElement("script");return a.type="text/javascript",a.src="//cdn.carbonads.com/carbon.js?serve=CK7I653M&placement=nestjscom",a.id="_carbonads_js",a}createDocSearchScriptTag(){const a=document.createElement("script");return a.type="text/javascript",a.src="https://cdn.jsdelivr.net/npm/@docsearch/js@3",a.async=!0,a.onload=()=>{window.docsearch({apiKey:"c64d7a0a186b90f0cc49725dab1a7d9f",indexName:"nestjs",container:"#search",appId:"SDCBYAN96J",debug:!1})},a}hideAdIfTocOverflow(){const b=window.innerHeight-160-200,A=document.querySelector(".toc-wrapper ul");A&&(A.clientHeight>b&&window.innerWidth>1200?this.contentRef.querySelector(".carbon-wrapper").classList.add("hide"):this.contentRef.querySelector(".carbon-wrapper").classList.remove("hide"))}static \u0275fac=function(c){return new(c||y)(e.rXU(e.gRc),e.rXU(mt.Ix),e.rXU(e.aKT),e.rXU(e.sFG))};static \u0275cmp=e.VBU({type:y,selectors:[["app-homepage"]],hostBindings:function(c,f){1&c&&e.bIt("resize",function(A){return f.onResize(A)},!1,e.tSv)},decls:43,vars:6,consts:[[3,"toggle","isSidebarOpened"],[1,"logo-wrapper"],["href","https://docs.nest-js.fr","title","Documentation | NestJS - A node.js framework built on top of TypeScript"],["alt","NestJS Logo","src","/assets/logo-small-gradient.svg"],[1,"container-fluid"],[1,"app-menu"],[1,"container"],[1,"page-wrapper"],[3,"contentReference"],[3,"activate"],[1,"sponsors-wrapper"],[1,"sponsors-container"],["routerLink","/support"],[1,"row","clearfix"],[1,"inline-column"],[1,"title"],["href","https://trilon.io/","target","_blank",1,"logo-sponsor-container"],["src","/assets/sponsors/trilon.svg","alt","Trilon Logo",1,"logo-sponsor"],["href","https://marblism.com?utm_source=nest","target","_blank",1,"logo-sponsor-container"],["src","/assets/sponsors/marblism-logo.png","alt","Marblism Logo",1,"logo-sponsor"],["href","https://mojam.co","target","_blank",1,"logo-sponsor-container"],["src","/assets/sponsors/mojam-logo.png","alt","Mojam Logo",1,"logo-sponsor","logo-sponsor--slim"],["href","https://amplication.com/","target","_blank",1,"logo-sponsor-container"],["src","/assets/sponsors/amplication.svg","alt","Amplication Logo",1,"logo-sponsor"],["href","https://opencollective.com/nest","target","_blank","rel","nofollow",1,"btn","btn-primary"],["href","https://kamilmysliwiec.com","target","_blank","title","Kamil Mysliwiec Blog | Full-Stack Software Engineer"]],template:function(c,f){1&c&&(e.j41(0,"app-header",0),e.bIt("toggle",function(){return f.toggleSidebar()}),e.j41(1,"div",1)(2,"a",2),e.nrm(3,"img",3),e.k0s()()(),e.j41(4,"div",4),e.nrm(5,"app-menu",5),e.j41(6,"div",6)(7,"div",7),e.nrm(8,"app-toc",8),e.j41(9,"router-outlet",9),e.bIt("activate",function(A){return f.onRouteActivate(A)}),e.k0s()(),e.j41(10,"div",10)(11,"div",11)(12,"h3"),e.EFF(13,"Soutenez-nous"),e.k0s(),e.j41(14,"p"),e.EFF(15," Nest est un projet open source sous licence MIT. Il peut se d\xe9velopper gr\xe2ce au soutien de ces personnes formidables. Si vous souhaitez les rejoindre, apprenez-en plus "),e.j41(16,"a",12),e.EFF(17,"ici"),e.k0s(),e.EFF(18,". "),e.k0s(),e.j41(19,"div",13)(20,"div",14)(21,"h4",15),e.EFF(22,"Sponsors Principaux"),e.k0s(),e.j41(23,"a",16),e.nrm(24,"img",17),e.k0s(),e.j41(25,"a",18),e.nrm(26,"img",19),e.k0s(),e.j41(27,"a",20),e.nrm(28,"img",21),e.k0s(),e.j41(29,"a",22),e.nrm(30,"img",23),e.k0s()(),e.j41(31,"div",14)(32,"h4",15),e.EFF(33,"Sponsors / Partenaires"),e.k0s(),e.j41(34,"a",24)(35,"span"),e.EFF(36,"Devenir un sponsor"),e.k0s()()()()()(),e.nrm(37,"app-newsletter"),e.j41(38,"app-footer")(39,"p"),e.EFF(40," Fait par "),e.j41(41,"a",25),e.EFF(42," Kamil My\u015bliwiec "),e.k0s()()()()()),2&c&&(e.Y8G("isSidebarOpened",f.isSidebarOpened),e.R7$(5),e.AVh("opened",f.isSidebarOpened),e.R7$(),e.AVh("wide",!f.isSidebarOpened),e.R7$(2),e.Y8G("contentReference",f.contentRef))},dependencies:[mt.n3,mt.Wk,fs,ai,Xs,Ce,xt],styles:['.transition,.container{transition:all .2s cubic-bezier(.7,0,.3,1)}.transition-fast{transition:all .1s cubic-bezier(.7,0,.3,1)}.transition-slow{transition:all .52s cubic-bezier(.7,0,.3,1)}.clearfix:before,.clearfix:after{content:" ";display:table}.clearfix:after{clear:both}.center-element{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.center-left{position:absolute;left:50%;transform:translate(-50%)}.center-top{position:absolute;top:50%;transform:translateY(-50%)}.box-sizing,.container{box-sizing:border-box}.container-fluid{position:relative;display:block;table-layout:fixed;width:100%;min-height:100vh}.logo-wrapper svg,.logo-wrapper img{width:42px;height:50px}.container{margin-left:250px;width:calc(100% - 250px);padding:85px 85px 0;display:inline-block;vertical-align:top;position:relative}.container.wide{margin-left:0;width:100%;display:block}@media only screen and (max-width: 1200px){.container{margin-left:250px;width:calc(100% - 250px);padding:85px 50px 0}.container.wide{width:100%}}@media only screen and (max-width : 767px){.container{margin-left:0;width:100%;padding:85px 20px 0}}@media print{.container{margin-left:0;width:100%;padding:0 20px}}.page-wrapper{color:var(--color);line-height:26px}.page-wrapper a{font-weight:600;color:var(--primary-3dp)}.page-wrapper a:hover{color:#0894e2}.page-wrapper .content a{transition:none;background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}.page-wrapper .content a:hover{background:#0894e2;-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}.page-wrapper .content blockquote strong,.page-wrapper .content #carbonads a,.page-wrapper .content blockquote a{-webkit-text-fill-color:unset!important;-webkit-background-clip:unset!important;background:none}.page-wrapper .content blockquote strong:hover,.page-wrapper .content #carbonads a:hover,.page-wrapper .content blockquote a:hover{background:none}.page-wrapper .content a:has(>code){-webkit-text-fill-color:unset!important;-webkit-background-clip:unset!important;background:none}.page-wrapper .content a:has(>code):hover{background:none}.page-wrapper .content .banner a{-webkit-text-fill-color:unset!important;-webkit-background-clip:unset!important}.page-wrapper h1,.page-wrapper h2,.page-wrapper h3,.page-wrapper h4,.page-wrapper h5,.page-wrapper h6{color:var(--color-1dp)}.page-wrapper h3{font-size:24px;font-weight:700;margin:45px 0 20px}.page-wrapper h4{font-weight:600;margin:40px 0 -5px}.page-wrapper h3 a,.page-wrapper h4 a{opacity:0;filter:alpha(opacity=0);margin-left:.1em;padding:0 .25rem}.page-wrapper h3 span:hover+a,.page-wrapper h3 span+a:hover,.page-wrapper h3 a:focus,.page-wrapper h4 span:hover+a,.page-wrapper h4 span+a:hover,.page-wrapper h4 a:focus{opacity:1;filter:alpha(opacity=100)}.page-wrapper h3:before,.page-wrapper h4:before{content:"";display:block;position:relative;width:0;height:5em;margin-top:-5em;pointer-events:none}.page-wrapper h5{color:var(--color);margin-top:5px;font-weight:600;font-size:16px}.page-wrapper h3:first-of-type{margin:20px 0}.page-wrapper h3+h5{margin-top:-10px!important}.sponsors-wrapper{border-top:1px solid var(--background-2dp);padding:10px 0 60px;margin-top:20px;position:relative}.sponsors-wrapper img{display:inline-block;vertical-align:middle}.sponsors-wrapper a{color:var(--primary);font-weight:600}.sponsors-wrapper a:hover{color:#0894e2}.sponsors-wrapper h3{font-size:24px;font-weight:700}.sponsors-wrapper h4{color:var(--color-1dp);font-weight:600;font-size:18px;margin:30px 0 18px}.sponsors-wrapper .title{margin:50px 0 25px}.sponsors-wrapper p{margin:0;line-height:26px;font-size:16px;font-weight:500;color:var(--color)}.sponsors-wrapper .logo-sponsor-container{display:inline-block;margin-top:10px;margin-right:15px;margin-bottom:5px}.sponsors-wrapper .logo-sponsor-container:last-of-type{margin-right:0;margin-bottom:0}@media (max-width: 480px){.sponsors-wrapper .logo-sponsor-container{display:block;margin-bottom:20px}.sponsors-wrapper .logo-sponsor-container:last-of-type{margin-bottom:0}}.sponsors-wrapper .logo-sponsor{width:160px;filter:var(--company-logo-filter)}.sponsors-wrapper .logo-sponsor:hover{filter:grayscale(0)}.sponsors-wrapper .logo-sponsor--high{width:140px}.sponsors-wrapper .logo-sponsor--slim{width:auto;max-height:60px}@media (max-width: 480px){.sponsors-wrapper .logo-sponsor--slim{margin-left:0}}.sponsors-wrapper .logo-blueanchor{width:200px}.sponsors-wrapper .btn-primary{color:var(--primary-4dp);padding:12px 20px;display:inline-block;border-radius:2px;position:relative}.sponsors-wrapper .btn-primary span{background:var(--primary-gradient);-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}.sponsors-wrapper .btn-primary:before{content:"";position:absolute;inset:0;border-radius:2px;padding:2px;background:var(--primary-gradient);-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask-composite:exclude;pointer-events:none;z-index:2}.sponsors-wrapper .btn-primary:hover{color:#0894e2}.sponsors-wrapper .btn-primary:hover:before{background:#0894e2}.sponsors-wrapper .btn-primary:hover span{background:#0894e2}@media (min-width: 1200px){.sponsors-carbon{width:calc(100% - 220px)}}.backers-wrapper{margin-top:10px}.backers-wrapper img{width:30px;border-radius:50%;-webkit-border-radius:50%}.inline-column{width:50%;vertical-align:top;margin:0;float:left}@media only screen and (max-width: 991px){.inline-column{width:100%;float:none}}.toc-wrapper,.content,.companies-wrapper{display:inline-block;vertical-align:top}.content,.companies-wrapper{width:calc(100% - 220px)}@media print{.content,.companies-wrapper{width:100%}}@media only screen and (max-width: 1200px){.content,.companies-wrapper{width:100%}}.content .row,.companies-wrapper .row{display:flex}@media only screen and (max-width: 991px){.content .row,.companies-wrapper .row{display:block}}.content .thumbnail,.companies-wrapper .thumbnail{width:400px}@media only screen and (max-width: 991px){.content .thumbnail,.companies-wrapper .thumbnail{width:100%;max-width:400px;margin:0 auto}}.content .thumbnail img,.companies-wrapper .thumbnail img{max-width:100%;padding-top:10px;padding-bottom:0;box-sizing:border-box}.content .thumbnail.p-l-30 img,.companies-wrapper .thumbnail.p-l-30 img{padding-left:30px}@media only screen and (max-width: 991px){.content .thumbnail.p-l-30 img,.companies-wrapper .thumbnail.p-l-30 img{padding-left:0}}.content .thumbnail.p-r-30 img,.companies-wrapper .thumbnail.p-r-30 img{padding-right:30px}@media only screen and (max-width: 991px){.content .thumbnail.p-r-30 img,.companies-wrapper .thumbnail.p-r-30 img{padding-right:0}}.content .content,.companies-wrapper .content{flex-basis:55%}.content .contact-us,.companies-wrapper .contact-us{background:var(--primary);color:#fff;padding:20px 30px;border-radius:3px;margin:35px 0;display:flex;align-items:center}@media only screen and (max-width : 767px){.content .contact-us,.companies-wrapper .contact-us{display:block;text-align:center}.content .contact-us p,.companies-wrapper .contact-us p{text-align:center}}.content .contact-us h5,.companies-wrapper .contact-us h5{text-transform:uppercase;font-weight:600;color:#fff;margin:0}.content .contact-us p,.companies-wrapper .contact-us p{margin:0}.content .contact-us a,.companies-wrapper .contact-us a{background:#fff;border:2px solid #fff;box-sizing:border-box;padding:8px 16px;border-radius:4px;float:right;display:block;text-align:center}.content .contact-us a:hover,.companies-wrapper .contact-us a:hover{background:transparent;color:#fff}@media only screen and (max-width : 767px){.content .contact-us a,.companies-wrapper .contact-us a{width:150px;margin:15px auto 0;float:none}}.content .contact-us .column,.companies-wrapper .contact-us .column{justify-content:center;flex-direction:column}.content .contact-us .column-text,.companies-wrapper .contact-us .column-text{flex-grow:3;margin-right:20px}.github-links{float:right;margin-top:24px}.github-links svg{font-size:17px;color:var(--color-1dp)}.github-links a:hover svg{color:var(--primary)}@media only screen and (max-width: 1200px){.toc-wrapper{display:none}}.company-logo{display:inline-block;vertical-align:middle;margin:10px 20px}.company-logo img{max-width:130px;max-height:60px;padding:6px;filter:var(--company-filter);opacity:var(--company-logo-opacity)}.company-logo img:hover{filter:var(--company-filter-hover);opacity:1}.companies-list a{color:var(--color);font-size:15px;font-weight:400}#carbonads a{color:inherit;text-decoration:none;font-weight:400}#carbonads a:hover{color:inherit}#carbonads span{display:block;overflow:hidden}#carbonads_1,#carbonads_2{display:none}.carbon-img{display:block;margin:0 auto 8px;line-height:1}.carbon-text{display:block;margin-bottom:8px}.carbon-poweredby{text-transform:uppercase;display:block;font-size:10px;letter-spacing:1px;line-height:1}.carbon-wrapper #carbonads{position:fixed;z-index:11;display:block;right:65px;bottom:20px;overflow:hidden;padding:1em;background:var(--background-2dp)!important;text-align:center;line-height:1.5;font-size:13px;max-width:130px}@media only screen and (max-width: 1200px){.carbon-wrapper #carbonads{margin:16px 0 16px 16px;padding:12px;float:right;position:static}}@media only screen and (max-width: 991px){.carbon-wrapper #carbonads{margin:16px 0 16px 16px;padding:12px;text-align:left}}@media (max-width: 360px){.carbon-wrapper #carbonads{display:none}}@media print{.carbon-wrapper{display:none}}.algolia-autocomplete .ds-dropdown-menu{width:460px;min-width:460px;margin-top:18px}.algolia-autocomplete .algolia-docsearch-suggestion--category-header{color:#151515;text-transform:uppercase;font-weight:700;font-size:16px}.algolia-autocomplete .algolia-docsearch-suggestion--subcategory-column{color:#757575}.algolia-autocomplete .algolia-docsearch-suggestion--title{font-weight:600;color:151515}.algolia-autocomplete .algolia-docsearch-suggestion--text{font-size:.8rem;color:gray}.algolia-autocomplete .algolia-docsearch-suggestion--highlight{color:var(--primary);background:#fff2f4}.algolia-autocomplete .ds-dropdown-menu .ds-suggestion.ds-cursor .algolia-docsearch-suggestion.suggestion-layout-simple,.algolia-autocomplete .ds-dropdown-menu .ds-suggestion.ds-cursor .algolia-docsearch-suggestion:not(.suggestion-layout-simple) .algolia-docsearch-suggestion--content{background:#fff8f9}\n'],encapsulation:2,changeDetection:0})}return y})();var Xe=C(8050),zn=C(5119),Ln=C(4819),Qn=C(2469);let pn=(()=>{class y extends Xe.y{static \u0275fac=(()=>{let a;return function(f){return(a||(a=e.xGo(y)))(f||y)}})();static \u0275cmp=e.VBU({type:y,selectors:[["app-application-context"]],features:[e.Vt3],decls:162,vars:0,consts:[["contentReference",""],["appd0470255101e0cfe0ded784e71b6872a5fc9a530",""],["appe0d42d3d91df92884af663b1e904ee85c41d1356",""],["app8e2f66b052a6371f471ec88a307cba7f46a570a4",""],["app7faa9f7b7c7c3131b5301e8f8ada264ba1ba0b6b",""],["appf35ecc711961b75f44167a6dd07f3b12f41d8c69",""],["app32cc6346111a97426d07f5f8006b6f4f6e19b91e",""],[1,"content"],[1,"github-links"],["href","https://github.com/Lou8is/docs.nestjs.fr/edit/main/content/application-context.md","aria-label","Proposer des modifications","title","Proposer des modifications"],[1,"fas","fa-edit"],["id","applications-ind\xe9pendantes"],["appAnchor","","id","pour-commencer"],[1,"with-heading"],[1,"filename"],[1,"language-typescript"],["appAnchor","","id","r\xe9cup\xe9rer-les-fournisseurs-\xe0-partir-de-modules-statiques"],[1,"info"],["appAnchor","","id","r\xe9cup\xe9rer-les-fournisseurs-\xe0-partir-de-modules-dynamiques"],["routerLink","/fundamentals/dynamic-modules.md"],["appAnchor","","id","phase-de-cl\xf4ture"],["routerLink","/fundamentals/lifecycle-events.md"],["appAnchor","","id","exemple"],["rel","nofollow","target","_blank","href","https://github.com/nestjs/nest/tree/master/sample/18-context"]],template:function(c,f){1&c&&(e.j41(0,"div",7,0)(2,"div",8)(3,"a",9),e.nrm(4,"i",10),e.k0s()(),e.j41(5,"h3",11),e.EFF(6,"Applications ind\xe9pendantes"),e.k0s(),e.j41(7,"p"),e.EFF(8,"Il existe plusieurs fa\xe7ons de monter une application Nest. Vous pouvez cr\xe9er une application web, un microservice ou simplement une "),e.j41(9,"strong"),e.EFF(10,"application autonome"),e.k0s(),e.EFF(11," Nest (sans aucun \xe9couteur r\xe9seau). L'application autonome Nest est une enveloppe autour du "),e.j41(12,"strong"),e.EFF(13,"conteneur IoC"),e.k0s(),e.EFF(14," Nest, qui contient toutes les classes instanci\xe9es. Nous pouvons obtenir une r\xe9f\xe9rence \xe0 n'importe quelle instance existante \xe0 partir de n'importe quel module import\xe9 en utilisant directement l'objet de l'application autonome. Ainsi, vous pouvez tirer parti du cadre de travail Nest partout, y compris, par exemple, dans des t\xe2ches "),e.j41(15,"strong"),e.EFF(16,"CRON"),e.k0s(),e.EFF(17," script\xe9es. Vous pouvez m\xeame construire une "),e.j41(18,"strong"),e.EFF(19,"CLI"),e.k0s(),e.EFF(20," par-dessus."),e.k0s(),e.j41(21,"h4",12)(22,"span"),e.EFF(23,"Pour commencer"),e.k0s()(),e.j41(24,"p"),e.EFF(25,"Pour cr\xe9er une application autonome Nest, utilisez la construction suivante :"),e.k0s(),e.j41(26,"app-copy-button",13)(27,"span",14),e.nrm(28,"app-tabs",null,1),e.k0s(),e.j41(30,"pre")(31,"code",15),e.EFF(32,"\nasync function bootstrap() {\n  const app = await NestFactory.createApplicationContext(AppModule);\n  // votre logique d'application ici...\n}\nbootstrap();\n"),e.k0s()()(),e.j41(33,"h4",16)(34,"span"),e.EFF(35,"R\xe9cup\xe9rer les fournisseurs \xe0 partir de modules statiques"),e.k0s()(),e.j41(36,"p"),e.EFF(37,"L'objet d'application autonome vous permet d'obtenir une r\xe9f\xe9rence \xe0 n'importe quelle instance enregistr\xe9e dans l'application Nest. Imaginons que nous ayons un fournisseur "),e.j41(38,"code"),e.EFF(39,"TasksService"),e.k0s(),e.EFF(40," dans le module "),e.j41(41,"code"),e.EFF(42,"TasksModule"),e.k0s(),e.EFF(43," qui a \xe9t\xe9 import\xe9 par notre module "),e.j41(44,"code"),e.EFF(45,"AppModule"),e.k0s(),e.EFF(46,". Cette classe fournit un ensemble de m\xe9thodes que nous voulons appeler \xe0 partir d'un travail CRON."),e.k0s(),e.j41(47,"app-copy-button",13)(48,"span",14),e.nrm(49,"app-tabs",null,2),e.k0s(),e.j41(51,"pre")(52,"code",15),e.EFF(53,"\nconst tasksService = app.get(TasksService);\n"),e.k0s()()(),e.j41(54,"p"),e.EFF(55,"Pour acc\xe9der \xe0 l'instance de "),e.j41(56,"code"),e.EFF(57,"TasksService"),e.k0s(),e.EFF(58,", nous utilisons la m\xe9thode "),e.j41(59,"code"),e.EFF(60,"get()"),e.k0s(),e.EFF(61,". La m\xe9thode "),e.j41(62,"code"),e.EFF(63,"get()"),e.k0s(),e.EFF(64," agit comme une "),e.j41(65,"strong"),e.EFF(66,"requ\xeate"),e.k0s(),e.EFF(67," qui recherche une instance dans chaque module enregistr\xe9. Vous pouvez lui passer n'importe quel jeton de fournisseur. Alternativement, pour une v\xe9rification stricte du contexte, passez un objet options avec la propri\xe9t\xe9 "),e.j41(68,"code"),e.EFF(69,"strict : true"),e.k0s(),e.EFF(70,". Avec cette option en vigueur, vous devez naviguer \xe0 travers des modules sp\xe9cifiques pour obtenir une instance particuli\xe8re du contexte s\xe9lectionn\xe9."),e.k0s(),e.j41(71,"app-copy-button",13)(72,"span",14),e.nrm(73,"app-tabs",null,3),e.k0s(),e.j41(75,"pre")(76,"code",15),e.EFF(77,"\nconst tasksService = app.select(TasksModule).get(TasksService, { strict: true });\n"),e.k0s()()(),e.j41(78,"p"),e.EFF(79,"Voici un r\xe9sum\xe9 des m\xe9thodes disponibles pour r\xe9cup\xe9rer les r\xe9f\xe9rences d'instance de l'objet d'application autonome."),e.k0s(),e.j41(80,"table")(81,"tr")(82,"td")(83,"code"),e.EFF(84,"get()"),e.k0s()(),e.j41(85,"td"),e.EFF(86," R\xe9cup\xe8re une instance d'un contr\xf4leur ou d'un fournisseur (y compris les gardes, les filtres, etc.) disponible dans le contexte de l'application. "),e.k0s()(),e.j41(87,"tr")(88,"td")(89,"code"),e.EFF(90,"select()"),e.k0s()(),e.j41(91,"td"),e.EFF(92," Navigue dans le graphe du module pour extraire une instance sp\xe9cifique du module s\xe9lectionn\xe9 (utilis\xe9 avec le mode strict d\xe9crit ci-dessus). "),e.k0s()()(),e.j41(93,"blockquote",17)(94,"strong"),e.EFF(95,"Astuce"),e.k0s(),e.EFF(96," En mode non strict, le module racine est s\xe9lectionn\xe9 par d\xe9faut. Pour s\xe9lectionner un autre module, vous devez naviguer manuellement dans le graphe des modules, \xe9tape par \xe9tape.\n"),e.k0s(),e.j41(97,"p"),e.EFF(98,"Gardez \xe0 l'esprit qu'une application autonome n'a pas d'auditeurs r\xe9seau, donc toutes les fonctionnalit\xe9s de Nest li\xe9es \xe0 HTTP (par exemple, middleware, intercepteurs, pipes, gardes, etc.) ne sont pas disponibles dans ce contexte."),e.k0s(),e.j41(99,"p"),e.EFF(100,"Par exemple, m\xeame si vous enregistrez un intercepteur global dans votre application et que vous r\xe9cup\xe9rez une instance de contr\xf4leur en utilisant la m\xe9thode "),e.j41(101,"code"),e.EFF(102,"app.get()"),e.k0s(),e.EFF(103,", l'intercepteur ne sera pas ex\xe9cut\xe9."),e.k0s(),e.j41(104,"h4",18)(105,"span"),e.EFF(106,"R\xe9cup\xe9rer les fournisseurs \xe0 partir de modules dynamiques"),e.k0s()(),e.j41(107,"p"),e.EFF(108,"Lorsqu'il s'agit de "),e.j41(109,"a",19),e.EFF(110,"modules dynamiques"),e.k0s(),e.EFF(111,", nous devons fournir \xe0 "),e.j41(112,"code"),e.EFF(113,"app.select"),e.k0s(),e.EFF(114," le m\xeame objet qui repr\xe9sente le module dynamique enregistr\xe9 dans l'application. Par exemple :"),e.k0s(),e.j41(115,"app-copy-button",13)(116,"span",14),e.nrm(117,"app-tabs",null,4),e.k0s(),e.j41(119,"pre")(120,"code",15),e.EFF(121,"\nexport const dynamicConfigModule = ConfigModule.register({ folder: './config' });\n\n@Module({\n  imports: [dynamicConfigModule],\n})\nexport class AppModule {}\n"),e.k0s()()(),e.j41(122,"p"),e.EFF(123,"Vous pouvez ensuite s\xe9lectionner ce module plus tard :"),e.k0s(),e.j41(124,"app-copy-button",13)(125,"span",14),e.nrm(126,"app-tabs",null,5),e.k0s(),e.j41(128,"pre")(129,"code",15),e.EFF(130,"\nconst configService = app.select(dynamicConfigModule).get(ConfigService, { strict: true });\n"),e.k0s()()(),e.j41(131,"h4",20)(132,"span"),e.EFF(133,"Phase de cl\xf4ture"),e.k0s()(),e.j41(134,"p"),e.EFF(135,"Si vous voulez que l'application node se ferme apr\xe8s la fin du script (par exemple, pour un script ex\xe9cutant des t\xe2ches CRON), vous devez appeler la m\xe9thode "),e.j41(136,"code"),e.EFF(137,"app.close()"),e.k0s(),e.EFF(138," \xe0 la fin de votre fonction "),e.j41(139,"code"),e.EFF(140,"bootstrap"),e.k0s(),e.EFF(141," comme ceci :"),e.k0s(),e.j41(142,"app-copy-button",13)(143,"span",14),e.nrm(144,"app-tabs",null,6),e.k0s(),e.j41(146,"pre")(147,"code",15),e.EFF(148,"\nasync function bootstrap() {\n  const app = await NestFactory.createApplicationContext(AppModule);\n  // votre logique d'application ici...\n  await app.close();\n}\nbootstrap();\n"),e.k0s()()(),e.j41(149,"p"),e.EFF(150,"Et comme indiqu\xe9 dans le chapitre "),e.j41(151,"a",21),e.EFF(152,"\xc9v\xe9nements du cycle de vie"),e.k0s(),e.EFF(153,", cela d\xe9clenchera des hooks de cycle de vie."),e.k0s(),e.j41(154,"h4",22)(155,"span"),e.EFF(156,"Exemple"),e.k0s()(),e.j41(157,"p"),e.EFF(158,"Un exemple fonctionnel est disponible "),e.j41(159,"a",23),e.EFF(160,"ici"),e.k0s(),e.EFF(161,"."),e.k0s()())},dependencies:[mt.Wk,zn.O,Ln.a,Qn.z],encapsulation:2,changeDetection:0})}return y})();var An=C(5749),Zn=C(5663);let Rs=(()=>{class y extends Xe.y{static \u0275fac=(()=>{let a;return function(f){return(a||(a=e.xGo(y)))(f||y)}})();static \u0275cmp=e.VBU({type:y,selectors:[["app-components"]],features:[e.Vt3],decls:301,vars:24,consts:[["contentReference",""],["app8e6ae99b0556d51e882b9ac9ba2fac928dba44a8",""],["appb004b1f6e8586ac54dec832da77465bd72db13b1",""],["app081bcb34344f35828e35efc0b2ae7feb07c36e32",""],["appba1a0fc34b79166cf6b89ded45e0714bfd29505f",""],[1,"content"],[1,"github-links"],["href","https://github.com/Lou8is/docs.nestjs.fr/edit/main/content/components.md","aria-label","Proposer des modifications","title","Proposer des modifications"],[1,"fas","fa-edit"],["id","fournisseurs"],["src","/assets/Components_1.png",1,"illustrative-image"],["routerLink","/modules"],[1,"info"],["rel","nofollow","target","_blank","href","https://en.wikipedia.org/wiki/SOLID"],["appAnchor","","id","services"],[1,"with-heading"],[1,"filename"],[1,"language-typescript"],["rel","nofollow","target","_blank","href","https://en.wikipedia.org/wiki/Inversion_of_control"],["appAnchor","","id","injection-de-d\xe9pendance"],["rel","nofollow","target","_blank","href","https://angular.dev/guide/di"],["appAnchor","","id","port\xe9es"],["href","/fundamentals/injection-scopes"],["appAnchor","","id","fournisseurs-personnalis\xe9s"],["routerLink","/fundamentals/dependency-injection"],["appAnchor","","id","fournisseurs-optionnels"],["routerLink","/fundamentals/custom-providers"],["appAnchor","","id","injection-bas\xe9e-sur-les-propri\xe9t\xe9s"],[1,"warning"],["appAnchor","","id","enregistrement-des-fournisseurs"],[1,"file-tree"],[1,"item"],[1,"children"],["appAnchor","","id","instanciation-manuelle"],["routerLink","/fundamentals/module-ref"],["routerLink","/standalone-applications"]],template:function(c,f){if(1&c&&(e.j41(0,"div",5,0)(2,"div",6)(3,"a",7),e.nrm(4,"i",8),e.k0s()(),e.j41(5,"h3",9),e.EFF(6,"Fournisseurs"),e.k0s(),e.j41(7,"p"),e.EFF(8,"Les fournisseurs sont un concept fondamental de Nest. De nombreuses classes de base de Nest peuvent \xeatre consid\xe9r\xe9es comme des fournisseurs : services, r\xe9pertoires, usines, aides, etc. L'id\xe9e principale d'un fournisseur est qu'il peut \xeatre "),e.j41(9,"strong"),e.EFF(10,"inject\xe9"),e.k0s(),e.EFF(11,' en tant que d\xe9pendance ; cela signifie que les objets peuvent cr\xe9er diverses relations les uns avec les autres et que la fonction de "c\xe2blage" de ces objets peut \xeatre largement d\xe9l\xe9gu\xe9e au syst\xe8me d\'ex\xe9cution Nest.'),e.k0s(),e.j41(12,"figure"),e.nrm(13,"img",10),e.k0s(),e.j41(14,"p"),e.EFF(15,"Dans le chapitre pr\xe9c\xe9dent, nous avons construit un simple "),e.j41(16,"code"),e.EFF(17,"CatsController"),e.k0s(),e.EFF(18,". Les contr\xf4leurs doivent g\xe9rer les requ\xeates HTTP et d\xe9l\xe9guer les t\xe2ches plus complexes \xe0 des "),e.j41(19,"strong"),e.EFF(20,"fournisseurs"),e.k0s(),e.EFF(21,". Les fournisseurs sont des classes JavaScript simples qui sont d\xe9clar\xe9es comme "),e.j41(22,"code"),e.EFF(23,"providers"),e.k0s(),e.EFF(24," dans un module NestJS. Pour plus d'informations, lisez le chapitre "),e.j41(25,"a",11),e.EFF(26,'"Modules"'),e.k0s(),e.EFF(27,"."),e.k0s(),e.j41(28,"blockquote",12)(29,"strong"),e.EFF(30,"Astuce"),e.k0s(),e.EFF(31," \xc9tant donn\xe9 que Nest offre la possibilit\xe9 de concevoir et d'organiser les d\xe9pendances d'une mani\xe8re plus OO, nous recommandons vivement de suivre les principes "),e.j41(32,"a",13),e.EFF(33,"SOLID"),e.k0s(),e.EFF(34,".\n"),e.k0s(),e.j41(35,"h4",14)(36,"span"),e.EFF(37,"Services"),e.k0s()(),e.j41(38,"p"),e.EFF(39,"Commen\xe7ons par cr\xe9er un simple "),e.j41(40,"code"),e.EFF(41,"CatsService"),e.k0s(),e.EFF(42,". Ce service sera responsable du stockage et de la r\xe9cup\xe9ration des donn\xe9es, et est con\xe7u pour \xeatre utilis\xe9 par le "),e.j41(43,"code"),e.EFF(44,"CatsController"),e.k0s(),e.EFF(45,", c'est donc un bon candidat pour \xeatre d\xe9fini en tant que fournisseur."),e.k0s(),e.j41(46,"app-copy-button",15)(47,"span",16),e.EFF(48),e.nI1(49,"extension"),e.nrm(50,"app-tabs",null,1),e.k0s(),e.j41(52,"pre")(53,"code",17),e.EFF(54,"\nimport { Injectable } from '@nestjs/common';\nimport { Cat } from './interfaces/cat.interface';\n\n@Injectable()\nexport class CatsService {\n  private readonly cats: Cat[] = [];\n\n  create(cat: Cat) {\n    this.cats.push(cat);\n  }\n\n  findAll(): Cat[] {\n    return this.cats;\n  }\n}\n"),e.k0s()(),e.j41(55,"pre")(56,"code",17),e.EFF(57,"\nimport { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class CatsService {\n  constructor() {\n    this.cats = [];\n  }\n\n  create(cat) {\n    this.cats.push(cat);\n  }\n\n  findAll() {\n    return this.cats;\n  }\n}\n"),e.k0s()()(),e.j41(58,"blockquote",12)(59,"strong"),e.EFF(60,"Astuce"),e.k0s(),e.EFF(61," Pour cr\xe9er un service \xe0 l'aide de la CLI, il suffit d'ex\xe9cuter la commande "),e.j41(62,"code"),e.EFF(63,"$ nest g service cats"),e.k0s(),e.EFF(64,".\n"),e.k0s(),e.j41(65,"p"),e.EFF(66,"Notre "),e.j41(67,"code"),e.EFF(68,"CatsService"),e.k0s(),e.EFF(69," est une classe basique avec une propri\xe9t\xe9 et deux m\xe9thodes. La seule nouveaut\xe9 est qu'elle utilise le d\xe9corateur "),e.j41(70,"code"),e.EFF(71,"@Injectable()"),e.k0s(),e.EFF(72,". Le d\xe9corateur "),e.j41(73,"code"),e.EFF(74,"@Injectable()"),e.k0s(),e.EFF(75," attache des m\xe9tadonn\xe9es, qui d\xe9clarent que "),e.j41(76,"code"),e.EFF(77,"CatsService"),e.k0s(),e.EFF(78," est une classe qui peut \xeatre g\xe9r\xe9e par le conteneur Nest "),e.j41(79,"a",18),e.EFF(80,"IoC"),e.k0s(),e.EFF(81,". D'ailleurs, cet exemple utilise aussi une interface "),e.j41(82,"code"),e.EFF(83,"Cat"),e.k0s(),e.EFF(84,", qui ressemble probablement \xe0 quelque chose comme \xe7a :"),e.k0s(),e.j41(85,"app-copy-button",15)(86,"span",16),e.EFF(87),e.nI1(88,"extension"),e.nrm(89,"app-tabs",null,2),e.k0s(),e.j41(91,"pre")(92,"code",17),e.EFF(93,"\nexport interface Cat {\n  name: string;\n  age: number;\n  breed: string;\n}\n"),e.k0s()()(),e.j41(94,"p"),e.EFF(95,"Maintenant que nous avons une classe de service pour r\xe9cup\xe9rer les chats, utilisons-la dans le "),e.j41(96,"code"),e.EFF(97,"CatsController"),e.k0s(),e.EFF(98," :"),e.k0s(),e.j41(99,"app-copy-button",15)(100,"span",16),e.EFF(101),e.nI1(102,"extension"),e.nrm(103,"app-tabs",null,3),e.k0s(),e.j41(105,"pre")(106,"code",17),e.EFF(107,"\nimport { Controller, Get, Post, Body } from '@nestjs/common';\nimport { CreateCatDto } from './dto/create-cat.dto';\nimport { CatsService } from './cats.service';\nimport { Cat } from './interfaces/cat.interface';\n\n@Controller('cats')\nexport class CatsController {\n  constructor(private catsService: CatsService) {}\n\n  @Post()\n  async create(@Body() createCatDto: CreateCatDto) {\n    this.catsService.create(createCatDto);\n  }\n\n  @Get()\n  async findAll(): Promise<Cat[]> {\n    return this.catsService.findAll();\n  }\n}\n"),e.k0s()(),e.j41(108,"pre")(109,"code",17),e.EFF(110,"\nimport { Controller, Get, Post, Body, Bind, Dependencies } from '@nestjs/common';\nimport { CatsService } from './cats.service';\n\n@Controller('cats')\n@Dependencies(CatsService)\nexport class CatsController {\n  constructor(catsService) {\n    this.catsService = catsService;\n  }\n\n  @Post()\n  @Bind(Body())\n  async create(createCatDto) {\n    this.catsService.create(createCatDto);\n  }\n\n  @Get()\n  async findAll() {\n    return this.catsService.findAll();\n  }\n}\n"),e.k0s()()(),e.j41(111,"p"),e.EFF(112,"Le "),e.j41(113,"code"),e.EFF(114,"CatsService"),e.k0s(),e.EFF(115," est "),e.j41(116,"strong"),e.EFF(117,"inject\xe9"),e.k0s(),e.EFF(118," \xe0 travers le constructeur de la classe. Notez l'utilisation de la syntaxe "),e.j41(119,"code"),e.EFF(120,"private"),e.k0s(),e.EFF(121,". Ce raccourci nous permet de d\xe9clarer et d'initialiser le membre "),e.j41(122,"code"),e.EFF(123,"catsService"),e.k0s(),e.EFF(124," imm\xe9diatement au m\xeame endroit."),e.k0s(),e.j41(125,"h4",19)(126,"span"),e.EFF(127,"Injection de d\xe9pendance"),e.k0s()(),e.j41(128,"p"),e.EFF(129,"Nest est construit autour du mod\xe8le de conception commun\xe9ment appel\xe9 "),e.j41(130,"strong"),e.EFF(131,"Injection de d\xe9pendance"),e.k0s(),e.EFF(132,". Nous vous recommandons de lire un excellent article sur ce concept dans la documentation officielle "),e.j41(133,"a",20),e.EFF(134,"Angular"),e.k0s(),e.EFF(135,"."),e.k0s(),e.j41(136,"p"),e.EFF(137,"Dans Nest, gr\xe2ce aux capacit\xe9s de TypeScript, il est extr\xeamement facile de g\xe9rer les d\xe9pendances parce qu'elles sont r\xe9solues simplement par type. Dans l'exemple ci-dessous, Nest va r\xe9soudre la d\xe9pendance "),e.j41(138,"code"),e.EFF(139,"catsService"),e.k0s(),e.EFF(140," en cr\xe9ant et en retournant une instance de "),e.j41(141,"code"),e.EFF(142,"CatsService"),e.k0s(),e.EFF(143," (ou, dans le cas normal d'un singleton, en retournant l'instance existante si elle a d\xe9j\xe0 \xe9t\xe9 demand\xe9e ailleurs). Cette d\xe9pendance est r\xe9solue et pass\xe9e au constructeur de votre contr\xf4leur (ou assign\xe9e \xe0 la propri\xe9t\xe9 indiqu\xe9e) :"),e.k0s(),e.j41(144,"app-copy-button")(145,"pre")(146,"code",17),e.EFF(147,"\nconstructor(private catsService: CatsService) {}\n"),e.k0s()()(),e.j41(148,"h4",21)(149,"span"),e.EFF(150,"Port\xe9es"),e.k0s()(),e.j41(151,"p"),e.EFF(152,"Les fournisseurs ont normalement une dur\xe9e de vie (\"port\xe9e\") synchronis\xe9e avec le cycle de vie de l'application. Lorsque l'application est d\xe9marr\xe9e, chaque d\xe9pendance doit \xeatre r\xe9solue et, par cons\xe9quent, chaque fournisseur doit \xeatre instanci\xe9. De m\xeame, lorsque l'application s'arr\xeate, chaque fournisseur est d\xe9truit. Cependant, il existe des moyens de rendre la dur\xe9e de vie de votre fournisseur "),e.j41(153,"strong"),e.EFF(154,"limit\xe9e \xe0 une requ\xeate"),e.k0s(),e.EFF(155,". Vous pouvez en savoir plus sur ces techniques dans le chapitre "),e.j41(156,"a",22),e.EFF(157,"Port\xe9es d'injection"),e.k0s(),e.EFF(158,"."),e.k0s(),e.j41(159,"p"),e.nrm(160,"app-banner-courses"),e.k0s(),e.j41(161,"h4",23)(162,"span"),e.EFF(163,"Fournisseurs personnalis\xe9s"),e.k0s()(),e.j41(164,"p"),e.EFF(165,"Nest dispose d'un conteneur d'inversion de contr\xf4le (\"IoC\") int\xe9gr\xe9 qui r\xe9sout les relations entre les fournisseurs. Cette fonction sous-tend la fonction d'injection de d\xe9pendance d\xe9crite ci-dessus, mais elle est en fait beaucoup plus puissante que ce que nous avons d\xe9crit jusqu'\xe0 pr\xe9sent. Il existe plusieurs fa\xe7ons de d\xe9finir un fournisseur : vous pouvez utiliser des valeurs simples, des classes et des factories asynchrones ou synchrones. D'autres exemples au sujet de la d\xe9finition de fournisseurs peuvent \xeatre trouv\xe9s dans le chapitre sur les "),e.j41(166,"a",24),e.EFF(167,"Injections de d\xe9pendances"),e.k0s(),e.EFF(168,"."),e.k0s(),e.j41(169,"h4",25)(170,"span"),e.EFF(171,"Fournisseurs optionnels"),e.k0s()(),e.j41(172,"p"),e.EFF(173,"Occasionnellement, vous pouvez avoir des d\xe9pendances qui ne doivent pas n\xe9cessairement \xeatre r\xe9solues. Par exemple, votre classe peut d\xe9pendre d'un "),e.j41(174,"strong"),e.EFF(175,"objet de configuration"),e.k0s(),e.EFF(176,", mais si aucun n'est fourni, les valeurs par d\xe9faut doivent \xeatre utilis\xe9es. Dans ce cas, la d\xe9pendance devient facultative, car l'absence du fournisseur de configuration n'entra\xeene pas d'erreurs."),e.k0s(),e.j41(177,"p"),e.EFF(178,"Pour indiquer qu'un fournisseur est optionnel, utilisez le d\xe9corateur "),e.j41(179,"code"),e.EFF(180,"@Optional()"),e.k0s(),e.EFF(181," dans la signature du constructeur."),e.k0s(),e.j41(182,"app-copy-button")(183,"pre")(184,"code",17),e.EFF(185,"\nimport { Injectable, Optional, Inject } from '@nestjs/common';\n\n@Injectable()\nexport class HttpService<T> {\n  constructor(@Optional() @Inject('HTTP_OPTIONS') private httpClient: T) {}\n}\n"),e.k0s()()(),e.j41(186,"p"),e.EFF(187,"Notez que dans l'exemple ci-dessus, nous utilisons un fournisseur personnalis\xe9, ce qui est la raison pour laquelle nous incluons le "),e.j41(188,"strong"),e.EFF(189,"jeton"),e.k0s(),e.EFF(190," personnalis\xe9 "),e.j41(191,"code"),e.EFF(192,"HTTP_OPTIONS"),e.k0s(),e.EFF(193,". Les exemples pr\xe9c\xe9dents montraient une injection bas\xe9e sur un constructeur, indiquant une d\xe9pendance \xe0 travers une classe dans le constructeur. Pour en savoir plus sur les fournisseurs personnalis\xe9s et leurs jetons associ\xe9s, lisez le chapitre "),e.j41(194,"a",26),e.EFF(195,"Fournisseurs personnalis\xe9s"),e.k0s(),e.EFF(196,"."),e.k0s(),e.j41(197,"h4",27)(198,"span"),e.EFF(199,"Injection bas\xe9e sur les propri\xe9t\xe9s"),e.k0s()(),e.j41(200,"p"),e.EFF(201,"La technique que nous avons utilis\xe9e jusqu'\xe0 pr\xe9sent est appel\xe9e injection bas\xe9e sur le constructeur, car les fournisseurs sont inject\xe9s via la m\xe9thode du constructeur. Dans certains cas tr\xe8s sp\xe9cifiques, "),e.j41(202,"strong"),e.EFF(203,"l'injection bas\xe9e sur les propri\xe9t\xe9s"),e.k0s(),e.EFF(204," peut s'av\xe9rer utile. Par exemple, si votre classe de premier niveau d\xe9pend d'un ou de plusieurs fournisseurs, les faire remonter en appelant "),e.j41(205,"code"),e.EFF(206,"super()"),e.k0s(),e.EFF(207," dans les sous-classes \xe0 partir du constructeur peut \xeatre tr\xe8s fastidieux. Pour \xe9viter cela, vous pouvez utiliser le d\xe9corateur "),e.j41(208,"code"),e.EFF(209,"@Inject()"),e.k0s(),e.EFF(210," au niveau de la propri\xe9t\xe9."),e.k0s(),e.j41(211,"app-copy-button")(212,"pre")(213,"code",17),e.EFF(214,"\nimport { Injectable, Inject } from '@nestjs/common';\n\n@Injectable()\nexport class HttpService<T> {\n  @Inject('HTTP_OPTIONS')\n  private readonly httpClient: T;\n}\n"),e.k0s()()(),e.j41(215,"blockquote",28)(216,"strong"),e.EFF(217,"Attention"),e.k0s(),e.EFF(218," Si votre classe n'\xe9tend pas une autre classe, vous devriez toujours pr\xe9f\xe9rer d'utiliser l'injection bas\xe9e sur le constructeur. Le constructeur d\xe9crit explicitement les d\xe9pendances requises et offre une meilleure visibilit\xe9 que les attributs de classe annot\xe9s avec "),e.j41(219,"code"),e.EFF(220,"@Inject"),e.k0s(),e.EFF(221,".\n"),e.k0s(),e.j41(222,"h4",29)(223,"span"),e.EFF(224,"Enregistrement des fournisseurs"),e.k0s()(),e.j41(225,"p"),e.EFF(226,"Maintenant que nous avons d\xe9fini un fournisseur ("),e.j41(227,"code"),e.EFF(228,"CatsService"),e.k0s(),e.EFF(229,"), et que nous avons un consommateur de ce service ("),e.j41(230,"code"),e.EFF(231,"CatsController"),e.k0s(),e.EFF(232,"), nous devons enregistrer le service avec Nest pour qu'il puisse effectuer l'injection. Nous faisons cela en \xe9ditant notre fichier de module ("),e.j41(233,"code"),e.EFF(234,"app.module.ts"),e.k0s(),e.EFF(235,") et en ajoutant le service \xe0 la liste des "),e.j41(236,"code"),e.EFF(237,"providers"),e.k0s(),e.EFF(238," du d\xe9corateur "),e.j41(239,"code"),e.EFF(240,"@Module()"),e.k0s(),e.EFF(241,"."),e.k0s(),e.j41(242,"app-copy-button",15)(243,"span",16),e.EFF(244),e.nI1(245,"extension"),e.nrm(246,"app-tabs",null,4),e.k0s(),e.j41(248,"pre")(249,"code",17),e.EFF(250,"\nimport { Module } from '@nestjs/common';\nimport { CatsController } from './cats/cats.controller';\nimport { CatsService } from './cats/cats.service';\n\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n})\nexport class AppModule {}\n"),e.k0s()()(),e.j41(251,"p"),e.EFF(252,"Nest sera maintenant capable de r\xe9soudre les d\xe9pendances de la classe "),e.j41(253,"code"),e.EFF(254,"CatsController"),e.k0s(),e.EFF(255,"."),e.k0s(),e.j41(256,"p"),e.EFF(257,"Voici \xe0 quoi devrait ressembler la structure de notre r\xe9pertoire :"),e.k0s(),e.j41(258,"div",30)(259,"div",31),e.EFF(260,"src"),e.k0s(),e.j41(261,"div",32)(262,"div",31),e.EFF(263,"cats"),e.k0s(),e.j41(264,"div",32)(265,"div",31),e.EFF(266,"dto"),e.k0s(),e.j41(267,"div",32)(268,"div",31),e.EFF(269,"create-cat.dto.ts"),e.k0s()(),e.j41(270,"div",31),e.EFF(271,"interfaces"),e.k0s(),e.j41(272,"div",32)(273,"div",31),e.EFF(274,"cat.interface.ts"),e.k0s()(),e.j41(275,"div",31),e.EFF(276,"cats.controller.ts"),e.k0s(),e.j41(277,"div",31),e.EFF(278,"cats.service.ts"),e.k0s()(),e.j41(279,"div",31),e.EFF(280,"app.module.ts"),e.k0s(),e.j41(281,"div",31),e.EFF(282,"main.ts"),e.k0s()()(),e.j41(283,"h4",33)(284,"span"),e.EFF(285,"Instanciation manuelle"),e.k0s()(),e.j41(286,"p"),e.EFF(287,"Jusqu'\xe0 pr\xe9sent, nous avons vu comment Nest g\xe8re automatiquement la plupart des d\xe9tails de la r\xe9solution des d\xe9pendances. Dans certaines circonstances, il peut \xeatre n\xe9cessaire de sortir du syst\xe8me d'injection de d\xe9pendances int\xe9gr\xe9 et de r\xe9cup\xe9rer ou d'instancier manuellement des fournisseurs. Nous abordons bri\xe8vement deux de ces sujets ci-dessous."),e.k0s(),e.j41(288,"p"),e.EFF(289,"Pour obtenir des instances existantes ou instancier des fournisseurs de mani\xe8re dynamique, vous pouvez utiliser la "),e.j41(290,"a",34),e.EFF(291,"R\xe9f\xe9rence de module"),e.k0s(),e.EFF(292,"."),e.k0s(),e.j41(293,"p"),e.EFF(294,"Pour obtenir des fournisseurs dans la fonction "),e.j41(295,"code"),e.EFF(296,"bootstrap()"),e.k0s(),e.EFF(297," (par exemple pour les applications autonomes sans contr\xf4leurs, ou pour utiliser un service de configuration pendant le bootstrapping), voir "),e.j41(298,"a",35),e.EFF(299,"Applications ind\xe9pendantes"),e.k0s(),e.EFF(300,"."),e.k0s()()),2&c){const b=e.sdS(51),A=e.sdS(90),l=e.sdS(104),m=e.sdS(247);e.R7$(48),e.SpI(" ",e.i5U(49,12,"cats.service",b.isJsActive),"\n"),e.R7$(4),e.AVh("hide",b.isJsActive),e.R7$(3),e.AVh("hide",!b.isJsActive),e.R7$(32),e.SpI(" ",e.i5U(88,15,"interfaces/cat.interface",A.isJsActive),"\n"),e.R7$(14),e.SpI(" ",e.i5U(102,18,"cats.controller",l.isJsActive),"\n"),e.R7$(4),e.AVh("hide",l.isJsActive),e.R7$(3),e.AVh("hide",!l.isJsActive),e.R7$(136),e.SpI(" ",e.i5U(245,21,"app.module",m.isJsActive),"\n")}},dependencies:[mt.Wk,zn.O,Ln.a,An.Q,Qn.z,Zn.M],encapsulation:2,changeDetection:0})}return y})();var hs=C(7077);let Xi=(()=>{class y extends Xe.y{static \u0275fac=(()=>{let a;return function(f){return(a||(a=e.xGo(y)))(f||y)}})();static \u0275cmp=e.VBU({type:y,selectors:[["app-controllers"]],features:[e.Vt3],decls:965,vars:82,consts:[["contentReference",""],["appb89a7b8f4003b97854887e9f1857028708326150",""],["appc9c929c5428e73434f8b8c091a609ba1669cee9a",""],["appb27394e82d719424ed3daf51b2594551dea89a7b",""],["app070d3c783bbfb13426a2e2b760db486e5f979a2b",""],["app8c5f9cab4217955041a6beb4362796c195093e35",""],["appbf2f7208ecba956548b6c0b9dda593b9bf2c58e7",""],["appad65a0b874abae12631e1468bf6fb994a20215d9",""],["appfa25cbbfa9ee88a2379c8394aacb79d49846ca7f",""],["appe7b0c7e331d9d429c673d13cf6eb46f18ec45cb4",""],["appb914002179cf88334a3a91612550249c8ccdaba2",""],["appc21e61673667590368fde9963dd13bc24c7732cf",""],["appf448017276fa7bbef4a93817afb25f48f559ef3f",""],["appc766298f54b729facf987d558c47d7f0e8cdf76d",""],[1,"content"],[1,"github-links"],["href","https://github.com/Lou8is/docs.nestjs.fr/edit/main/content/controllers.md","aria-label","Proposer des modifications","title","Proposer des modifications"],[1,"fas","fa-edit"],["id","contr\xf4leurs"],["src","/assets/Controllers_1.png",1,"illustrative-image"],[1,"info"],["routerLink","/techniques/validation"],["href","/recipes/crud-generator#crud-generator"],["appAnchor","","id","routage"],[1,"with-heading"],[1,"filename"],[1,"language-typescript"],["href","controllers#code-de-retour"],["href","https://expressjs.com/en/api.html#res","rel","nofollow","target","_blank"],[1,"warning"],["appAnchor","","id","lobjet-requ\xeate"],["rel","nofollow","target","_blank","href","https://expressjs.com/en/api.html#req"],[1,"table-code-asterisk"],["routerLink","/custom-decorators"],["appAnchor","","id","ressources"],["appAnchor","","id","jokers-de-route"],["appAnchor","","id","code-de-retour"],["appAnchor","","id","en-t\xeates"],["appAnchor","","id","redirection"],["appAnchor","","id","routes-param\xe9tr\xe9es"],["appAnchor","","id","routage-de-sous-domaine"],[1,""],["appAnchor","","id","port\xe9es"],["routerLink","/fundamentals/injection-scopes"],["appAnchor","","id","asynchronicit\xe9"],["rel","nofollow","target","_blank","href","https://kamilmysliwiec.com/typescript-2-1-introduction-async-await"],["rel","nofollow","target","_blank","href","https://rxjs-dev.firebaseapp.com/guide/observable"],["appAnchor","","id","charges-utiles-de-requ\xeates"],["href","/techniques/validation#stripping-properties"],["appAnchor","","id","gestion-des-erreurs"],["routerLink","/exception-filters"],["appAnchor","","id","exemple-de-ressource-compl\xe8te"],["routerLink","/recipes/crud-generator"],["appAnchor","","id","se-mettre-en-marche"],["appAnchor","","id","approche-sp\xe9cifique-aux-biblioth\xe8ques"],["rel","nofollow","target","_blank","href","https://expressjs.com/en/api.html#res"]],template:function(c,f){if(1&c&&(e.j41(0,"div",14,0)(2,"div",15)(3,"a",16),e.nrm(4,"i",17),e.k0s()(),e.j41(5,"h3",18),e.EFF(6,"Contr\xf4leurs"),e.k0s(),e.j41(7,"p"),e.EFF(8,"Les contr\xf4leurs sont charg\xe9s de traiter les "),e.j41(9,"strong"),e.EFF(10,"requ\xeates"),e.k0s(),e.EFF(11," entrantes et de renvoyer les "),e.j41(12,"strong"),e.EFF(13,"r\xe9ponses"),e.k0s(),e.EFF(14," au client."),e.k0s(),e.j41(15,"figure"),e.nrm(16,"img",19),e.k0s(),e.j41(17,"p"),e.EFF(18,"L'objectif d'un contr\xf4leur est de recevoir des requ\xeates sp\xe9cifiques pour l'application. Le m\xe9canisme de "),e.j41(19,"strong"),e.EFF(20,"routage"),e.k0s(),e.EFF(21," permet de contr\xf4ler quel contr\xf4leur re\xe7oit quelles requ\xeates. Souvent, chaque contr\xf4leur poss\xe8de plus d'une route, et les diff\xe9rentes routes peuvent effectuer des actions diff\xe9rentes."),e.k0s(),e.j41(22,"p"),e.EFF(23,"Pour cr\xe9er un contr\xf4leur de base, nous utilisons des classes et des "),e.j41(24,"strong"),e.EFF(25,"d\xe9corateurs"),e.k0s(),e.EFF(26,". Les d\xe9corateurs associent les classes aux m\xe9tadonn\xe9es requises et permettent \xe0 Nest de cr\xe9er une carte de routage (reliant les requ\xeates aux contr\xf4leurs correspondants)."),e.k0s(),e.j41(27,"blockquote",20)(28,"strong"),e.EFF(29,"Astuce"),e.k0s(),e.EFF(30," Pour cr\xe9er rapidement un contr\xf4leur CRUD avec la "),e.j41(31,"a",21),e.EFF(32,"validation"),e.k0s(),e.EFF(33," int\xe9gr\xe9e, vous pouvez utiliser le "),e.j41(34,"a",22),e.EFF(35,"g\xe9n\xe9rateur CRUD"),e.k0s(),e.EFF(36," de la CLI: "),e.j41(37,"code"),e.EFF(38,"nest g resource [nom]"),e.k0s(),e.EFF(39,".\n"),e.k0s(),e.j41(40,"h4",23)(41,"span"),e.EFF(42,"Routage"),e.k0s()(),e.j41(43,"p"),e.EFF(44,"Dans l'exemple suivant, nous allons utiliser le d\xe9corateur "),e.j41(45,"code"),e.EFF(46,"@Controller()"),e.k0s(),e.EFF(47,", qui est "),e.j41(48,"strong"),e.EFF(49,"n\xe9cessaire"),e.k0s(),e.EFF(50," pour d\xe9finir un contr\xf4leur de base. Nous allons sp\xe9cifier un pr\xe9fixe de chemin de route optionnel de "),e.j41(51,"code"),e.EFF(52,"cats"),e.k0s(),e.EFF(53,". L'utilisation d'un pr\xe9fixe de chemin dans un d\xe9corateur "),e.j41(54,"code"),e.EFF(55,"@Controller()"),e.k0s(),e.EFF(56," nous permet de regrouper facilement un ensemble de routes li\xe9es, et de minimiser le code r\xe9p\xe9titif. Par exemple, nous pouvons choisir de regrouper un ensemble de routes qui g\xe8rent les interactions avec une entit\xe9 chat sous la route "),e.j41(57,"code"),e.EFF(58,"/cats"),e.k0s(),e.EFF(59,". Dans ce cas, nous pourrions sp\xe9cifier le pr\xe9fixe de chemin "),e.j41(60,"code"),e.EFF(61,"cats"),e.k0s(),e.EFF(62," dans le d\xe9corateur "),e.j41(63,"code"),e.EFF(64,"@Controller()"),e.k0s(),e.EFF(65," afin de ne pas avoir \xe0 r\xe9p\xe9ter cette partie du chemin pour chaque route dans le fichier."),e.k0s(),e.j41(66,"app-copy-button",24)(67,"span",25),e.EFF(68),e.nI1(69,"extension"),e.nrm(70,"app-tabs",null,1),e.k0s(),e.j41(72,"pre")(73,"code",26),e.EFF(74,"\nimport { Controller, Get } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Get()\n  findAll(): string {\n    return 'This action returns all cats';\n  }\n}\n"),e.k0s()(),e.j41(75,"pre")(76,"code",26),e.EFF(77,"\nimport { Controller, Get } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Get()\n  findAll() {\n    return 'This action returns all cats';\n  }\n}\n"),e.k0s()()(),e.j41(78,"blockquote",20)(79,"strong"),e.EFF(80,"Astuce"),e.k0s(),e.EFF(81," Pour cr\xe9er un contr\xf4leur \xe0 l'aide de la CLI, il suffit d'ex\xe9cuter la commande "),e.j41(82,"code"),e.EFF(83,"$ nest g controller [nom]"),e.k0s(),e.EFF(84,".\n"),e.k0s(),e.j41(85,"p"),e.EFF(86,"Le d\xe9corateur de m\xe9thode de requ\xeate HTTP "),e.j41(87,"code"),e.EFF(88,"@Get()"),e.k0s(),e.EFF(89," avant la m\xe9thode "),e.j41(90,"code"),e.EFF(91,"findAll()"),e.k0s(),e.EFF(92," indique \xe0 Nest de cr\xe9er un handler pour un endpoint sp\xe9cifique pour les requ\xeates HTTP. L'endpoint correspond \xe0 la m\xe9thode de requ\xeate HTTP (GET dans ce cas) et au chemin d'acc\xe8s. Qu'est-ce que le chemin d'acc\xe8s ? Le chemin d'acc\xe8s d'un handler est d\xe9termin\xe9 en concat\xe9nant le pr\xe9fixe (facultatif) d\xe9clar\xe9 pour le contr\xf4leur et tout chemin sp\xe9cifi\xe9 dans le d\xe9corateur de la m\xe9thode. Puisque nous avons d\xe9clar\xe9 un pr\xe9fixe pour chaque route ( "),e.j41(93,"code"),e.EFF(94,"cats"),e.k0s(),e.EFF(95,"), et que nous n'avons pas ajout\xe9 d'information sur le chemin dans le d\xe9corateur, Nest va faire correspondre les requ\xeates "),e.j41(96,"code"),e.EFF(97,"GET /cats"),e.k0s(),e.EFF(98," \xe0 ce handler. Comme mentionn\xe9, le chemin inclut \xe0 la fois le pr\xe9fixe optionnel du contr\xf4leur "),e.j41(99,"strong"),e.EFF(100,"et"),e.k0s(),e.EFF(101," toute cha\xeene de chemin d\xe9clar\xe9e dans le d\xe9corateur de la m\xe9thode de requ\xeate. Par exemple, un pr\xe9fixe de chemin "),e.j41(102,"code"),e.EFF(103,"cats"),e.k0s(),e.EFF(104," combin\xe9 avec le d\xe9corateur "),e.j41(105,"code"),e.EFF(106,"@Get('breed')"),e.k0s(),e.EFF(107," produira une route pour des requ\xeates comme "),e.j41(108,"code"),e.EFF(109,"GET /cats/breed"),e.k0s(),e.EFF(110,"."),e.k0s(),e.j41(111,"p"),e.EFF(112,"Dans notre exemple ci-dessus, lorsqu'une requ\xeate GET est faite \xe0 ce point de terminaison, Nest route la requ\xeate vers notre m\xe9thode "),e.j41(113,"code"),e.EFF(114,"findAll()"),e.k0s(),e.EFF(115," d\xe9finie par l'utilisateur. Notez que le nom de la m\xe9thode que nous choisissons ici est compl\xe8tement arbitraire. Nous devons \xe9videmment d\xe9clarer une m\xe9thode \xe0 laquelle lier la route, mais Nest n'attache aucune importance au nom de la m\xe9thode choisie."),e.k0s(),e.j41(116,"p"),e.EFF(117,"Cette m\xe9thode renverra un code de r\xe9ponse 200 et la r\xe9ponse associ\xe9e, qui dans ce cas est juste une cha\xeene de caract\xe8res. Pourquoi cela se produit-il ? Pour l'expliquer, nous allons d'abord introduire le concept selon lequel Nest utilise deux options "),e.j41(118,"strong"),e.EFF(119,"diff\xe9rentes"),e.k0s(),e.EFF(120," pour manipuler les r\xe9ponses :"),e.k0s(),e.j41(121,"table")(122,"tr")(123,"td"),e.EFF(124,"Standard (recommand\xe9)"),e.k0s(),e.j41(125,"td"),e.EFF(126," Gr\xe2ce \xe0 cette m\xe9thode int\xe9gr\xe9e, lorsqu'un gestionnaire de requ\xeate renvoie un objet ou un tableau JavaScript, il sera "),e.j41(127,"strong"),e.EFF(128,"automatiquement"),e.k0s(),e.EFF(129," s\xe9rialis\xe9 en JSON. En revanche, lorsqu'il renvoie un type primitif JavaScript (par exemple, "),e.j41(130,"code"),e.EFF(131,"string"),e.k0s(),e.EFF(132,", "),e.j41(133,"code"),e.EFF(134,"number"),e.k0s(),e.EFF(135,", "),e.j41(136,"code"),e.EFF(137,"boolean"),e.k0s(),e.EFF(138,"), Nest envoie uniquement la valeur sans tenter de la s\xe9rialiser. Cela simplifie la gestion des r\xe9ponses : il suffit de renvoyer la valeur et Nest s'occupe du reste. "),e.nrm(139,"br")(140,"br"),e.EFF(141," De plus, le "),e.j41(142,"strong"),e.EFF(143,"code d'\xe9tat"),e.k0s(),e.EFF(144," de la r\xe9ponse est toujours 200 par d\xe9faut, sauf pour les requ\xeates POST qui utilisent 201. Nous pouvons facilement modifier ce comportement en ajoutant le d\xe9corateur "),e.j41(145,"code"),e.EFF(146,"@HttpCode(...)"),e.k0s(),e.EFF(147,"au niveau d'un handler (voir "),e.j41(148,"a",27),e.EFF(149,"Codes d'\xe9tat"),e.k0s(),e.EFF(150,"). "),e.k0s()(),e.j41(151,"tr")(152,"td"),e.EFF(153,"Sp\xe9cifique \xe0 une biblioth\xe8que"),e.k0s(),e.j41(154,"td"),e.EFF(155," Nous pouvons utiliser l'objet "),e.j41(156,"a",28),e.EFF(157,"response"),e.k0s(),e.EFF(158," sp\xe9cifique \xe0 la biblioth\xe8que (par exemple, Express), qui peut \xeatre inject\xe9 \xe0 l'aide du d\xe9corateur "),e.j41(159,"code"),e.EFF(160,"@Res()"),e.k0s(),e.EFF(161," dans la signature du gestionnaire de m\xe9thode (par exemple, "),e.j41(162,"code"),e.EFF(163,"findAll(@Res() response)"),e.k0s(),e.EFF(164,"). Cette approche vous permet d'utiliser les m\xe9thodes natives de gestion des r\xe9ponses expos\xe9es par cet objet. Par exemple, avec Express, vous pouvez construire des r\xe9ponses en utilisant un code tel que "),e.j41(165,"code"),e.EFF(166,"response.status(200).send()"),e.k0s(),e.EFF(167,". "),e.k0s()()(),e.j41(168,"blockquote",29)(169,"strong"),e.EFF(170,"Attention"),e.k0s(),e.EFF(171," Nest d\xe9tecte quand le handler utilise soit "),e.j41(172,"code"),e.EFF(173,"@Res()"),e.k0s(),e.EFF(174," soit "),e.j41(175,"code"),e.EFF(176,"@Next()"),e.k0s(),e.EFF(177,", indiquant que vous avez choisi l'option sp\xe9cifique \xe0 la biblioth\xe8que. Si les deux approches sont utilis\xe9es en m\xeame temps, l'approche standard est "),e.j41(178,"strong"),e.EFF(179,"automatiquement d\xe9sactiv\xe9e"),e.k0s(),e.EFF(180," pour cette seule route et ne fonctionnera plus comme pr\xe9vu. Pour utiliser les deux approches en m\xeame temps (par exemple, en injectant l'objet response pour d\xe9finir uniquement les cookies/headers mais en laissant le reste au framework), vous devez mettre l'option "),e.j41(181,"code"),e.EFF(182,"passthrough"),e.k0s(),e.EFF(183," \xe0 "),e.j41(184,"code"),e.EFF(185,"true"),e.k0s(),e.EFF(186," dans le d\xe9corateur "),e.j41(187,"code"),e.EFF(188),e.k0s(),e.EFF(189,".\n"),e.k0s(),e.j41(190,"p"),e.nrm(191,"app-banner-devtools"),e.k0s(),e.j41(192,"h4",30)(193,"span"),e.EFF(194,"L'objet requ\xeate"),e.k0s()(),e.j41(195,"p"),e.EFF(196,"Les handlers ont souvent besoin d'acc\xe9der aux d\xe9tails de la "),e.j41(197,"strong"),e.EFF(198,"requ\xeate"),e.k0s(),e.EFF(199," du client. Nest fournit un acc\xe8s \xe0 l'objet "),e.j41(200,"a",31),e.EFF(201,"request"),e.k0s(),e.EFF(202," de la plateforme sous-jacente (Express par d\xe9faut). Nous pouvons acc\xe9der \xe0 l'objet de requ\xeate en demandant \xe0 Nest de l'injecter en ajoutant le d\xe9corateur "),e.j41(203,"code"),e.EFF(204,"@Req()"),e.k0s(),e.EFF(205," \xe0 la signature du handler."),e.k0s(),e.j41(206,"app-copy-button",24)(207,"span",25),e.EFF(208),e.nI1(209,"extension"),e.nrm(210,"app-tabs",null,2),e.k0s(),e.j41(212,"pre")(213,"code",26),e.EFF(214,"\nimport { Controller, Get, Req } from '@nestjs/common';\nimport { Request } from 'express';\n\n@Controller('cats')\nexport class CatsController {\n  @Get()\n  findAll(@Req() request: Request): string {\n    return 'This action returns all cats';\n  }\n}\n"),e.k0s()(),e.j41(215,"pre")(216,"code",26),e.EFF(217,"\nimport { Controller, Bind, Get, Req } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Get()\n  @Bind(Req())\n  findAll(request) {\n    return 'This action returns all cats';\n  }\n}\n"),e.k0s()()(),e.j41(218,"blockquote",20)(219,"strong"),e.EFF(220,"Astuce"),e.k0s(),e.EFF(221," Afin de profiter des typages d'"),e.j41(222,"code"),e.EFF(223,"express"),e.k0s(),e.EFF(224," (comme dans l'exemple du param\xe8tre "),e.j41(225,"code"),e.EFF(226,"request : Request"),e.k0s(),e.EFF(227," ci-dessus), installez le paquet "),e.j41(228,"code"),e.EFF(229,"@types/express"),e.k0s(),e.EFF(230,".\n"),e.k0s(),e.j41(231,"p"),e.EFF(232,"L'objet request repr\xe9sente la requ\xeate HTTP et poss\xe8de des propri\xe9t\xe9s pour la cha\xeene de requ\xeate, les param\xe8tres, les en-t\xeates HTTP et le corps de la requ\xeate (en savoir plus "),e.j41(233,"a",31),e.EFF(234,"ici"),e.k0s(),e.EFF(235,"). Dans la plupart des cas, il n'est pas n\xe9cessaire de saisir ces propri\xe9t\xe9s manuellement. Nous pouvons utiliser des d\xe9corateurs d\xe9di\xe9s \xe0 la place, comme "),e.j41(236,"code"),e.EFF(237,"@Body()"),e.k0s(),e.EFF(238," ou "),e.j41(239,"code"),e.EFF(240,"@Query()"),e.k0s(),e.EFF(241,", qui sont disponibles d'embl\xe9e. Vous trouverez ci-dessous une liste des d\xe9corateurs fournis et des objets sp\xe9cifiques \xe0 la plate-forme qu'ils repr\xe9sentent."),e.k0s(),e.j41(242,"table")(243,"tbody")(244,"tr")(245,"td")(246,"code"),e.EFF(247,"@Request(), @Req()"),e.k0s()(),e.j41(248,"td")(249,"code"),e.EFF(250,"req"),e.k0s()()(),e.j41(251,"tr")(252,"td")(253,"code"),e.EFF(254,"@Response(), @Res()"),e.k0s(),e.j41(255,"span",32),e.EFF(256,"*"),e.k0s()(),e.j41(257,"td")(258,"code"),e.EFF(259,"res"),e.k0s()()(),e.j41(260,"tr")(261,"td")(262,"code"),e.EFF(263,"@Next()"),e.k0s()(),e.j41(264,"td")(265,"code"),e.EFF(266,"next"),e.k0s()()(),e.j41(267,"tr")(268,"td")(269,"code"),e.EFF(270,"@Session()"),e.k0s()(),e.j41(271,"td")(272,"code"),e.EFF(273,"req.session"),e.k0s()()(),e.j41(274,"tr")(275,"td")(276,"code"),e.EFF(277,"@Param(key?: string)"),e.k0s()(),e.j41(278,"td")(279,"code"),e.EFF(280,"req.params"),e.k0s(),e.EFF(281," / "),e.j41(282,"code"),e.EFF(283,"req.params[key]"),e.k0s()()(),e.j41(284,"tr")(285,"td")(286,"code"),e.EFF(287,"@Body(key?: string)"),e.k0s()(),e.j41(288,"td")(289,"code"),e.EFF(290,"req.body"),e.k0s(),e.EFF(291," / "),e.j41(292,"code"),e.EFF(293,"req.body[key]"),e.k0s()()(),e.j41(294,"tr")(295,"td")(296,"code"),e.EFF(297,"@Query(key?: string)"),e.k0s()(),e.j41(298,"td")(299,"code"),e.EFF(300,"req.query"),e.k0s(),e.EFF(301," / "),e.j41(302,"code"),e.EFF(303,"req.query[key]"),e.k0s()()(),e.j41(304,"tr")(305,"td")(306,"code"),e.EFF(307,"@Headers(name?: string)"),e.k0s()(),e.j41(308,"td")(309,"code"),e.EFF(310,"req.headers"),e.k0s(),e.EFF(311," / "),e.j41(312,"code"),e.EFF(313,"req.headers[name]"),e.k0s()()(),e.j41(314,"tr")(315,"td")(316,"code"),e.EFF(317,"@Ip()"),e.k0s()(),e.j41(318,"td")(319,"code"),e.EFF(320,"req.ip"),e.k0s()()(),e.j41(321,"tr")(322,"td")(323,"code"),e.EFF(324,"@HostParam()"),e.k0s()(),e.j41(325,"td")(326,"code"),e.EFF(327,"req.hosts"),e.k0s()()()()(),e.j41(328,"p")(329,"sup"),e.EFF(330,"* "),e.k0s(),e.EFF(331,"Pour des raisons de compatibilit\xe9 avec les typages des plateformes HTTP sous-jacentes (par exemple, Express et Fastify), Nest fournit les d\xe9corateurs "),e.j41(332,"code"),e.EFF(333,"@Res()"),e.k0s(),e.EFF(334," et "),e.j41(335,"code"),e.EFF(336,"@Response()"),e.k0s(),e.EFF(337,". "),e.j41(338,"code"),e.EFF(339,"@Res()"),e.k0s(),e.EFF(340," est simplement un alias de "),e.j41(341,"code"),e.EFF(342,"@Response()"),e.k0s(),e.EFF(343,". Tous deux exposent directement l'interface objet "),e.j41(344,"code"),e.EFF(345,"response"),e.k0s(),e.EFF(346," de la plateforme native sous-jacente. Lorsque vous les utilisez, vous devriez \xe9galement importer les typages de la biblioth\xe8que sous-jacente (par exemple, "),e.j41(347,"code"),e.EFF(348,"@types/express"),e.k0s(),e.EFF(349,") pour en tirer le meilleur parti. Notez que lorsque vous injectez "),e.j41(350,"code"),e.EFF(351,"@Res()"),e.k0s(),e.EFF(352," ou "),e.j41(353,"code"),e.EFF(354,"@Response()"),e.k0s(),e.EFF(355," dans un handler de m\xe9thode, vous mettez Nest en "),e.j41(356,"strong"),e.EFF(357,"mode sp\xe9cifique \xe0 la biblioth\xe8que"),e.k0s(),e.EFF(358," pour ce handler, et vous devenez responsable de la gestion de la r\xe9ponse. En faisant cela, vous devez \xe9mettre une sorte de r\xe9ponse en faisant un appel \xe0 l'objet "),e.j41(359,"code"),e.EFF(360,"response"),e.k0s(),e.EFF(361," (par exemple, "),e.j41(362,"code"),e.EFF(363,"res.json(...)"),e.k0s(),e.EFF(364," ou "),e.j41(365,"code"),e.EFF(366,"res.send(...)"),e.k0s(),e.EFF(367,"), ou le serveur HTTP se bloquera."),e.k0s(),e.j41(368,"blockquote",20)(369,"strong"),e.EFF(370,"Astuce"),e.k0s(),e.EFF(371," Pour apprendre \xe0 cr\xe9er vos propres d\xe9corateurs personnalis\xe9s, consultez "),e.j41(372,"a",33),e.EFF(373,"ce chapitre"),e.k0s(),e.EFF(374,".\n"),e.k0s(),e.j41(375,"h4",34)(376,"span"),e.EFF(377,"Ressources"),e.k0s()(),e.j41(378,"p"),e.EFF(379,'Plus t\xf4t, nous avons d\xe9fini un point d\'acc\xe8s pour r\xe9cup\xe9rer la ressource "chats" (route '),e.j41(380,"strong"),e.EFF(381,"GET"),e.k0s(),e.EFF(382,"). En g\xe9n\xe9ral, nous voudrons \xe9galement fournir un point de terminaison qui cr\xe9e de nouveaux enregistrements. Pour cela, cr\xe9ons le handler "),e.j41(383,"strong"),e.EFF(384,"POST"),e.k0s(),e.EFF(385," :"),e.k0s(),e.j41(386,"app-copy-button",24)(387,"span",25),e.EFF(388),e.nI1(389,"extension"),e.nrm(390,"app-tabs",null,3),e.k0s(),e.j41(392,"pre")(393,"code",26),e.EFF(394,"\nimport { Controller, Get, Post } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Post()\n  create(): string {\n    return 'This action adds a new cat';\n  }\n\n  @Get()\n  findAll(): string {\n    return 'This action returns all cats';\n  }\n}\n"),e.k0s()(),e.j41(395,"pre")(396,"code",26),e.EFF(397,"\nimport { Controller, Get, Post } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Post()\n  create() {\n    return 'This action adds a new cat';\n  }\n\n  @Get()\n  findAll() {\n    return 'This action returns all cats';\n  }\n}\n"),e.k0s()()(),e.j41(398,"p"),e.EFF(399,"C'est aussi simple que cela. Nest fournit des d\xe9corateurs pour toutes les m\xe9thodes HTTP standard : "),e.j41(400,"code"),e.EFF(401,"@Get()"),e.k0s(),e.EFF(402,", "),e.j41(403,"code"),e.EFF(404,"@Post()"),e.k0s(),e.EFF(405,", "),e.j41(406,"code"),e.EFF(407,"@Put()"),e.k0s(),e.EFF(408,", "),e.j41(409,"code"),e.EFF(410,"@Delete()"),e.k0s(),e.EFF(411,", "),e.j41(412,"code"),e.EFF(413,"@Patch()"),e.k0s(),e.EFF(414,", "),e.j41(415,"code"),e.EFF(416,"@Options()"),e.k0s(),e.EFF(417,", et "),e.j41(418,"code"),e.EFF(419,"@Head()"),e.k0s(),e.EFF(420,". De plus, "),e.j41(421,"code"),e.EFF(422,"@All()"),e.k0s(),e.EFF(423," d\xe9finit un point de terminaison qui les g\xe8re tous."),e.k0s(),e.j41(424,"h4",35)(425,"span"),e.EFF(426,"Jokers de route"),e.k0s()(),e.j41(427,"p"),e.EFF(428,"Les routes bas\xe9s sur des motifs sont \xe9galement pris en charge. Par exemple, l'ast\xe9risque est utilis\xe9 comme joker et correspondra \xe0 n'importe quelle combinaison de caract\xe8res."),e.k0s(),e.j41(429,"app-copy-button")(430,"pre")(431,"code",26),e.EFF(432,"\n@Get('ab*cd')\nfindAll() {\n  return 'Cette route utilise un joker';\n}\n"),e.k0s()()(),e.j41(433,"p"),e.EFF(434,"Le chemin d'acc\xe8s "),e.j41(435,"code"),e.EFF(436,"'ab*cd'"),e.k0s(),e.EFF(437," correspondra \xe0 "),e.j41(438,"code"),e.EFF(439,"abcd"),e.k0s(),e.EFF(440,", "),e.j41(441,"code"),e.EFF(442,"ab_cd"),e.k0s(),e.EFF(443,", "),e.j41(444,"code"),e.EFF(445,"abecd"),e.k0s(),e.EFF(446,", et ainsi de suite. Les caract\xe8res "),e.j41(447,"code"),e.EFF(448,"?"),e.k0s(),e.EFF(449,", "),e.j41(450,"code"),e.EFF(451,"+"),e.k0s(),e.EFF(452,", "),e.j41(453,"code"),e.EFF(454,"*"),e.k0s(),e.EFF(455,", et "),e.j41(456,"code"),e.EFF(457,"()"),e.k0s(),e.EFF(458," peuvent \xeatre utilis\xe9s dans un chemin d'acc\xe8s, et sont des sous-ensembles de leurs expressions r\xe9guli\xe8res correspondantes. Le trait d'union ( "),e.j41(459,"code"),e.EFF(460,"-"),e.k0s(),e.EFF(461,") et le point ("),e.j41(462,"code"),e.EFF(463,"."),e.k0s(),e.EFF(464,") sont interpr\xe9t\xe9s litt\xe9ralement par les chemins bas\xe9s sur des cha\xeenes de caract\xe8res."),e.k0s(),e.j41(465,"blockquote",29)(466,"strong"),e.EFF(467,"Attention"),e.k0s(),e.EFF(468," Un joker au milieu de l'itin\xe9raire n'est pris en charge que par express.\n"),e.k0s(),e.j41(469,"h4",36)(470,"span"),e.EFF(471,"Code de retour"),e.k0s()(),e.j41(472,"p"),e.EFF(473,"Comme mentionn\xe9, le "),e.j41(474,"strong"),e.EFF(475,"code de retour"),e.k0s(),e.EFF(476," de la r\xe9ponse est toujours "),e.j41(477,"strong"),e.EFF(478,"200"),e.k0s(),e.EFF(479," par d\xe9faut, sauf pour les requ\xeates POST qui sont "),e.j41(480,"strong"),e.EFF(481,"201"),e.k0s(),e.EFF(482,". Nous pouvons facilement changer ce comportement en ajoutant le d\xe9corateur "),e.j41(483,"code"),e.EFF(484,"@HttpCode(...)"),e.k0s(),e.EFF(485," au niveau du handler."),e.k0s(),e.j41(486,"app-copy-button")(487,"pre")(488,"code",26),e.EFF(489,"\n@Post()\n@HttpCode(204)\ncreate() {\n  return 'This action adds a new cat';\n}\n"),e.k0s()()(),e.j41(490,"blockquote",20)(491,"strong"),e.EFF(492,"Astuce"),e.k0s(),e.EFF(493," Importez "),e.j41(494,"code"),e.EFF(495,"HttpCode"),e.k0s(),e.EFF(496," depuis le paquet "),e.j41(497,"code"),e.EFF(498,"@nestjs/common"),e.k0s(),e.EFF(499,".\n"),e.k0s(),e.j41(500,"p"),e.EFF(501,"Souvent, votre code de retour n'est pas statique mais d\xe9pend de diff\xe9rents facteurs. Dans ce cas, vous pouvez utiliser un objet "),e.j41(502,"strong"),e.EFF(503,"r\xe9ponse"),e.k0s(),e.EFF(504," (inject\xe9 \xe0 l'aide de "),e.j41(505,"code"),e.EFF(506,"@Res()"),e.k0s(),e.EFF(507,") sp\xe9cifique \xe0 la biblioth\xe8que (ou, en cas d'erreur, lancer une exception)."),e.k0s(),e.j41(508,"h4",37)(509,"span"),e.EFF(510,"En-t\xeates"),e.k0s()(),e.j41(511,"p"),e.EFF(512,"Pour sp\xe9cifier un en-t\xeate de r\xe9ponse personnalis\xe9, vous pouvez utiliser un d\xe9corateur "),e.j41(513,"code"),e.EFF(514,"@Header()"),e.k0s(),e.EFF(515," ou un objet de r\xe9ponse sp\xe9cifique \xe0 la biblioth\xe8que (et appeler "),e.j41(516,"code"),e.EFF(517,"res.header()"),e.k0s(),e.EFF(518," directement)."),e.k0s(),e.j41(519,"app-copy-button")(520,"pre")(521,"code",26),e.EFF(522,"\n@Post()\n@Header('Cache-Control', 'no-store')\ncreate() {\n  return 'This action adds a new cat';\n}\n"),e.k0s()()(),e.j41(523,"blockquote",20)(524,"strong"),e.EFF(525,"Astuce"),e.k0s(),e.EFF(526," Importez "),e.j41(527,"code"),e.EFF(528,"Header"),e.k0s(),e.EFF(529," depuis le paquet "),e.j41(530,"code"),e.EFF(531,"@nestjs/common"),e.k0s(),e.EFF(532,".\n"),e.k0s(),e.j41(533,"h4",38)(534,"span"),e.EFF(535,"Redirection"),e.k0s()(),e.j41(536,"p"),e.EFF(537,"Pour rediriger une r\xe9ponse vers une URL sp\xe9cifique, vous pouvez utiliser un d\xe9corateur "),e.j41(538,"code"),e.EFF(539,"@Redirect()"),e.k0s(),e.EFF(540," ou un objet de r\xe9ponse sp\xe9cifique \xe0 la biblioth\xe8que (et appeler directement "),e.j41(541,"code"),e.EFF(542,"res.redirect()"),e.k0s(),e.EFF(543,")."),e.k0s(),e.j41(544,"p")(545,"code"),e.EFF(546,"@Redirect()"),e.k0s(),e.EFF(547," prend deux arguments, "),e.j41(548,"code"),e.EFF(549,"url"),e.k0s(),e.EFF(550," et "),e.j41(551,"code"),e.EFF(552,"statusCode"),e.k0s(),e.EFF(553,", tous deux optionnels. La valeur par d\xe9faut de "),e.j41(554,"code"),e.EFF(555,"statusCode"),e.k0s(),e.EFF(556," est "),e.j41(557,"code"),e.EFF(558,"302"),e.k0s(),e.EFF(559," ("),e.j41(560,"code"),e.EFF(561,"Found"),e.k0s(),e.EFF(562,") si elle est omise."),e.k0s(),e.j41(563,"app-copy-button")(564,"pre")(565,"code",26),e.EFF(566,"\n@Get()\n@Redirect('https://nestjs.com', 301)\n"),e.k0s()()(),e.j41(567,"blockquote",20)(568,"strong"),e.EFF(569,"Astuce"),e.k0s(),e.EFF(570," Il peut arriver que vous souhaitiez d\xe9terminer le code de retour HTTP ou l'URL de redirection de mani\xe8re dynamique. Pour ce faire, renvoyez un objet suivant l'interface "),e.j41(571,"code"),e.EFF(572,"HttpRedirectResponse"),e.k0s(),e.EFF(573," (issue de "),e.j41(574,"code"),e.EFF(575,"@nestjs/common"),e.k0s(),e.EFF(576,").\n"),e.k0s(),e.j41(577,"p"),e.EFF(578,"Les valeurs retourn\xe9es remplaceront tous les arguments pass\xe9s au d\xe9corateur "),e.j41(579,"code"),e.EFF(580,"@Redirect()"),e.k0s(),e.EFF(581,". Par exemple :"),e.k0s(),e.j41(582,"app-copy-button")(583,"pre")(584,"code",26),e.EFF(585,"\n@Get('docs')\n@Redirect('https://docs.nestjs.com', 302)\ngetDocs(@Query('version') version) {\n  if (version && version === '5') {\n    return { url: 'https://docs.nestjs.com/v5/' };\n  }\n}\n"),e.k0s()()(),e.j41(586,"h4",39)(587,"span"),e.EFF(588,"Routes param\xe9tr\xe9es"),e.k0s()(),e.j41(589,"p"),e.EFF(590,"Les routes avec des chemins statiques ne fonctionnent pas lorsque vous devez accepter des "),e.j41(591,"strong"),e.EFF(592,"donn\xe9es dynamiques"),e.k0s(),e.EFF(593," dans le cadre de la requ\xeate (par exemple, "),e.j41(594,"code"),e.EFF(595,"GET /cats/1"),e.k0s(),e.EFF(596," pour obtenir le chat avec l'identifiant "),e.j41(597,"code"),e.EFF(598,"1"),e.k0s(),e.EFF(599,"). Afin de d\xe9finir des routes avec des param\xe8tres, nous pouvons ajouter des "),e.j41(600,"strong"),e.EFF(601,"jetons"),e.k0s(),e.EFF(602," de param\xe8tres de route dans le chemin de la route pour capturer la valeur dynamique \xe0 cette position dans l'URL de la requ\xeate. Le param\xe8tre de route jeton dans l'exemple du d\xe9corateur "),e.j41(603,"code"),e.EFF(604,"@Get()"),e.k0s(),e.EFF(605," ci-dessous d\xe9montre cette utilisation. Les param\xe8tres de route d\xe9clar\xe9s de cette mani\xe8re peuvent \xeatre acc\xe9d\xe9s en utilisant le d\xe9corateur "),e.j41(606,"code"),e.EFF(607,"@Param()"),e.k0s(),e.EFF(608,", qui doit \xeatre ajout\xe9 \xe0 la signature de la m\xe9thode."),e.k0s(),e.j41(609,"blockquote",20)(610,"strong"),e.EFF(611,"Astuce"),e.k0s(),e.EFF(612," Les routes param\xe9tr\xe9es doivent \xeatre d\xe9clar\xe9es apr\xe8s les chemins statiques. Cela emp\xeache les chemins param\xe9tr\xe9s d'intercepter le trafic destin\xe9 aux chemins statiques.\n"),e.k0s(),e.j41(613,"app-copy-button",24)(614,"span",25),e.nrm(615,"app-tabs",null,4),e.k0s(),e.j41(617,"pre")(618,"code",26),e.EFF(619,"\n@Get(':id')\nfindOne(@Param() params: any): string {\n  console.log(params.id);\n  return `This action returns a #${params.id} cat`;\n}\n"),e.k0s()(),e.j41(620,"pre")(621,"code",26),e.EFF(622,"\n@Get(':id')\n@Bind(Param())\nfindOne(params) {\n  console.log(params.id);\n  return `This action returns a #${params.id} cat`;\n}\n"),e.k0s()()(),e.j41(623,"p")(624,"code"),e.EFF(625,"@Param()"),e.k0s(),e.EFF(626," est utilis\xe9 pour d\xe9corer un param\xe8tre de m\xe9thode ("),e.j41(627,"code"),e.EFF(628,"params"),e.k0s(),e.EFF(629," dans l'exemple ci-dessus), et rend les param\xe8tres de "),e.j41(630,"strong"),e.EFF(631,"route"),e.k0s(),e.EFF(632," disponibles en tant que propri\xe9t\xe9s de ce param\xe8tre de m\xe9thode d\xe9cor\xe9 \xe0 l'int\xe9rieur du corps de la m\xe9thode. Comme le montre le code ci-dessus, nous pouvons acc\xe9der au param\xe8tre "),e.j41(633,"code"),e.EFF(634,"id"),e.k0s(),e.EFF(635," en r\xe9f\xe9ren\xe7ant "),e.j41(636,"code"),e.EFF(637,"params.id"),e.k0s(),e.EFF(638,". Vous pouvez \xe9galement passer un jeton de param\xe8tre particulier au d\xe9corateur, puis r\xe9f\xe9rencer le param\xe8tre de route directement par son nom dans le corps de la m\xe9thode."),e.k0s(),e.j41(639,"blockquote",20)(640,"strong"),e.EFF(641,"Hint"),e.k0s(),e.EFF(642," Importez "),e.j41(643,"code"),e.EFF(644,"Param"),e.k0s(),e.EFF(645," depuis le paquet "),e.j41(646,"code"),e.EFF(647,"@nestjs/common"),e.k0s(),e.EFF(648,".\n"),e.k0s(),e.j41(649,"app-copy-button",24)(650,"span",25),e.nrm(651,"app-tabs",null,5),e.k0s(),e.j41(653,"pre")(654,"code",26),e.EFF(655,"\n@Get(':id')\nfindOne(@Param('id') id: string): string {\n  return `This action returns a #${id} cat`;\n}\n"),e.k0s()(),e.j41(656,"pre")(657,"code",26),e.EFF(658,"\n@Get(':id')\n@Bind(Param('id'))\nfindOne(id) {\n  return `This action returns a #${id} cat`;\n}\n"),e.k0s()()(),e.j41(659,"h4",40)(660,"span"),e.EFF(661,"Routage de sous-domaine"),e.k0s()(),e.j41(662,"p"),e.EFF(663,"Le d\xe9corateur "),e.j41(664,"code"),e.EFF(665,"@Controller"),e.k0s(),e.EFF(666," peut prendre une option "),e.j41(667,"code"),e.EFF(668,"host"),e.k0s(),e.EFF(669," pour exiger que l'h\xf4te HTTP des requ\xeates entrantes corresponde \xe0 une valeur sp\xe9cifique."),e.k0s(),e.j41(670,"app-copy-button")(671,"pre")(672,"code",26),e.EFF(673,"\n@Controller({ host: 'admin.example.com' })\nexport class AdminController {\n  @Get()\n  index(): string {\n    return 'Admin page';\n  }\n}\n"),e.k0s()()(),e.j41(674,"blockquote",41)(675,"strong"),e.EFF(676,"Attention"),e.k0s(),e.EFF(677," Comme "),e.j41(678,"strong"),e.EFF(679,"Fastify"),e.k0s(),e.EFF(680," ne supporte pas les routeurs imbriqu\xe9s, lors de l'utilisation du routage par sous-domaine, l'adaptateur Express (par d\xe9faut) doit \xeatre utilis\xe9 \xe0 la place.\n"),e.k0s(),e.j41(681,"p"),e.EFF(682,"Similaire \xe0 une route "),e.j41(683,"code"),e.EFF(684,"path"),e.k0s(),e.EFF(685,", l'option "),e.j41(686,"code"),e.EFF(687,"hosts"),e.k0s(),e.EFF(688," peut utiliser des jetons pour capturer la valeur dynamique \xe0 cette position dans le nom de l'h\xf4te. Le jeton de param\xe8tre d'h\xf4te dans l'exemple du d\xe9corateur "),e.j41(689,"code"),e.EFF(690,"@Controller()"),e.k0s(),e.EFF(691," ci-dessous d\xe9montre cette utilisation. Les param\xe8tres d'h\xf4tes d\xe9clar\xe9s de cette mani\xe8re peuvent \xeatre acc\xe9d\xe9s en utilisant le d\xe9corateur "),e.j41(692,"code"),e.EFF(693,"@HostParam()"),e.k0s(),e.EFF(694,", qui doit \xeatre ajout\xe9 \xe0 la signature de la m\xe9thode."),e.k0s(),e.j41(695,"app-copy-button")(696,"pre")(697,"code",26),e.EFF(698,"\n@Controller({ host: ':account.example.com' })\nexport class AccountController {\n  @Get()\n  getInfo(@HostParam('account') account: string) {\n    return account;\n  }\n}\n"),e.k0s()()(),e.j41(699,"h4",42)(700,"span"),e.EFF(701,"Port\xe9es"),e.k0s()(),e.j41(702,"p"),e.EFF(703,"Pour les personnes issues de diff\xe9rents langages de programmation, il peut \xeatre surprenant d'apprendre que dans Nest, presque tout est partag\xe9 entre les requ\xeates entrantes. Nous avons un pool de connexion \xe0 la base de donn\xe9es, des services singleton avec un \xe9tat global, etc. N'oubliez pas que Node.js ne suit pas le mod\xe8le sans \xe9tat multithread\xe9 requ\xeate/r\xe9ponse dans lequel chaque requ\xeate est trait\xe9e par un thread s\xe9par\xe9. Par cons\xe9quent, l'utilisation d'instances singleton est totalement "),e.j41(704,"strong"),e.EFF(705,"s\xe9curis\xe9e"),e.k0s(),e.EFF(706," pour nos applications."),e.k0s(),e.j41(707,"p"),e.EFF(708,"Cependant, il existe des cas o\xf9 la dur\xe9e de vie du contr\xf4leur bas\xe9e sur les requ\xeates peut \xeatre le comportement souhait\xe9, par exemple la mise en cache par requ\xeate dans les applications GraphQL, le suivi des requ\xeates ou la gestion multi-tenant. Apprenez \xe0 contr\xf4ler les port\xe9es "),e.j41(709,"a",43),e.EFF(710,"ici"),e.k0s(),e.EFF(711,"."),e.k0s(),e.j41(712,"h4",44)(713,"span"),e.EFF(714,"Asynchronicit\xe9"),e.k0s()(),e.j41(715,"p"),e.EFF(716,"Nous aimons le JavaScript moderne et nous savons que l'extraction de donn\xe9es est principalement "),e.j41(717,"strong"),e.EFF(718,"asynchrone"),e.k0s(),e.EFF(719,". C'est pourquoi Nest supporte et fonctionne bien avec les fonctions "),e.j41(720,"code"),e.EFF(721,"async"),e.k0s(),e.EFF(722,"."),e.k0s(),e.j41(723,"blockquote",20)(724,"strong"),e.EFF(725,"Astuce"),e.k0s(),e.EFF(726," En savoir plus sur la fonctionnalit\xe9 "),e.j41(727,"code"),e.EFF(728,"async / await"),e.k0s(),e.j41(729,"a",45),e.EFF(730,"ici"),e.k0s()(),e.j41(731,"p"),e.EFF(732,"Chaque fonction asynchrone doit retourner une "),e.j41(733,"code"),e.EFF(734,"Promise"),e.k0s(),e.EFF(735," (litt\xe9ralement, une promesse). Cela signifie que vous pouvez renvoyer une valeur diff\xe9r\xe9e que Nest sera capable de r\xe9soudre par lui-m\xeame. Voyons un exemple :"),e.k0s(),e.j41(736,"app-copy-button",24)(737,"span",25),e.EFF(738),e.nI1(739,"extension"),e.nrm(740,"app-tabs",null,6),e.k0s(),e.j41(742,"pre")(743,"code",26),e.EFF(744,"\n@Get()\nasync findAll(): Promise<any[]> {\n  return [];\n}\n"),e.k0s()(),e.j41(745,"pre")(746,"code",26),e.EFF(747,"\n@Get()\nasync findAll() {\n  return [];\n}\n"),e.k0s()()(),e.j41(748,"p"),e.EFF(749,"Le code ci-dessus est tout \xe0 fait valide. En outre, les gestionnaires de route Nest sont encore plus puissants car ils peuvent renvoyer des "),e.j41(750,"a",46),e.EFF(751,"flux observables"),e.k0s(),e.EFF(752," RxJS. Nest s'abonnera automatiquement \xe0 la source sous-jacente et prendra la derni\xe8re valeur \xe9mise (une fois que le flux est termin\xe9)."),e.k0s(),e.j41(753,"app-copy-button",24)(754,"span",25),e.EFF(755),e.nI1(756,"extension"),e.nrm(757,"app-tabs",null,7),e.k0s(),e.j41(759,"pre")(760,"code",26),e.EFF(761,"\n@Get()\nfindAll(): Observable<any[]> {\n  return of([]);\n}\n"),e.k0s()(),e.j41(762,"pre")(763,"code",26),e.EFF(764,"\n@Get()\nfindAll() {\n  return of([]);\n}\n"),e.k0s()()(),e.j41(765,"p"),e.EFF(766,"Les deux approches ci-dessus fonctionnent et vous pouvez utiliser celle qui correspond \xe0 vos besoins."),e.k0s(),e.j41(767,"h4",47)(768,"span"),e.EFF(769,"Charges utiles de requ\xeates"),e.k0s()(),e.j41(770,"p"),e.EFF(771,"Notre exemple pr\xe9c\xe9dent de handler de route POST n'acceptait aucun param\xe8tre client. Corrigeons cela en ajoutant le d\xe9corateur "),e.j41(772,"code"),e.EFF(773,"@Body()"),e.k0s(),e.EFF(774," ici."),e.k0s(),e.j41(775,"p"),e.EFF(776,"Mais d'abord (si vous utilisez TypeScript), nous devons d\xe9terminer le sch\xe9ma "),e.j41(777,"strong"),e.EFF(778,"DTO"),e.k0s(),e.EFF(779," (Data Transfer Object). Un DTO est un objet qui d\xe9finit comment les donn\xe9es seront envoy\xe9es sur le r\xe9seau. Nous pouvons d\xe9terminer le sch\xe9ma DTO en utilisant des interfaces "),e.j41(780,"strong"),e.EFF(781,"TypeScript"),e.k0s(),e.EFF(782," ou de simples classes. Il est int\xe9ressant de noter que nous recommandons ici l'utilisation de "),e.j41(783,"strong"),e.EFF(784,"classes"),e.k0s(),e.EFF(785,". Pourquoi ? Les classes font partie de la norme JavaScript ES6 et sont donc conserv\xe9es en tant qu'entit\xe9s r\xe9elles dans le JavaScript compil\xe9. D'autre part, comme les interfaces TypeScript sont supprim\xe9es lors de la transpilation, Nest ne peut pas s'y r\xe9f\xe9rer \xe0 l'ex\xe9cution. Ceci est important car des fonctionnalit\xe9s telles que les "),e.j41(786,"strong"),e.EFF(787,"Pipes"),e.k0s(),e.EFF(788," offrent des possibilit\xe9s suppl\xe9mentaires lorsqu'elles ont acc\xe8s au m\xe9tatype de la variable au moment de l'ex\xe9cution."),e.k0s(),e.j41(789,"p"),e.EFF(790,"Cr\xe9ons la classe "),e.j41(791,"code"),e.EFF(792,"CreateCatDto"),e.k0s(),e.EFF(793," :"),e.k0s(),e.j41(794,"app-copy-button",24)(795,"span",25),e.EFF(796),e.nI1(797,"extension"),e.nrm(798,"app-tabs",null,8),e.k0s(),e.j41(800,"pre")(801,"code",26),e.EFF(802,"\nexport class CreateCatDto {\n  name: string;\n  age: number;\n  breed: string;\n}\n"),e.k0s()()(),e.j41(803,"p"),e.EFF(804,"Il n'a que trois propri\xe9t\xe9s de base. Par la suite, nous pouvons utiliser le DTO nouvellement cr\xe9\xe9 dans le "),e.j41(805,"code"),e.EFF(806,"CatsController"),e.k0s(),e.EFF(807," :"),e.k0s(),e.j41(808,"app-copy-button",24)(809,"span",25),e.EFF(810),e.nI1(811,"extension"),e.nrm(812,"app-tabs",null,9),e.k0s(),e.j41(814,"pre")(815,"code",26),e.EFF(816,"\n@Post()\nasync create(@Body() createCatDto: CreateCatDto) {\n  return 'This action adds a new cat';\n}\n"),e.k0s()(),e.j41(817,"pre")(818,"code",26),e.EFF(819,"\n@Post()\n@Bind(Body())\nasync create(createCatDto) {\n  return 'This action adds a new cat';\n}\n"),e.k0s()()(),e.j41(820,"blockquote",20)(821,"strong"),e.EFF(822,"Astuce"),e.k0s(),e.EFF(823," Notre "),e.j41(824,"code"),e.EFF(825,"ValidationPipe"),e.k0s(),e.EFF(826," peut filtrer les propri\xe9t\xe9s qui ne doivent pas \xeatre re\xe7ues par le handler de la m\xe9thode. Dans ce cas, nous pouvons \xe9tablir une liste des propri\xe9t\xe9s acceptables, et toute propri\xe9t\xe9 non incluse dans la liste est automatiquement retir\xe9e de l'objet r\xe9sultant. Dans l'exemple "),e.j41(827,"code"),e.EFF(828,"CreateCatDto"),e.k0s(),e.EFF(829,", notre liste est constitu\xe9e des propri\xe9t\xe9s "),e.j41(830,"code"),e.EFF(831,"name"),e.k0s(),e.EFF(832,", "),e.j41(833,"code"),e.EFF(834,"age"),e.k0s(),e.EFF(835,", et "),e.j41(836,"code"),e.EFF(837,"breed"),e.k0s(),e.EFF(838,". Pour en savoir plus "),e.j41(839,"a",48),e.EFF(840,"ici"),e.k0s(),e.EFF(841,".\n"),e.k0s(),e.j41(842,"h4",49)(843,"span"),e.EFF(844,"Gestion des erreurs"),e.k0s()(),e.j41(845,"p"),e.EFF(846,"Un chapitre distinct est consacr\xe9 \xe0 la gestion des erreurs (c'est-\xe0-dire aux exceptions) "),e.j41(847,"a",50),e.EFF(848,"ici"),e.k0s(),e.EFF(849,"."),e.k0s(),e.j41(850,"h4",51)(851,"span"),e.EFF(852,"Exemple de ressource compl\xe8te"),e.k0s()(),e.j41(853,"p"),e.EFF(854,"Voici un exemple qui utilise plusieurs des d\xe9corateurs disponibles pour cr\xe9er un contr\xf4leur de base. Ce contr\xf4leur expose quelques m\xe9thodes pour acc\xe9der aux donn\xe9es internes et les manipuler."),e.k0s(),e.j41(855,"app-copy-button",24)(856,"span",25),e.EFF(857),e.nI1(858,"extension"),e.nrm(859,"app-tabs",null,10),e.k0s(),e.j41(861,"pre")(862,"code",26),e.EFF(863,"\nimport { Controller, Get, Query, Post, Body, Put, Param, Delete } from '@nestjs/common';\nimport { CreateCatDto, UpdateCatDto, ListAllEntities } from './dto';\n\n@Controller('cats')\nexport class CatsController {\n  @Post()\n  create(@Body() createCatDto: CreateCatDto) {\n    return 'This action adds a new cat';\n  }\n\n  @Get()\n  findAll(@Query() query: ListAllEntities) {\n    return `This action returns all cats (limit: ${query.limit} items)`;\n  }\n\n  @Get(':id')\n  findOne(@Param('id') id: string) {\n    return `This action returns a #${id} cat`;\n  }\n\n  @Put(':id')\n  update(@Param('id') id: string, @Body() updateCatDto: UpdateCatDto) {\n    return `This action updates a #${id} cat`;\n  }\n\n  @Delete(':id')\n  remove(@Param('id') id: string) {\n    return `This action removes a #${id} cat`;\n  }\n}\n"),e.k0s()(),e.j41(864,"pre")(865,"code",26),e.EFF(866,"\nimport { Controller, Get, Query, Post, Body, Put, Param, Delete, Bind } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Post()\n  @Bind(Body())\n  create(createCatDto) {\n    return 'This action adds a new cat';\n  }\n\n  @Get()\n  @Bind(Query())\n  findAll(query) {\n    console.log(query);\n    return `This action returns all cats (limit: ${query.limit} items)`;\n  }\n\n  @Get(':id')\n  @Bind(Param('id'))\n  findOne(id) {\n    return `This action returns a #${id} cat`;\n  }\n\n  @Put(':id')\n  @Bind(Param('id'), Body())\n  update(id, updateCatDto) {\n    return `This action updates a #${id} cat`;\n  }\n\n  @Delete(':id')\n  @Bind(Param('id'))\n  remove(id) {\n    return `This action removes a #${id} cat`;\n  }\n}\n"),e.k0s()()(),e.j41(867,"blockquote",20)(868,"strong"),e.EFF(869,"Astuce"),e.k0s(),e.EFF(870,' Nest CLI fournit un g\xe9n\xe9rateur ("sch\xe9matique") qui g\xe9n\xe8re automatiquement '),e.j41(871,"strong"),e.EFF(872,"tout le code de base"),e.k0s(),e.EFF(873," pour nous aider \xe0 \xe9viter de faire tout cela, et rendre l'exp\xe9rience du d\xe9veloppeur beaucoup plus simple. En savoir plus sur cette fonctionnalit\xe9 "),e.j41(874,"a",52),e.EFF(875,"ici"),e.k0s(),e.EFF(876,".\n"),e.k0s(),e.j41(877,"h4",53)(878,"span"),e.EFF(879,"Se mettre en marche"),e.k0s()(),e.j41(880,"p"),e.EFF(881,"Avec le contr\xf4leur ci-dessus enti\xe8rement d\xe9fini, Nest ne sait toujours pas que "),e.j41(882,"code"),e.EFF(883,"CatsController"),e.k0s(),e.EFF(884," existe et par cons\xe9quent ne cr\xe9era pas d'instance de cette classe."),e.k0s(),e.j41(885,"p"),e.EFF(886,"Les contr\xf4leurs appartiennent toujours \xe0 un module, c'est pourquoi nous incluons le tableau "),e.j41(887,"code"),e.EFF(888,"controllers"),e.k0s(),e.EFF(889," dans le d\xe9corateur "),e.j41(890,"code"),e.EFF(891,"@Module()"),e.k0s(),e.EFF(892,". Puisque nous n'avons pas encore d\xe9fini d'autres modules que le module racine "),e.j41(893,"code"),e.EFF(894,"AppModule"),e.k0s(),e.EFF(895,", nous allons l'utiliser pour introduire le contr\xf4leur "),e.j41(896,"code"),e.EFF(897,"CatsController"),e.k0s(),e.EFF(898," :"),e.k0s(),e.j41(899,"app-copy-button",24)(900,"span",25),e.EFF(901),e.nI1(902,"extension"),e.nrm(903,"app-tabs",null,11),e.k0s(),e.j41(905,"pre")(906,"code",26),e.EFF(907,"\nimport { Module } from '@nestjs/common';\nimport { CatsController } from './cats/cats.controller';\n\n@Module({\n  controllers: [CatsController],\n})\nexport class AppModule {}\n"),e.k0s()()(),e.j41(908,"p"),e.EFF(909,"Nous avons attach\xe9 les m\xe9tadonn\xe9es \xe0 la classe du module en utilisant le d\xe9corateur "),e.j41(910,"code"),e.EFF(911,"@Module()"),e.k0s(),e.EFF(912,", et Nest peut maintenant facilement d\xe9terminer quels contr\xf4leurs doivent \xeatre mont\xe9s."),e.k0s(),e.j41(913,"h4",54)(914,"span"),e.EFF(915,"Approche sp\xe9cifique aux biblioth\xe8ques"),e.k0s()(),e.j41(916,"p"),e.EFF(917,"Jusqu'\xe0 pr\xe9sent, nous avons discut\xe9 de la mani\xe8re standard de Nest de manipuler les r\xe9ponses. La deuxi\xe8me fa\xe7on de manipuler la r\xe9ponse est d'utiliser un objet "),e.j41(918,"a",55),e.EFF(919,"response"),e.k0s(),e.EFF(920," sp\xe9cifique \xe0 la biblioth\xe8que. Pour injecter un objet de r\xe9ponse particulier, nous devons utiliser le d\xe9corateur "),e.j41(921,"code"),e.EFF(922,"@Res()"),e.k0s(),e.EFF(923,". Pour montrer les diff\xe9rences, r\xe9\xe9crivons le "),e.j41(924,"code"),e.EFF(925,"CatsController"),e.k0s(),e.EFF(926," comme suit :"),e.k0s(),e.j41(927,"app-copy-button",24)(928,"span",25),e.nrm(929,"app-tabs",null,12),e.k0s(),e.j41(931,"pre")(932,"code",26),e.EFF(933,"\nimport { Controller, Get, Post, Res, HttpStatus } from '@nestjs/common';\nimport { Response } from 'express';\n\n@Controller('cats')\nexport class CatsController {\n  @Post()\n  create(@Res() res: Response) {\n    res.status(HttpStatus.CREATED).send();\n  }\n\n  @Get()\n  findAll(@Res() res: Response) {\n     res.status(HttpStatus.OK).json([]);\n  }\n}\n"),e.k0s()(),e.j41(934,"pre")(935,"code",26),e.EFF(936,"\nimport { Controller, Get, Post, Bind, Res, Body, HttpStatus } from '@nestjs/common';\n\n@Controller('cats')\nexport class CatsController {\n  @Post()\n  @Bind(Res(), Body())\n  create(res, createCatDto) {\n    res.status(HttpStatus.CREATED).send();\n  }\n\n  @Get()\n  @Bind(Res())\n  findAll(res) {\n     res.status(HttpStatus.OK).json([]);\n  }\n}\n"),e.k0s()()(),e.j41(937,"p"),e.EFF(938,"Bien que cette approche fonctionne, et permette en fait une plus grande flexibilit\xe9 \xe0 certains \xe9gards en offrant un contr\xf4le total de l'objet de la r\xe9ponse (manipulation des en-t\xeates, caract\xe9ristiques propres \xe0 la biblioth\xe8que, et autres), il convient de l'utiliser avec pr\xe9caution. En g\xe9n\xe9ral, l'approche est beaucoup moins claire et pr\xe9sente certains inconv\xe9nients. Le principal inconv\xe9nient est que votre code devient d\xe9pendant de la plate-forme (car les biblioth\xe8ques sous-jacentes peuvent avoir des API diff\xe9rentes sur l'objet response), et plus difficile \xe0 tester (vous devrez simuler l'objet response, etc.)."),e.k0s(),e.j41(939,"p"),e.EFF(940,"De plus, dans l'exemple ci-dessus, vous perdez la compatibilit\xe9 avec les fonctionnalit\xe9s de Nest qui d\xe9pendent de la gestion des r\xe9ponses standard de Nest, comme les Intercepteurs et les d\xe9corateurs "),e.j41(941,"code"),e.EFF(942,"@HttpCode()"),e.k0s(),e.EFF(943," / "),e.j41(944,"code"),e.EFF(945,"@Header()"),e.k0s(),e.EFF(946,". Pour corriger cela, vous pouvez mettre l'option "),e.j41(947,"code"),e.EFF(948,"passthrough"),e.k0s(),e.EFF(949," \xe0 "),e.j41(950,"code"),e.EFF(951,"true"),e.k0s(),e.EFF(952,", comme suit :"),e.k0s(),e.j41(953,"app-copy-button",24)(954,"span",25),e.nrm(955,"app-tabs",null,13),e.k0s(),e.j41(957,"pre")(958,"code",26),e.EFF(959,"\n@Get()\nfindAll(@Res({ passthrough: true }) res: Response) {\n  res.status(HttpStatus.OK);\n  return [];\n}\n"),e.k0s()(),e.j41(960,"pre")(961,"code",26),e.EFF(962,"\n@Get()\n@Bind(Res({ passthrough: true }))\nfindAll(res) {\n  res.status(HttpStatus.OK);\n  return [];\n}\n"),e.k0s()()(),e.j41(963,"p"),e.EFF(964,"Vous pouvez maintenant interagir avec l'objet de r\xe9ponse natif (par exemple, d\xe9finir des cookies ou des en-t\xeates en fonction de certaines conditions), mais laisser le reste au cadre."),e.k0s()()),2&c){const b=e.sdS(71),A=e.sdS(211),l=e.sdS(391),m=e.sdS(616),p=e.sdS(652),E=e.sdS(741),_=e.sdS(758),x=e.sdS(799),S=e.sdS(813),H=e.sdS(860),B=e.sdS(904),ve=e.sdS(930),Le=e.sdS(956);e.R7$(68),e.SpI(" ",e.i5U(69,55,"cats.controller",b.isJsActive),"\n"),e.R7$(4),e.AVh("hide",b.isJsActive),e.R7$(3),e.AVh("hide",!b.isJsActive),e.R7$(113),e.Lme("@Res(","{"," passthrough : true ","}",")"),e.R7$(20),e.SpI(" ",e.i5U(209,58,"cats.controller",A.isJsActive),"\n"),e.R7$(4),e.AVh("hide",A.isJsActive),e.R7$(3),e.AVh("hide",!A.isJsActive),e.R7$(173),e.SpI(" ",e.i5U(389,61,"cats.controller",l.isJsActive),"\n"),e.R7$(4),e.AVh("hide",l.isJsActive),e.R7$(3),e.AVh("hide",!l.isJsActive),e.R7$(222),e.AVh("hide",m.isJsActive),e.R7$(3),e.AVh("hide",!m.isJsActive),e.R7$(33),e.AVh("hide",p.isJsActive),e.R7$(3),e.AVh("hide",!p.isJsActive),e.R7$(82),e.SpI(" ",e.i5U(739,64,"cats.controller",E.isJsActive),"\n"),e.R7$(4),e.AVh("hide",E.isJsActive),e.R7$(3),e.AVh("hide",!E.isJsActive),e.R7$(10),e.SpI(" ",e.i5U(756,67,"cats.controller",_.isJsActive),"\n"),e.R7$(4),e.AVh("hide",_.isJsActive),e.R7$(3),e.AVh("hide",!_.isJsActive),e.R7$(34),e.SpI(" ",e.i5U(797,70,"create-cat.dto",x.isJsActive),"\n"),e.R7$(14),e.SpI(" ",e.i5U(811,73,"cats.controller",S.isJsActive),"\n"),e.R7$(4),e.AVh("hide",S.isJsActive),e.R7$(3),e.AVh("hide",!S.isJsActive),e.R7$(40),e.SpI(" ",e.i5U(858,76,"cats.controller",H.isJsActive),"\n"),e.R7$(4),e.AVh("hide",H.isJsActive),e.R7$(3),e.AVh("hide",!H.isJsActive),e.R7$(37),e.SpI(" ",e.i5U(902,79,"app.module",B.isJsActive),"\n"),e.R7$(30),e.AVh("hide",ve.isJsActive),e.R7$(3),e.AVh("hide",!ve.isJsActive),e.R7$(23),e.AVh("hide",Le.isJsActive),e.R7$(3),e.AVh("hide",!Le.isJsActive)}},dependencies:[mt.Wk,zn.O,Ln.a,hs._,Qn.z,Zn.M],encapsulation:2,changeDetection:0})}return y})(),Zr=(()=>{class y extends Xe.y{static \u0275fac=(()=>{let a;return function(f){return(a||(a=e.xGo(y)))(f||y)}})();static \u0275cmp=e.VBU({type:y,selectors:[["app-custom-decorators"]],features:[e.Vt3],decls:303,vars:32,consts:[["contentReference",""],["app52342294c1df16b37f31ae5729d043f4ac28c27a",""],["app3348fb4eb951db1b2e3ee73c76d9c778987f4aea",""],["app5a374cdd649ce489b1644122600a6815af3ddecd",""],["app00facc904c23c3ec1e50eb7809445655215823f9",""],["app6cb54101944380055914fd959f08444c2f3f07c3",""],["app79764de91f58416b3040a1c2e8404d5654ad64ce",""],[1,"content"],[1,"github-links"],["href","https://github.com/Lou8is/docs.nestjs.fr/edit/main/content/custom-decorators.md","aria-label","Proposer des modifications","title","Proposer des modifications"],[1,"fas","fa-edit"],["id","d\xe9corateurs-de-routes-personnalis\xe9s"],["rel","nofollow","target","_blank","href","https://medium.com/google-developers/exploring-es7-decorators-76ecb65fb841"],[1,"external"],["appAnchor","","id","d\xe9corateurs-de-param\xe8tres"],[1,"language-typescript"],[1,"with-heading"],[1,"filename"],["appAnchor","","id","transmettre-des-donn\xe9es"],["href","techniques/authentication#implementing-passport-strategies"],[1,"language-json"],[1,"info"],["appAnchor","","id","travailler-avec-des-pipes"],["appAnchor","","id","composition-des-d\xe9corateurs"],[1,"warning"]],template:function(c,f){if(1&c&&(e.j41(0,"div",7,0)(2,"div",8)(3,"a",9),e.nrm(4,"i",10),e.k0s()(),e.j41(5,"h3",11),e.EFF(6,"D\xe9corateurs de routes personnalis\xe9s"),e.k0s(),e.j41(7,"p"),e.EFF(8,"Nest est construit autour d'une fonctionnalit\xe9 du langage appel\xe9e "),e.j41(9,"strong"),e.EFF(10,"d\xe9corateurs"),e.k0s(),e.EFF(11,". Les d\xe9corateurs sont un concept bien connu dans de nombreux langages de programmation, mais dans le monde JavaScript, ils sont encore relativement nouveaux. Pour mieux comprendre le fonctionnement des d\xe9corateurs, nous vous recommandons de lire "),e.j41(12,"a",12),e.EFF(13,"cet article"),e.k0s(),e.EFF(14,". Voici une d\xe9finition simple :"),e.k0s(),e.j41(15,"blockquote",13),e.EFF(16," Un d\xe9corateur ES2016 est une expression qui renvoie une fonction et peut prendre une cible, un nom et un descripteur de propri\xe9t\xe9 comme arguments. Vous l'appliquez en pr\xe9fixant le d\xe9corateur avec un caract\xe8re "),e.j41(17,"code"),e.EFF(18,"@"),e.k0s(),e.EFF(19," et en le pla\xe7ant tout en haut de ce que vous essayez de d\xe9corer. Les d\xe9corateurs peuvent \xeatre d\xe9finis pour une classe, une m\xe9thode ou une propri\xe9t\xe9.\n"),e.k0s(),e.j41(20,"h4",14)(21,"span"),e.EFF(22,"D\xe9corateurs de param\xe8tres"),e.k0s()(),e.j41(23,"p"),e.EFF(24,"Nest fournit un ensemble de "),e.j41(25,"strong"),e.EFF(26,"d\xe9corateurs de param\xe8tres"),e.k0s(),e.EFF(27," utiles que vous pouvez utiliser avec les gestionnaires de routes HTTP. Voici une liste des d\xe9corateurs fournis et des objets Express (ou Fastify) qu'ils repr\xe9sentent"),e.k0s(),e.j41(28,"table")(29,"tbody")(30,"tr")(31,"td")(32,"code"),e.EFF(33,"@Request(), @Req()"),e.k0s()(),e.j41(34,"td")(35,"code"),e.EFF(36,"req"),e.k0s()()(),e.j41(37,"tr")(38,"td")(39,"code"),e.EFF(40,"@Response(), @Res()"),e.k0s()(),e.j41(41,"td")(42,"code"),e.EFF(43,"res"),e.k0s()()(),e.j41(44,"tr")(45,"td")(46,"code"),e.EFF(47,"@Next()"),e.k0s()(),e.j41(48,"td")(49,"code"),e.EFF(50,"next"),e.k0s()()(),e.j41(51,"tr")(52,"td")(53,"code"),e.EFF(54,"@Session()"),e.k0s()(),e.j41(55,"td")(56,"code"),e.EFF(57,"req.session"),e.k0s()()(),e.j41(58,"tr")(59,"td")(60,"code"),e.EFF(61,"@Param(param?: string)"),e.k0s()(),e.j41(62,"td")(63,"code"),e.EFF(64,"req.params"),e.k0s(),e.EFF(65," / "),e.j41(66,"code"),e.EFF(67,"req.params[param]"),e.k0s()()(),e.j41(68,"tr")(69,"td")(70,"code"),e.EFF(71,"@Body(param?: string)"),e.k0s()(),e.j41(72,"td")(73,"code"),e.EFF(74,"req.body"),e.k0s(),e.EFF(75," / "),e.j41(76,"code"),e.EFF(77,"req.body[param]"),e.k0s()()(),e.j41(78,"tr")(79,"td")(80,"code"),e.EFF(81,"@Query(param?: string)"),e.k0s()(),e.j41(82,"td")(83,"code"),e.EFF(84,"req.query"),e.k0s(),e.EFF(85," / "),e.j41(86,"code"),e.EFF(87,"req.query[param]"),e.k0s()()(),e.j41(88,"tr")(89,"td")(90,"code"),e.EFF(91,"@Headers(param?: string)"),e.k0s()(),e.j41(92,"td")(93,"code"),e.EFF(94,"req.headers"),e.k0s(),e.EFF(95," / "),e.j41(96,"code"),e.EFF(97,"req.headers[param]"),e.k0s()()(),e.j41(98,"tr")(99,"td")(100,"code"),e.EFF(101,"@Ip()"),e.k0s()(),e.j41(102,"td")(103,"code"),e.EFF(104,"req.ip"),e.k0s()()(),e.j41(105,"tr")(106,"td")(107,"code"),e.EFF(108,"@HostParam()"),e.k0s()(),e.j41(109,"td")(110,"code"),e.EFF(111,"req.hosts"),e.k0s()()()()(),e.j41(112,"p"),e.EFF(113,"En outre, vous pouvez cr\xe9er vos propres "),e.j41(114,"strong"),e.EFF(115,"d\xe9corateurs personnalis\xe9s"),e.k0s(),e.EFF(116,". Pourquoi cela est-il utile ?"),e.k0s(),e.j41(117,"p"),e.EFF(118,"Dans le monde de node.js, il est courant d'attacher des propri\xe9t\xe9s \xe0 l'objet "),e.j41(119,"strong"),e.EFF(120,"request"),e.k0s(),e.EFF(121,". Ensuite, vous les extrayez manuellement dans chaque gestionnaire de route, en utilisant un code comme le suivant :"),e.k0s(),e.j41(122,"app-copy-button")(123,"pre")(124,"code",15),e.EFF(125,"\nconst user = req.user;\n"),e.k0s()()(),e.j41(126,"p"),e.EFF(127,"Afin de rendre votre code plus lisible et transparent, vous pouvez cr\xe9er un d\xe9corateur "),e.j41(128,"code"),e.EFF(129,"@User()"),e.k0s(),e.EFF(130," et le r\xe9utiliser dans tous vos contr\xf4leurs."),e.k0s(),e.j41(131,"app-copy-button",16)(132,"span",17),e.EFF(133),e.nI1(134,"extension"),e.nrm(135,"app-tabs",null,1),e.k0s(),e.j41(137,"pre")(138,"code",15),e.EFF(139,"\nimport { createParamDecorator, ExecutionContext } from '@nestjs/common';\n\nexport const User = createParamDecorator(\n  (data: unknown, ctx: ExecutionContext) => {\n    const request = ctx.switchToHttp().getRequest();\n    return request.user;\n  },\n);\n"),e.k0s()()(),e.j41(140,"p"),e.EFF(141,"Vous pouvez ensuite l'utiliser l\xe0 o\xf9 vous le souhaitez."),e.k0s(),e.j41(142,"app-copy-button",16)(143,"span",17),e.nrm(144,"app-tabs",null,2),e.k0s(),e.j41(146,"pre")(147,"code",15),e.EFF(148,"\n@Get()\nasync findOne(@User() user: UserEntity) {\n  console.log(user);\n}\n"),e.k0s()(),e.j41(149,"pre")(150,"code",15),e.EFF(151,"\n@Get()\n@Bind(User())\nasync findOne(user) {\n  console.log(user);\n}\n"),e.k0s()()(),e.j41(152,"h4",18)(153,"span"),e.EFF(154,"Transmettre des donn\xe9es"),e.k0s()(),e.j41(155,"p"),e.EFF(156,"Lorsque le comportement de votre d\xe9corateur d\xe9pend de certaines conditions, vous pouvez utiliser le param\xe8tre "),e.j41(157,"code"),e.EFF(158,"data"),e.k0s(),e.EFF(159," pour passer un argument \xe0 la fonction factory du d\xe9corateur. Un cas d'utilisation pour cela est un d\xe9corateur personnalis\xe9 qui extrait des propri\xe9t\xe9s de l'objet de requ\xeate par cl\xe9. Supposons, par exemple, que notre "),e.j41(160,"a",19),e.EFF(161,"couche d'authentification"),e.k0s(),e.EFF(162," valide les requ\xeates et attache une entit\xe9 utilisateur \xe0 l'objet requ\xeate. L'entit\xe9 utilisateur pour une requ\xeate authentifi\xe9e pourrait ressembler \xe0 :"),e.k0s(),e.j41(163,"pre")(164,"code",20),e.EFF(165,'\n{\n  "id": 101,\n  "firstName": "Alan",\n  "lastName": "Turing",\n  "email": "alan@email.com",\n  "roles": ["admin"]\n}\n'),e.k0s()(),e.j41(166,"p"),e.EFF(167,"D\xe9finissons un d\xe9corateur qui prend un nom de propri\xe9t\xe9 comme cl\xe9, et retourne la valeur associ\xe9e si elle existe (ou "),e.j41(168,"code"),e.EFF(169,"undefined"),e.k0s(),e.EFF(170," si elle n'existe pas, ou si l'objet "),e.j41(171,"code"),e.EFF(172,"user"),e.k0s(),e.EFF(173," n'a pas \xe9t\xe9 cr\xe9\xe9)."),e.k0s(),e.j41(174,"app-copy-button",16)(175,"span",17),e.EFF(176),e.nI1(177,"extension"),e.nrm(178,"app-tabs",null,3),e.k0s(),e.j41(180,"pre")(181,"code",15),e.EFF(182,"\nimport { createParamDecorator, ExecutionContext } from '@nestjs/common';\n\nexport const User = createParamDecorator(\n  (data: string, ctx: ExecutionContext) => {\n    const request = ctx.switchToHttp().getRequest();\n    const user = request.user;\n\n    return data ? user?.[data] : user;\n  },\n);\n"),e.k0s()(),e.j41(183,"pre")(184,"code",15),e.EFF(185,"\nimport { createParamDecorator } from '@nestjs/common';\n\nexport const User = createParamDecorator((data, ctx) => {\n  const request = ctx.switchToHttp().getRequest();\n  const user = request.user;\n\n  return data ? user && user[data] : user;\n});\n"),e.k0s()()(),e.j41(186,"p"),e.EFF(187,"Voici comment acc\xe9der \xe0 une propri\xe9t\xe9 particuli\xe8re via le d\xe9corateur "),e.j41(188,"code"),e.EFF(189,"@User()"),e.k0s(),e.EFF(190," dans le contr\xf4leur :"),e.k0s(),e.j41(191,"app-copy-button",16)(192,"span",17),e.nrm(193,"app-tabs",null,4),e.k0s(),e.j41(195,"pre")(196,"code",15),e.EFF(197,"\n@Get()\nasync findOne(@User('firstName') firstName: string) {\n  console.log(`Hello ${firstName}`);\n}\n"),e.k0s()(),e.j41(198,"pre")(199,"code",15),e.EFF(200,"\n@Get()\n@Bind(User('firstName'))\nasync findOne(firstName) {\n  console.log(`Hello ${firstName}`);\n}\n"),e.k0s()()(),e.j41(201,"p"),e.EFF(202,"Vous pouvez utiliser ce m\xeame d\xe9corateur avec diff\xe9rentes cl\xe9s pour acc\xe9der \xe0 diff\xe9rentes propri\xe9t\xe9s. Si l'objet "),e.j41(203,"code"),e.EFF(204,"user"),e.k0s(),e.EFF(205," est profond ou complexe, cela peut rendre l'impl\xe9mentation du gestionnaire de requ\xeate plus facile et plus lisible."),e.k0s(),e.j41(206,"blockquote",21)(207,"strong"),e.EFF(208,"Astuce"),e.k0s(),e.EFF(209," Pour les utilisateurs de TypeScript, notez que "),e.j41(210,"code"),e.EFF(211,"createParamDecorator<T>()"),e.k0s(),e.EFF(212," est un g\xe9n\xe9rique. Cela signifie que vous pouvez explicitement appliquer la s\xe9curit\xe9 de type, par exemple "),e.j41(213,"code"),e.EFF(214,"createParamDecorator<string>((data, ctx) => ...)"),e.k0s(),e.EFF(215,". Il est \xe9galement possible de sp\xe9cifier un type de param\xe8tre dans la fonction fabrique, par exemple "),e.j41(216,"code"),e.EFF(217,"createParamDecorator((data : string, ctx) => ...)"),e.k0s(),e.EFF(218,". Si vous omettez les deux, le type de "),e.j41(219,"code"),e.EFF(220,"data"),e.k0s(),e.EFF(221," sera "),e.j41(222,"code"),e.EFF(223,"any"),e.k0s(),e.EFF(224,".\n"),e.k0s(),e.j41(225,"h4",22)(226,"span"),e.EFF(227,"Travailler avec des pipes"),e.k0s()(),e.j41(228,"p"),e.EFF(229,"Nest traite les d\xe9corateurs de param\xe8tres personnalis\xe9s de la m\xeame mani\xe8re que les d\xe9corateurs int\xe9gr\xe9s ("),e.j41(230,"code"),e.EFF(231,"@Body()"),e.k0s(),e.EFF(232,", "),e.j41(233,"code"),e.EFF(234,"@Param()"),e.k0s(),e.EFF(235," et "),e.j41(236,"code"),e.EFF(237,"@Query()"),e.k0s(),e.EFF(238,"). Cela signifie que les pipes sont ex\xe9cut\xe9s pour les param\xe8tres annot\xe9s de mani\xe8re personnalis\xe9e (dans nos exemples, l'argument "),e.j41(239,"code"),e.EFF(240,"user"),e.k0s(),e.EFF(241,"). De plus, vous pouvez appliquer le pipe directement au d\xe9corateur personnalis\xe9 :"),e.k0s(),e.j41(242,"app-copy-button",16)(243,"span",17),e.nrm(244,"app-tabs",null,5),e.k0s(),e.j41(246,"pre")(247,"code",15),e.EFF(248,"\n@Get()\nasync findOne(\n  @User(new ValidationPipe({ validateCustomDecorators: true }))\n  user: UserEntity,\n) {\n  console.log(user);\n}\n"),e.k0s()(),e.j41(249,"pre")(250,"code",15),e.EFF(251,"\n@Get()\n@Bind(User(new ValidationPipe({ validateCustomDecorators: true })))\nasync findOne(user) {\n  console.log(user);\n}\n"),e.k0s()()(),e.j41(252,"blockquote",21)(253,"strong"),e.EFF(254,"Astuce"),e.k0s(),e.EFF(255," Notez que l'option "),e.j41(256,"code"),e.EFF(257,"validateCustomDecorators"),e.k0s(),e.EFF(258," doit \xeatre fix\xe9e \xe0 true. "),e.j41(259,"code"),e.EFF(260,"ValidationPipe"),e.k0s(),e.EFF(261," ne valide pas les arguments annot\xe9s avec les d\xe9corateurs personnalis\xe9s par d\xe9faut.\n"),e.k0s(),e.j41(262,"h4",23)(263,"span"),e.EFF(264,"Composition des d\xe9corateurs"),e.k0s()(),e.j41(265,"p"),e.EFF(266,"Nest fournit une m\xe9thode d'aide pour composer plusieurs d\xe9corateurs. Par exemple, supposons que vous souhaitiez combiner tous les d\xe9corateurs li\xe9s \xe0 l'authentification en un seul d\xe9corateur. Cela peut se faire avec la construction suivante :"),e.k0s(),e.j41(267,"app-copy-button",16)(268,"span",17),e.EFF(269),e.nI1(270,"extension"),e.nrm(271,"app-tabs",null,6),e.k0s(),e.j41(273,"pre")(274,"code",15),e.EFF(275,"\nimport { applyDecorators } from '@nestjs/common';\n\nexport function Auth(...roles: Role[]) {\n  return applyDecorators(\n    SetMetadata('roles', roles),\n    UseGuards(AuthGuard, RolesGuard),\n    ApiBearerAuth(),\n    ApiUnauthorizedResponse({ description: 'Unauthorized' }),\n  );\n}\n"),e.k0s()(),e.j41(276,"pre")(277,"code",15),e.EFF(278,"\nimport { applyDecorators } from '@nestjs/common';\n\nexport function Auth(...roles) {\n  return applyDecorators(\n    SetMetadata('roles', roles),\n    UseGuards(AuthGuard, RolesGuard),\n    ApiBearerAuth(),\n    ApiUnauthorizedResponse({ description: 'Unauthorized' }),\n  );\n}\n"),e.k0s()()(),e.j41(279,"p"),e.EFF(280,"Vous pouvez alors utiliser ce d\xe9corateur personnalis\xe9 "),e.j41(281,"code"),e.EFF(282,"@Auth()"),e.k0s(),e.EFF(283," comme suit :"),e.k0s(),e.j41(284,"app-copy-button")(285,"pre")(286,"code",15),e.EFF(287,"\n@Get('users')\n@Auth('admin')\nfindAllUsers() {}\n"),e.k0s()()(),e.j41(288,"p"),e.EFF(289,"Cela a pour effet d'appliquer les quatre d\xe9corateurs en une seule d\xe9claration."),e.k0s(),e.j41(290,"blockquote",24)(291,"strong"),e.EFF(292,"Attention"),e.k0s(),e.EFF(293," Le d\xe9corateur "),e.j41(294,"code"),e.EFF(295,"@ApiHideProperty()"),e.k0s(),e.EFF(296," du paquet "),e.j41(297,"code"),e.EFF(298,"@nestjs/swagger"),e.k0s(),e.EFF(299," n'est pas composable et ne fonctionnera pas correctement avec la fonction "),e.j41(300,"code"),e.EFF(301,"applyDecorators"),e.k0s(),e.EFF(302,".\n"),e.k0s()()),2&c){const b=e.sdS(136),A=e.sdS(145),l=e.sdS(179),m=e.sdS(194),p=e.sdS(245),E=e.sdS(272);e.R7$(133),e.SpI(" ",e.i5U(134,23,"user.decorator",b.isJsActive),"\n"),e.R7$(13),e.AVh("hide",A.isJsActive),e.R7$(3),e.AVh("hide",!A.isJsActive),e.R7$(27),e.SpI(" ",e.i5U(177,26,"user.decorator",l.isJsActive),"\n"),e.R7$(4),e.AVh("hide",l.isJsActive),e.R7$(3),e.AVh("hide",!l.isJsActive),e.R7$(12),e.AVh("hide",m.isJsActive),e.R7$(3),e.AVh("hide",!m.isJsActive),e.R7$(48),e.AVh("hide",p.isJsActive),e.R7$(3),e.AVh("hide",!p.isJsActive),e.R7$(20),e.SpI(" ",e.i5U(270,29,"auth.decorator",E.isJsActive),"\n"),e.R7$(4),e.AVh("hide",E.isJsActive),e.R7$(3),e.AVh("hide",!E.isJsActive)}},dependencies:[zn.O,Ln.a,Qn.z,Zn.M],encapsulation:2,changeDetection:0})}return y})(),Po=(()=>{class y extends Xe.y{static \u0275fac=(()=>{let a;return function(f){return(a||(a=e.xGo(y)))(f||y)}})();static \u0275cmp=e.VBU({type:y,selectors:[["app-who-uses"]],features:[e.Vt3],decls:408,vars:0,consts:[[1,"content"],["id","qui-utilise-nest-"],["rel","nofollow","target","_blank","href","https://github.com/nestjs/nest/issues/1006"],["appAnchor","","id","entreprises"],[1,"companies-wrapper"],["href","https://roche.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/roche-logo.png",2,"width","90px"],["href","https://adidas.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/adidas.svg",2,"width","80px"],["href","https://capgemini.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/capgemini.svg"],["href","https://www.societegenerale.fr/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/societe-generale-logo.png"],["href","https://rewe-digital.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/rewe.svg",2,"width","180px"],["href","https://www.decathlon.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/decathlon.png"],["href","https://www.autodesk.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/autodesk.png"],["href","https://www.neo4j.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/neo4j.png"],["href","https://bmw.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/bmw.svg"],["href","https://gitlab.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/gitlab.png"],["href","https://www.jetbrains.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/jetbrains.svg"],["href","https://www.mercedes-benz.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/mercedes.png"],["href","https://totalenergies.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/totalenergies.svg"],["href","https://www.bytedance.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/bytedance.png"],["href","https://www.ibm.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/ibm.svg"],["href","https://www.shipt.com/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/shipt.png"],["href","https://github.com/Sanofi-IADC","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/sanofi.png"],["href","https://sitepen.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/sitepen.svg"],["href","https://trilon.io","target","_blank","rel","nofollow",1,"company-logo"],["src","https://nestjs.com/img/trilon.png"],["href","https://www.vuestorefront.io/","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/vue-storefront.png"],["href","https://hingehealth.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/hingehealth.png",2,"width","120px"],["href","https://whiskeyhouse.com","target","_blank","rel","nofollow",1,"company-logo"],["src","/assets/logo/whiskey-house.svg"],[1,"companies-list"],["href","https://gorrion.io/","target","_blank","rel","nofollow"],["href","http://balticdatascience.com/","target","_blank","rel","nofollow"],["href","https://prohabits.com/","target","_blank","rel","nofollow"],["href","https://komed-health.com/","target","_blank","rel","nofollow"],["href","https://kerberus.com.co/","target","_blank","rel","nofollow"],["href","http://xtremis.com/","target","_blank","rel","nofollow"],["href","https://notadd.com/","target","_blank","rel","nofollow"],["href","http://jsdaddy.io/","target","_blank","rel","nofollow"],["href","https://yumpingo.com/","target","_blank","rel","nofollow"],["href","https://analytics-importer.cz/","target","_blank","rel","nofollow"],["href","https://dayzim.com/","target","_blank","rel","nofollow"],["href","https://wizkids.co.uk/","target","_blank","rel","nofollow"],["href","https://pilvia.com/","target","_blank","rel","nofollow"],["href","https://wi-q.com/","target","_blank","rel","nofollow"],["href","http://agrofel.com.br","target","_blank","rel","nofollow"],["href","https://societegenerale.com/","target","_blank","rel","nofollow"],["href","https://trashpanda.hulan.nl/","target","_blank","rel","nofollow"],["href","https://bytedance.com/","target","_blank","rel","nofollow"],["href","https://votercircle.com","target","_blank","rel","nofollow"],["href","https://erento.com","target","_blank","rel","nofollow"],["href","https://ideas.manticore-labs.com/","target","_blank","rel","nofollow"],["href","https://smartexlab.com/","target","_blank","rel","nofollow"],["href","https://automama.ru/","target","_blank","rel","nofollow"],["href","https://iflix.com/","target","_blank","rel","nofollow"],["href","https://frontendwatch.com/","target","_blank","rel","nofollow"],["href","https://mobilejazz.com/","target","_blank","rel","nofollow"],["href","https://cgiandi.com/","target","_blank","rel","nofollow"],["href","https://www.titlex.com.au/","target","_blank","rel","nofollow"],["href","https://codengage.com/","target","_blank","rel","nofollow"],["href","https://budacode.com/","target","_blank","rel","nofollow"],["href","https://blueanchor.io/","target","_blank","rel","nofollow"],["href","https://www.easymetrics.com/","target","_blank","rel","nofollow"],["href","https://getapollo.io/","target","_blank","rel","nofollow"],["href","https://big-bench.com/","target","_blank","rel","nofollow"],["href","https://www.qingtui.cn/","target","_blank","rel","nofollow"],["href","https://www.rosebayconsult.com/","target","_blank","rel","nofollow"],["href","https://www.patrocinium.com/","target","_blank","rel","nofollow"],["href","https://creatorsdaily.com","target","_blank","rel","nofollow"],["href","https://autoscar.com.br","target","_blank","rel","nofollow"],["href","https://www.mediktiv.com","target","_blank","rel","nofollow"],["href","https://harmonize.health","target","_blank","rel","nofollow"],["href","https://accerlery.be","target","_blank","rel","nofollow"],["href","https://www.facile.it","target","_blank","rel","nofollow"],["href","https://shopback.com","target","_blank","rel","nofollow"],["href","https://www.ottonova.de","target","_blank","rel","nofollow"],["href","https://www.radity.com","target","_blank","rel","nofollow"],["href","https://globalctoforum.org","target","_blank","rel","nofollow"],["href","https://halojasa.com","target","_blank","rel","nofollow"],["href","https://hexito.com","target","_blank","rel","nofollow"],["href","https://rivvy.app","target","_blank","rel","nofollow"],["href","https://padfever.com/","target","_blank","rel","nofollow"],["href","https://datenlotse.org","target","_blank","rel","nofollow"],["href","https://bemum.co","target","_blank","rel","nofollow"],["href","https://weoptimeye.ai","target","_blank","rel","nofollow"],["href","https://nemovote.com","target","_blank","rel","nofollow"],["href","https://selleo.com","target","_blank","rel","nofollow"],["href","https://pchas.ir","target","_blank","rel","nofollow"],["href","https://tayeh.ir","target","_blank","rel","nofollow"],["href","https://forwardigital.co.uk","target","_blank","rel","nofollow"],["href","https://rozetka.com.ua","target","_blank","rel","nofollow"],["href","https://www.itrio.net","target","_blank","rel","nofollow"],["href","https://alexishr.com","target","_blank","rel","nofollow"],["href","https://dyrector.io","target","_blank","rel","nofollow"],["href","https://stijlbreuk.nl","target","_blank","rel","nofollow"],["href","https://polygon-software.ch","target","_blank","rel","nofollow"],["href","https://bewith.io","target","_blank","rel","nofollow"],["href","https://swetrix.com","target","_blank","rel","nofollow"],["href","https://swyftlogistics.com","target","_blank","rel","nofollow"],["href","https://evershop.io","target","_blank","rel","nofollow"],["href","https://e-design.ca","target","_blank","rel","nofollow"],["href","https://growthmill.com","target","_blank","rel","nofollow"],["href","https://tarken.com.br","target","_blank","rel","nofollow"],["href","https://remato.com","target","_blank","rel","nofollow"],["href","https://remberg.de/en","target","_blank","rel","nofollow"],["href","https://uninterrupted.tech","target","_blank","rel","nofollow"],["href","https://www.digando.com","target","_blank","rel","nofollow"],["href","https://novu.co","target","_blank","rel","nofollow"],["href","https://aqreach.com","target","_blank","rel","nofollow"],["href","https://phalco.de","target","_blank","rel","nofollow"],["href","https://www.tesseractpro.io","target","_blank","rel","nofollow"],["href","https://www.kwanso.com","target","_blank","rel","nofollow"],["href","https://cmdn.io","target","_blank","rel","nofollow"],["href","https://ayo.so","target","_blank","rel","nofollow"],["href","https://devitjobs.com","target","_blank","rel","nofollow"],["href","https://formation.tech","target","_blank","rel","nofollow"],["href","https://gofirmex.com","target","_blank","rel","nofollow"],["href","https://github.com/nestjs/docs.nestjs.com/pulls","target","_blank"]],template:function(c,f){1&c&&(e.j41(0,"div",0)(1,"h3",1),e.EFF(2,"Qui utilise Nest ?"),e.k0s(),e.j41(3,"p"),e.EFF(4,"Qui utilise Nest ? Nous sommes fiers d'aider diverses entreprises \xe0 d\xe9velopper leurs produits \xe0 grande \xe9chelle.\nSi vous utilisez Nest et que vous souhaitez figurer dans cette liste, consultez ce "),e.j41(5,"a",2),e.EFF(6,"fil"),e.k0s(),e.EFF(7,".\nNous sommes pr\xeats \xe0 mettre votre logo ici !"),e.k0s(),e.j41(8,"h4",3)(9,"span"),e.EFF(10,"Entreprises"),e.k0s()(),e.j41(11,"p"),e.EFF(12,"D'apr\xe8s nos connaissances, toutes les entreprises suivantes ont construit des projets impressionnants sur la base de notre framework :"),e.k0s()(),e.j41(13,"div",4)(14,"a",5),e.nrm(15,"img",6),e.k0s(),e.j41(16,"a",7),e.nrm(17,"img",8),e.k0s(),e.j41(18,"a",9),e.nrm(19,"img",10),e.k0s(),e.j41(20,"a",11),e.nrm(21,"img",12),e.k0s(),e.j41(22,"a",13),e.nrm(23,"img",14),e.k0s(),e.j41(24,"a",15),e.nrm(25,"img",16),e.k0s(),e.j41(26,"a",17),e.nrm(27,"img",18),e.k0s(),e.j41(28,"a",19),e.nrm(29,"img",20),e.k0s(),e.j41(30,"a",21),e.nrm(31,"img",22),e.k0s(),e.j41(32,"a",23),e.nrm(33,"img",24),e.k0s(),e.j41(34,"a",25),e.nrm(35,"img",26),e.k0s(),e.j41(36,"a",27),e.nrm(37,"img",28),e.k0s(),e.j41(38,"a",29),e.nrm(39,"img",30),e.k0s(),e.j41(40,"a",31),e.nrm(41,"img",32),e.k0s(),e.j41(42,"a",33),e.nrm(43,"img",34),e.k0s(),e.j41(44,"a",35),e.nrm(45,"img",36),e.k0s(),e.j41(46,"a",37),e.nrm(47,"img",38),e.k0s(),e.j41(48,"a",39),e.nrm(49,"img",40),e.k0s(),e.j41(50,"a",41),e.nrm(51,"img",42),e.k0s(),e.j41(52,"a",43),e.nrm(53,"img",44),e.k0s(),e.j41(54,"a",45),e.nrm(55,"img",46),e.k0s(),e.j41(56,"a",47),e.nrm(57,"img",48),e.k0s()(),e.j41(58,"table",49)(59,"tr")(60,"td")(61,"a",50),e.EFF(62,"https://gorrion.io/"),e.k0s()()(),e.j41(63,"tr")(64,"td")(65,"a",51),e.EFF(66,"http://balticdatascience.com/"),e.k0s()()(),e.j41(67,"tr")(68,"td")(69,"a",52),e.EFF(70,"https://prohabits.com/"),e.k0s()()(),e.j41(71,"tr")(72,"td")(73,"a",53),e.EFF(74,"https://komed-health.com/"),e.k0s()()(),e.j41(75,"tr")(76,"td")(77,"a",54),e.EFF(78,"https://kerberus.com.co/"),e.k0s()()(),e.j41(79,"tr")(80,"td")(81,"a",55),e.EFF(82,"http://xtremis.com/"),e.k0s()()(),e.j41(83,"tr")(84,"td")(85,"a",56),e.EFF(86,"https://notadd.com/"),e.k0s()()(),e.j41(87,"tr")(88,"td")(89,"a",57),e.EFF(90,"http://jsdaddy.io/"),e.k0s()()(),e.j41(91,"tr")(92,"td")(93,"a",58),e.EFF(94,"https://yumpingo.com/"),e.k0s()()(),e.j41(95,"tr")(96,"td")(97,"a",59),e.EFF(98,"https://analytics-importer.cz/"),e.k0s()()(),e.j41(99,"tr")(100,"td")(101,"a",60),e.EFF(102,"https://dayzim.com/"),e.k0s()()(),e.j41(103,"tr")(104,"td")(105,"a",61),e.EFF(106,"https://wizkids.co.uk/"),e.k0s()()(),e.j41(107,"tr")(108,"td")(109,"a",62),e.EFF(110,"https://pilvia.com/"),e.k0s()()(),e.j41(111,"tr")(112,"td")(113,"a",63),e.EFF(114,"https://wi-q.com/"),e.k0s()()(),e.j41(115,"tr")(116,"td")(117,"a",64),e.EFF(118,"http://agrofel.com.br"),e.k0s()()(),e.j41(119,"tr")(120,"td")(121,"a",65),e.EFF(122,"https://societegenerale.com/"),e.k0s()()(),e.j41(123,"tr")(124,"td")(125,"a",66),e.EFF(126,"https://trashpanda.hulan.nl/"),e.k0s()()(),e.j41(127,"tr")(128,"td")(129,"a",67),e.EFF(130,"https://bytedance.com/"),e.k0s()()(),e.j41(131,"tr")(132,"td")(133,"a",68),e.EFF(134,"https://votercircle.com"),e.k0s()()(),e.j41(135,"tr")(136,"td")(137,"a",69),e.EFF(138,"https://erento.com"),e.k0s()()(),e.j41(139,"tr")(140,"td")(141,"a",70),e.EFF(142,"https://ideas.manticore-labs.com/"),e.k0s()()(),e.j41(143,"tr")(144,"td")(145,"a",71),e.EFF(146,"https://smartexlab.com/"),e.k0s()()(),e.j41(147,"tr")(148,"td")(149,"a",72),e.EFF(150,"https://automama.ru/"),e.k0s()()(),e.j41(151,"tr")(152,"td")(153,"a",73),e.EFF(154,"https://iflix.com/"),e.k0s()()(),e.j41(155,"tr")(156,"td")(157,"a",74),e.EFF(158,"https://frontendwatch.com/"),e.k0s()()(),e.j41(159,"tr")(160,"td")(161,"a",75),e.EFF(162,"https://mobilejazz.com/"),e.k0s()()(),e.j41(163,"tr")(164,"td")(165,"a",76),e.EFF(166,"https://cgiandi.com/"),e.k0s()()(),e.j41(167,"tr")(168,"td")(169,"a",77),e.EFF(170,"https://www.titlex.com.au/"),e.k0s()()(),e.j41(171,"tr")(172,"td")(173,"a",78),e.EFF(174,"https://codengage.com/"),e.k0s()()(),e.j41(175,"tr")(176,"td")(177,"a",79),e.EFF(178,"https://budacode.com/"),e.k0s()()(),e.j41(179,"tr")(180,"td")(181,"a",80),e.EFF(182,"https://blueanchor.io/"),e.k0s()()(),e.j41(183,"tr")(184,"td")(185,"a",81),e.EFF(186,"https://www.easymetrics.com/"),e.k0s()()(),e.j41(187,"tr")(188,"td")(189,"a",82),e.EFF(190,"https://getapollo.io/"),e.k0s()()(),e.j41(191,"tr")(192,"td")(193,"a",83),e.EFF(194,"https://big-bench.com/"),e.k0s()()(),e.j41(195,"tr")(196,"td")(197,"a",84),e.EFF(198,"https://www.qingtui.cn/"),e.k0s()()(),e.j41(199,"tr")(200,"td")(201,"a",85),e.EFF(202,"https://www.rosebayconsult.com/"),e.k0s()()(),e.j41(203,"tr")(204,"td")(205,"a",86),e.EFF(206,"https://www.patrocinium.com/"),e.k0s()()(),e.j41(207,"tr")(208,"td")(209,"a",87),e.EFF(210,"https://creatorsdaily.com"),e.k0s()()(),e.j41(211,"tr")(212,"td")(213,"a",88),e.EFF(214,"https://autoscar.com.br"),e.k0s()()(),e.j41(215,"tr")(216,"td")(217,"a",89),e.EFF(218,"https://www.mediktiv.com"),e.k0s()()(),e.j41(219,"tr")(220,"td")(221,"a",90),e.EFF(222,"https://harmonize.health"),e.k0s()()(),e.j41(223,"tr")(224,"td")(225,"a",91),e.EFF(226,"https://accerlery.be"),e.k0s()()(),e.j41(227,"tr")(228,"td")(229,"a",92),e.EFF(230,"https://www.facile.it"),e.k0s()()(),e.j41(231,"tr")(232,"td")(233,"a",93),e.EFF(234,"https://shopback.com"),e.k0s()()(),e.j41(235,"tr")(236,"td")(237,"a",94),e.EFF(238,"https://www.ottonova.de"),e.k0s()()(),e.j41(239,"tr")(240,"td")(241,"a",95),e.EFF(242,"https://www.radity.com"),e.k0s()()(),e.j41(243,"tr")(244,"td")(245,"a",96),e.EFF(246,"https://globalctoforum.org"),e.k0s()()(),e.j41(247,"tr")(248,"td")(249,"a",97),e.EFF(250,"https://halojasa.com"),e.k0s()()(),e.j41(251,"tr")(252,"td")(253,"a",98),e.EFF(254,"https://hexito.com"),e.k0s()()(),e.j41(255,"tr")(256,"td")(257,"a",99),e.EFF(258,"https://rivvy.app"),e.k0s()()(),e.j41(259,"tr")(260,"td")(261,"a",100),e.EFF(262,"https://padfever.com/"),e.k0s()()(),e.j41(263,"tr")(264,"td")(265,"a",101),e.EFF(266,"https://datenlotse.org"),e.k0s()()(),e.j41(267,"tr")(268,"td")(269,"a",102),e.EFF(270,"https://bemum.co"),e.k0s()()(),e.j41(271,"tr")(272,"td")(273,"a",103),e.EFF(274,"https://weoptimeye.ai"),e.k0s()()(),e.j41(275,"tr")(276,"td")(277,"a",104),e.EFF(278,"https://nemovote.com"),e.k0s()()(),e.j41(279,"tr")(280,"td")(281,"a",105),e.EFF(282,"https://selleo.com"),e.k0s()()(),e.j41(283,"tr")(284,"td")(285,"a",106),e.EFF(286,"https://pchas.ir"),e.k0s()()(),e.j41(287,"tr")(288,"td")(289,"a",107),e.EFF(290,"https://tayeh.ir"),e.k0s()()(),e.j41(291,"tr")(292,"td")(293,"a",108),e.EFF(294,"https://forwardigital.co.uk"),e.k0s()()(),e.j41(295,"tr")(296,"td")(297,"a",109),e.EFF(298,"https://rozetka.com.ua"),e.k0s()()(),e.j41(299,"tr")(300,"td")(301,"a",110),e.EFF(302,"https://www.itrio.net"),e.k0s()()(),e.j41(303,"tr")(304,"td")(305,"a",111),e.EFF(306,"https://alexishr.com"),e.k0s()()(),e.j41(307,"tr")(308,"td")(309,"a",112),e.EFF(310,"https://dyrector.io"),e.k0s()()(),e.j41(311,"tr")(312,"td")(313,"a",113),e.EFF(314,"https://stijlbreuk.nl"),e.k0s()()(),e.j41(315,"tr")(316,"td")(317,"a",114),e.EFF(318,"https://polygon-software.ch"),e.k0s()()(),e.j41(319,"tr")(320,"td")(321,"a",115),e.EFF(322,"https://bewith.io"),e.k0s()()(),e.j41(323,"tr")(324,"td")(325,"a",116),e.EFF(326,"https://swetrix.com"),e.k0s()()(),e.j41(327,"tr")(328,"td")(329,"a",117),e.EFF(330,"https://swyftlogistics.com"),e.k0s()()(),e.j41(331,"tr")(332,"td")(333,"a",118),e.EFF(334,"https://evershop.io"),e.k0s()()(),e.j41(335,"tr")(336,"td")(337,"a",119),e.EFF(338,"https://e-design.ca"),e.k0s()()(),e.j41(339,"tr")(340,"td")(341,"a",120),e.EFF(342,"https://growthmill.com"),e.k0s()()(),e.j41(343,"tr")(344,"td")(345,"a",121),e.EFF(346,"https://tarken.com.br"),e.k0s()()(),e.j41(347,"tr")(348,"td")(349,"a",122),e.EFF(350,"https://remato.com"),e.k0s()()(),e.j41(351,"tr")(352,"td")(353,"a",123),e.EFF(354,"https://remberg.de/en"),e.k0s()()(),e.j41(355,"tr")(356,"td")(357,"a",124),e.EFF(358,"https://uninterrupted.tech"),e.k0s()()(),e.j41(359,"tr")(360,"td")(361,"a",125),e.EFF(362,"https://www.digando.com"),e.k0s()()(),e.j41(363,"tr")(364,"td")(365,"a",126),e.EFF(366,"https://novu.co"),e.k0s()()(),e.j41(367,"tr")(368,"td")(369,"a",127),e.EFF(370,"https://aqreach.com"),e.k0s()()(),e.j41(371,"tr")(372,"td")(373,"a",128),e.EFF(374,"https://phalco.de"),e.k0s()()(),e.j41(375,"tr")(376,"td")(377,"a",129),e.EFF(378,"https://www.tesseractpro.io"),e.k0s()()(),e.j41(379,"tr")(380,"td")(381,"a",130),e.EFF(382,"https://www.kwanso.com"),e.k0s()()(),e.j41(383,"tr")(384,"td")(385,"a",131),e.EFF(386,"https://cmdn.io"),e.k0s()()(),e.j41(387,"tr")(388,"td")(389,"a",132),e.EFF(390,"https://ayo.so"),e.k0s()()(),e.j41(391,"tr")(392,"td")(393,"a",133),e.EFF(394,"https://devitjobs.com"),e.k0s()()(),e.j41(395,"tr")(396,"td")(397,"a",134),e.EFF(398,"https://formation.tech"),e.k0s()()(),e.j41(399,"tr")(400,"td")(401,"a",135),e.EFF(402,"https://gofirmex.com"),e.k0s()()()(),e.j41(403,"p"),e.EFF(404," and a lot more but we don't have enough time to update above list. Feel free to create a "),e.j41(405,"a",136),e.EFF(406,"pull request"),e.k0s(),e.EFF(407," though!\n"),e.k0s())},dependencies:[Ln.a],styles:["@media (max-width: 480px){.company-logo[_ngcontent-%COMP%]{width:360px;max-width:100%;display:block;text-align:center;margin:40px auto}.company-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:180px!important;max-width:100%;max-height:none}}"],changeDetection:0})}return y})(),Vn=(()=>{class y extends Xe.y{static \u0275fac=(()=>{let a;return function(f){return(a||(a=e.xGo(y)))(f||y)}})();static \u0275cmp=e.VBU({type:y,selectors:[["app-enterprise"]],features:[e.Vt3],decls:74,vars:0,consts:[["contentReference",""],[1,"content"],[1,"github-links"],["href","https://github.com/Lou8is/docs.nestjs.fr/edit/main/content/enterprise.md","aria-label","Proposer des modifications","title","Proposer des modifications"],[1,"fas","fa-edit"],["id","official-nestjs-consulting"],["id","official-support"],[1,"row"],[1,"thumbnail","p-l-30"],["src","/assets/enterprise/help.svg"],[1,"thumbnail","p-r-30"],["src","/assets/enterprise/contact.svg"],["appAnchor","","id","first-hand-access"],["appAnchor","","id","nestjs-workshops-and-trainings"],[1,"contact-us"],[1,"column","column-text"],[1,"column","column-action"],["href","mailto:support@nestjs.com"]],template:function(c,f){1&c&&(e.j41(0,"div",1,0)(2,"div",2)(3,"a",3),e.nrm(4,"i",4),e.k0s()(),e.j41(5,"h3",5),e.EFF(6,"Official NestJS Consulting"),e.k0s(),e.j41(7,"p"),e.EFF(8,"Our goal is to ensure that your developers are successful and productive with NestJS as well as other modern technologies in today's ever-changing tech world."),e.k0s(),e.j41(9,"h3",6),e.EFF(10,"Official Support"),e.k0s(),e.j41(11,"p"),e.EFF(12,"With official support, get expert help directly from the NestJS core team. We tackle your toughest challenges, and collaborate with your team on many levels such as:"),e.k0s(),e.j41(13,"ul")(14,"li"),e.EFF(15,"Providing technical guidance & architectural reviews"),e.k0s(),e.j41(16,"li")(17,"strong"),e.EFF(18,"Mentoring"),e.k0s(),e.EFF(19," team members"),e.k0s(),e.j41(20,"li"),e.EFF(21,"Advising best practices"),e.k0s(),e.j41(22,"li"),e.EFF(23,"Solving design decisions"),e.k0s(),e.j41(24,"li"),e.EFF(25,"Addressing security & performance concerns"),e.k0s(),e.j41(26,"li"),e.EFF(27,"Performing "),e.j41(28,"strong"),e.EFF(29,"in-depth"),e.k0s(),e.EFF(30," code reviews"),e.k0s()(),e.j41(31,"div",7)(32,"div",1)(33,"h4"),e.EFF(34,"Team Augmentation & Development"),e.k0s(),e.j41(35,"p"),e.EFF(36," With team augmentation, NestJS core team members can work directly with your team on a daily basis to help take your project to the next-level. Consider us \u201cpart of your team\u201d, tackling the most ambitious projects - right by your side. "),e.k0s()(),e.j41(37,"div",8),e.nrm(38,"img",9),e.k0s()(),e.j41(39,"div",7)(40,"div",10),e.nrm(41,"img",11),e.k0s(),e.j41(42,"div",1)(43,"h4"),e.EFF(44,"NestJS Best Practices"),e.k0s(),e.j41(45,"p"),e.EFF(46," Frequent code reviews can eliminate potentially hazardous bugs & issues at an early stage and help enforce best practices. Let us perform PR reviews & audits to ensure your code quality, performance, and security. "),e.k0s()()(),e.j41(47,"h4",12)(48,"span"),e.EFF(49,"First-hand access"),e.k0s()(),e.j41(50,"p"),e.EFF(51,"Direct communication channel will boost team velocity, giving a quick access to discuss and solve problems."),e.k0s(),e.j41(52,"h4",13)(53,"span"),e.EFF(54,"NestJS Workshops and Trainings"),e.k0s()(),e.j41(55,"p"),e.EFF(56,"We provide solid kick-off training as well as more advanced ones that give teams an in-depth understanding of NestJS. We offer on-site workshops and remote intensive sessions which help get you up and running "),e.j41(57,"em"),e.EFF(58,"quickly"),e.k0s(),e.EFF(59," within the NestJS ecosystem."),e.k0s(),e.j41(60,"div",14)(61,"div",15)(62,"h5"),e.EFF(63,"Contact us!"),e.k0s(),e.j41(64,"p"),e.EFF(65," Let's talk how we can help you become successful with NestJS. "),e.k0s()(),e.j41(66,"div",16)(67,"a",17),e.EFF(68,"CONTACT US"),e.k0s()()(),e.j41(69,"p"),e.EFF(70,"Reach out to us at "),e.j41(71,"a",17),e.EFF(72,"support@nestjs.com"),e.k0s(),e.EFF(73,", and let\u2019s talk about your project & teams needs!"),e.k0s()())},dependencies:[Ln.a],encapsulation:2,changeDetection:0})}return y})(),et=(()=>{class y extends Xe.y{static \u0275fac=(()=>{let a;return function(f){return(a||(a=e.xGo(y)))(f||y)}})();static \u0275cmp=e.VBU({type:y,selectors:[["app-exception-filters"]],features:[e.Vt3],decls:701,vars:60,consts:[["contentReference",""],["app5dc6de86bd58de4042dbf767f88b77d85c1f68e8",""],["appbeff0dc960fa7c8d435efe6be70d8c2b9e44c8e1",""],["appae8692e3d36c648b6c9113525ac4ce2d7cb7b17b",""],["app8b456a8d16fb06fbccbc7269d974ccfb346f80e4",""],["app92587eab1b0ab47ce309d3b119ba1fe6cfdab755",""],["app6c1a0f8ea7c562fab2f618db5e0be1f3c84778d3",""],["app397e6c8ef6840eff1015d411b7fb637ef39a9517",""],["app8cc5d5fd7ea97325850972617ebaf3fcf2ea77b8",""],["appc2051dd0b20e06f887d30195b504cc508aee859d",""],["app3baf77bd45f686b96d3cc72c88713b86d5abfea0",""],["app7d8b2b7d3995f58cafd957f87e7e26b6702f94e9",""],[1,"content"],[1,"github-links"],["href","https://github.com/Lou8is/docs.nestjs.fr/edit/main/content/exception-filters.md","aria-label","Proposer des modifications","title","Proposer des modifications"],[1,"fas","fa-edit"],["id","filtres-dexception"],["src","/assets/Filter_1.png",1,"illustrative-image"],[1,"language-json"],[1,"info"],["appAnchor","","id","lancer-des-exceptions-standard"],[1,"with-heading"],[1,"filename"],[1,"language-typescript"],["rel","nofollow","target","_blank","href","https://developer.mozilla.org/en-US/docs/Web/HTTP/Status"],["rel","nofollow","target","_blank","href","https://nodejs.org/en/blog/release/v16.9.0/#error-cause"],["appAnchor","","id","exceptions-personnalis\xe9es"],["appAnchor","","id","exceptions-http-int\xe9gr\xe9es"],["appAnchor","","id","filtres-dexception-1"],[1,"warning"],["appAnchor","","id","argumentshost"],["href","/fundamentals/execution-context"],["routerLink","/fundamentals/execution-context"],["href","/fundamentals/execution-context#arguments-du-gestionnaire-dh\xf4te"],["appAnchor","","id","filtres-de-liaison"],["routerLink","/fundamentals/custom-providers"],["appAnchor","","id","tout-capturer"],["rel","nofollow","target","_blank","href","./faq/http-adapter"],["appAnchor","","id","h\xe9ritage"],["href","exception-filters#filtres-de-liaison"]],template:function(c,f){if(1&c&&(e.j41(0,"div",12,0)(2,"div",13)(3,"a",14),e.nrm(4,"i",15),e.k0s()(),e.j41(5,"h3",16),e.EFF(6,"Filtres d'exception"),e.k0s(),e.j41(7,"p"),e.EFF(8,"Nest est livr\xe9 avec une "),e.j41(9,"strong"),e.EFF(10,"couche d'exceptions"),e.k0s(),e.EFF(11," int\xe9gr\xe9e qui est responsable du traitement de toutes les exceptions non g\xe9r\xe9es dans une application. Lorsqu'une exception n'est pas g\xe9r\xe9e par le code de votre application, elle est prise en charge par cette couche, qui envoie alors automatiquement une r\xe9ponse appropri\xe9e et conviviale."),e.k0s(),e.j41(12,"figure"),e.nrm(13,"img",17),e.k0s(),e.j41(14,"p"),e.EFF(15,"Cette action est effectu\xe9e par un "),e.j41(16,"strong"),e.EFF(17,"filtre d'exception global"),e.k0s(),e.EFF(18," int\xe9gr\xe9, qui g\xe8re les exceptions de type "),e.j41(19,"code"),e.EFF(20,"HttpException"),e.k0s(),e.EFF(21," (et ses sous-classes). Quand une exception est "),e.j41(22,"strong"),e.EFF(23,"non reconnue"),e.k0s(),e.EFF(24," (n'est ni "),e.j41(25,"code"),e.EFF(26,"HttpException"),e.k0s(),e.EFF(27," ni une classe qui h\xe9rite de "),e.j41(28,"code"),e.EFF(29,"HttpException"),e.k0s(),e.EFF(30,"), le filtre d'exception int\xe9gr\xe9 g\xe9n\xe8re la r\xe9ponse JSON par d\xe9faut suivante :"),e.k0s(),e.j41(31,"pre")(32,"code",18),e.EFF(33,'\n{\n  "statusCode": 500,\n  "message": "Internal server error"\n}\n'),e.k0s()(),e.j41(34,"blockquote",19)(35,"strong"),e.EFF(36,"Astuce"),e.k0s(),e.EFF(37," Le filtre d'exception global supporte partiellement la biblioth\xe8que "),e.j41(38,"code"),e.EFF(39,"http-errors"),e.k0s(),e.EFF(40,". Fondamentalement, toute exception lanc\xe9e contenant les propri\xe9t\xe9s "),e.j41(41,"code"),e.EFF(42,"statusCode"),e.k0s(),e.EFF(43," et "),e.j41(44,"code"),e.EFF(45,"message"),e.k0s(),e.EFF(46," sera correctement remplie et renvoy\xe9e en tant que r\xe9ponse (au lieu de l'exception par d\xe9faut "),e.j41(47,"code"),e.EFF(48,"InternalServerErrorException"),e.k0s(),e.EFF(49," pour les exceptions non reconnues).\n"),e.k0s(),e.j41(50,"h4",20)(51,"span"),e.EFF(52,"Lancer des exceptions standard"),e.k0s()(),e.j41(53,"p"),e.EFF(54,"Nest fournit une classe int\xe9gr\xe9e "),e.j41(55,"code"),e.EFF(56,"HttpException"),e.k0s(),e.EFF(57,", expos\xe9e dans le package "),e.j41(58,"code"),e.EFF(59,"@nestjs/common"),e.k0s(),e.EFF(60,". Pour les applications HTTP REST/GraphQL API typiques, la meilleure pratique consiste \xe0 envoyer des objets de r\xe9ponse HTTP standard lorsque certaines conditions d'erreur se produisent."),e.k0s(),e.j41(61,"p"),e.EFF(62,"Par exemple, dans le "),e.j41(63,"code"),e.EFF(64,"CatsController"),e.k0s(),e.EFF(65,", nous avons une m\xe9thode "),e.j41(66,"code"),e.EFF(67,"findAll()"),e.k0s(),e.EFF(68," (un gestionnaire de route "),e.j41(69,"code"),e.EFF(70,"GET"),e.k0s(),e.EFF(71,"). Supposons que ce gestionnaire de route l\xe8ve une exception pour une raison quelconque. Pour le d\xe9montrer, nous allons le coder en dur comme suit :"),e.k0s(),e.j41(72,"app-copy-button",21)(73,"span",22),e.EFF(74),e.nI1(75,"extension"),e.nrm(76,"app-tabs",null,1),e.k0s(),e.j41(78,"pre")(79,"code",23),e.EFF(80,"\n@Get()\nasync findAll() {\n  throw new HttpException('Forbidden', HttpStatus.FORBIDDEN);\n}\n"),e.k0s()()(),e.j41(81,"blockquote",19)(82,"strong"),e.EFF(83,"Astuce"),e.k0s(),e.EFF(84," Nous avons utilis\xe9 "),e.j41(85,"code"),e.EFF(86,"HttpStatus"),e.k0s(),e.EFF(87," ici. C'est une enum d'aide import\xe9e du package "),e.j41(88,"code"),e.EFF(89,"@nestjs/common"),e.k0s(),e.EFF(90,".\n"),e.k0s(),e.j41(91,"p"),e.EFF(92,"Lorsque le client appelle ce point d'acc\xe8s, la r\xe9ponse ressemble \xe0 ceci :"),e.k0s(),e.j41(93,"pre")(94,"code",18),e.EFF(95,'\n{\n  "statusCode": 403,\n  "message": "Forbidden"\n}\n'),e.k0s()(),e.j41(96,"p"),e.EFF(97,"Le constructeur de "),e.j41(98,"code"),e.EFF(99,"HttpException"),e.k0s(),e.EFF(100," prend deux arguments obligatoires qui d\xe9terminent la\nr\xe9ponse :"),e.k0s(),e.j41(101,"ul")(102,"li"),e.EFF(103,"L'argument "),e.j41(104,"code"),e.EFF(105,"response"),e.k0s(),e.EFF(106," d\xe9finit le corps de la r\xe9ponse JSON. Il peut s'agir d'une "),e.j41(107,"code"),e.EFF(108,"string"),e.k0s(),e.EFF(109,"\nou un "),e.j41(110,"code"),e.EFF(111,"object"),e.k0s(),e.EFF(112," comme d\xe9crit ci-dessous."),e.k0s(),e.j41(113,"li"),e.EFF(114,"L'argument "),e.j41(115,"code"),e.EFF(116,"status"),e.k0s(),e.EFF(117," d\xe9finit le "),e.j41(118,"a",24),e.EFF(119,"code de retour HTTP"),e.k0s(),e.EFF(120,"."),e.k0s()(),e.j41(121,"p"),e.EFF(122,"Par d\xe9faut, le corps de la r\xe9ponse JSON contient deux propri\xe9t\xe9s :"),e.k0s(),e.j41(123,"ul")(124,"li")(125,"code"),e.EFF(126,"statusCode"),e.k0s(),e.EFF(127,": prend par d\xe9faut le code de retour HTTP fourni dans l'argument "),e.j41(128,"code"),e.EFF(129,"status"),e.k0s(),e.EFF(130,"."),e.k0s(),e.j41(131,"li")(132,"code"),e.EFF(133,"message"),e.k0s(),e.EFF(134,": une br\xe8ve description de l'erreur HTTP bas\xe9e sur le "),e.j41(135,"code"),e.EFF(136,"status"),e.k0s(),e.EFF(137,"."),e.k0s()(),e.j41(138,"p"),e.EFF(139,"Pour surcharger uniquement la partie message du corps de la r\xe9ponse JSON, fournissez une cha\xeene de caract\xe8res\ndans l'argument "),e.j41(140,"code"),e.EFF(141,"response"),e.k0s(),e.EFF(142,". Pour surcharger tout le corps de la r\xe9ponse JSON, passez un objet dans l'argument "),e.j41(143,"code"),e.EFF(144,"response"),e.k0s(),e.EFF(145,". Nest s\xe9rialisera l'objet et le retournera en tant que corps de r\xe9ponse JSON."),e.k0s(),e.j41(146,"p"),e.EFF(147,"Le second argument du constructeur - "),e.j41(148,"code"),e.EFF(149,"status"),e.k0s(),e.EFF(150," - doit \xeatre un code de statut HTTP valide.\nLa meilleure pratique est d'utiliser l'enum "),e.j41(151,"code"),e.EFF(152,"HttpStatus"),e.k0s(),e.EFF(153," import\xe9e de "),e.j41(154,"code"),e.EFF(155,"@nestjs/common"),e.k0s(),e.EFF(156,"."),e.k0s(),e.j41(157,"p"),e.EFF(158,"Il y a un "),e.j41(159,"strong"),e.EFF(160,"troisi\xe8me"),e.k0s(),e.EFF(161," argument du constructeur (optionnel) - "),e.j41(162,"code"),e.EFF(163,"options"),e.k0s(),e.EFF(164," - qui peut \xeatre utilis\xe9 pour fournir une "),e.j41(165,"a",25),e.EFF(166,"cause"),e.k0s(),e.EFF(167," d'erreur. Cet objet "),e.j41(168,"code"),e.EFF(169,"cause"),e.k0s(),e.EFF(170," n'est pas s\xe9rialis\xe9 dans l'objet r\xe9ponse, mais il peut \xeatre utile \xe0 des fins de journalisation, en fournissant des informations pr\xe9cieuses sur l'erreur interne qui a caus\xe9 la lev\xe9e de la "),e.j41(171,"code"),e.EFF(172,"HttpException"),e.k0s(),e.EFF(173,"."),e.k0s(),e.j41(174,"p"),e.EFF(175,"Voici un exemple de surcharge de l'ensemble du corps de la r\xe9ponse et d'indication de la cause de l'erreur :"),e.k0s(),e.j41(176,"app-copy-button",21)(177,"span",22),e.EFF(178),e.nI1(179,"extension"),e.nrm(180,"app-tabs",null,2),e.k0s(),e.j41(182,"pre")(183,"code",23),e.EFF(184,"\n@Get()\nasync findAll() {\n  try {\n    await this.service.findAll()\n  } catch (error) {\n    throw new HttpException({\n      status: HttpStatus.FORBIDDEN,\n      error: 'This is a custom message',\n    }, HttpStatus.FORBIDDEN, {\n      cause: error\n    });\n  }\n}\n"),e.k0s()()(),e.j41(185,"p"),e.EFF(186,"En utilisant ce qui pr\xe9c\xe8de, voici \xe0 quoi ressemblerait la r\xe9ponse :"),e.k0s(),e.j41(187,"pre")(188,"code",18),e.EFF(189,'\n{\n  "status": 403,\n  "error": "This is a custom message"\n}\n'),e.k0s()(),e.j41(190,"h4",26)(191,"span"),e.EFF(192,"Exceptions personnalis\xe9es"),e.k0s()(),e.j41(193,"p"),e.EFF(194,"Dans la plupart des cas, vous n'aurez pas besoin d'\xe9crire des exceptions personnalis\xe9es, et vous pourrez utiliser l'exception HTTP Nest int\xe9gr\xe9e, comme d\xe9crit dans la section suivante. Si vous avez besoin de cr\xe9er des exceptions personnalis\xe9es, c'est une bonne pratique de cr\xe9er votre propre "),e.j41(195,"strong"),e.EFF(196,"hi\xe9rarchie d'exceptions"),e.k0s(),e.EFF(197,", o\xf9 vos exceptions personnalis\xe9es h\xe9ritent de la classe de base "),e.j41(198,"code"),e.EFF(199,"HttpException"),e.k0s(),e.EFF(200,". Avec cette approche, Nest reconna\xeetra vos exceptions, et s'occupera automatiquement des r\xe9ponses d'erreur. Impl\xe9mentons une telle exception personnalis\xe9e :"),e.k0s(),e.j41(201,"app-copy-button",21)(202,"span",22),e.EFF(203),e.nI1(204,"extension"),e.nrm(205,"app-tabs",null,3),e.k0s(),e.j41(207,"pre")(208,"code",23),e.EFF(209,"\nexport class ForbiddenException extends HttpException {\n  constructor() {\n    super('Forbidden', HttpStatus.FORBIDDEN);\n  }\n}\n"),e.k0s()()(),e.j41(210,"p"),e.EFF(211,"Puisque "),e.j41(212,"code"),e.EFF(213,"ForbiddenException"),e.k0s(),e.EFF(214," \xe9tend la base "),e.j41(215,"code"),e.EFF(216,"HttpException"),e.k0s(),e.EFF(217,", elle fonctionnera de mani\xe8re transparente avec le gestionnaire d'exception int\xe9gr\xe9, et nous pouvons donc l'utiliser dans la m\xe9thode "),e.j41(218,"code"),e.EFF(219,"findAll()"),e.k0s(),e.EFF(220,"."),e.k0s(),e.j41(221,"app-copy-button",21)(222,"span",22),e.EFF(223),e.nI1(224,"extension"),e.nrm(225,"app-tabs",null,4),e.k0s(),e.j41(227,"pre")(228,"code",23),e.EFF(229,"\n@Get()\nasync findAll() {\n  throw new ForbiddenException();\n}\n"),e.k0s()()(),e.j41(230,"h4",27)(231,"span"),e.EFF(232,"Exceptions HTTP int\xe9gr\xe9es"),e.k0s()(),e.j41(233,"p"),e.EFF(234,"Nest fournit un ensemble d'exceptions standard qui h\xe9ritent de la base "),e.j41(235,"code"),e.EFF(236,"HttpException"),e.k0s(),e.EFF(237,". Celles-ci sont expos\xe9es \xe0 partir du package "),e.j41(238,"code"),e.EFF(239,"@nestjs/common"),e.k0s(),e.EFF(240,", et repr\xe9sentent la plupart des exceptions HTTP les plus courantes :"),e.k0s(),e.j41(241,"ul")(242,"li")(243,"code"),e.EFF(244,"BadRequestException"),e.k0s()(),e.j41(245,"li")(246,"code"),e.EFF(247,"UnauthorizedException"),e.k0s()(),e.j41(248,"li")(249,"code"),e.EFF(250,"NotFoundException"),e.k0s()(),e.j41(251,"li")(252,"code"),e.EFF(253,"ForbiddenException"),e.k0s()(),e.j41(254,"li")(255,"code"),e.EFF(256,"NotAcceptableException"),e.k0s()(),e.j41(257,"li")(258,"code"),e.EFF(259,"RequestTimeoutException"),e.k0s()(),e.j41(260,"li")(261,"code"),e.EFF(262,"ConflictException"),e.k0s()(),e.j41(263,"li")(264,"code"),e.EFF(265,"GoneException"),e.k0s()(),e.j41(266,"li")(267,"code"),e.EFF(268,"HttpVersionNotSupportedException"),e.k0s()(),e.j41(269,"li")(270,"code"),e.EFF(271,"PayloadTooLargeException"),e.k0s()(),e.j41(272,"li")(273,"code"),e.EFF(274,"UnsupportedMediaTypeException"),e.k0s()(),e.j41(275,"li")(276,"code"),e.EFF(277,"UnprocessableEntityException"),e.k0s()(),e.j41(278,"li")(279,"code"),e.EFF(280,"InternalServerErrorException"),e.k0s()(),e.j41(281,"li")(282,"code"),e.EFF(283,"NotImplementedException"),e.k0s()(),e.j41(284,"li")(285,"code"),e.EFF(286,"ImATeapotException"),e.k0s()(),e.j41(287,"li")(288,"code"),e.EFF(289,"MethodNotAllowedException"),e.k0s()(),e.j41(290,"li")(291,"code"),e.EFF(292,"BadGatewayException"),e.k0s()(),e.j41(293,"li")(294,"code"),e.EFF(295,"ServiceUnavailableException"),e.k0s()(),e.j41(296,"li")(297,"code"),e.EFF(298,"GatewayTimeoutException"),e.k0s()(),e.j41(299,"li")(300,"code"),e.EFF(301,"PreconditionFailedException"),e.k0s()()(),e.j41(302,"p"),e.EFF(303,"Toutes les exceptions int\xe9gr\xe9es peuvent \xe9galement fournir une "),e.j41(304,"code"),e.EFF(305,"cause"),e.k0s(),e.EFF(306," et une description de l'erreur en utilisant le param\xe8tre "),e.j41(307,"code"),e.EFF(308,"options"),e.k0s(),e.EFF(309," :"),e.k0s(),e.j41(310,"app-copy-button")(311,"pre")(312,"code",23),e.EFF(313,"\nthrow new BadRequestException('Something bad happened', {\n  cause: new Error(),\n  description: 'Some error description',\n});\n"),e.k0s()()(),e.j41(314,"p"),e.EFF(315,"Voici comment se pr\xe9senterait la r\xe9ponse :"),e.k0s(),e.j41(316,"pre")(317,"code",18),e.EFF(318,'\n{\n  "message": "Something bad happened",\n  "error": "Some error description",\n  "statusCode": 400\n}\n'),e.k0s()(),e.j41(319,"h4",28)(320,"span"),e.EFF(321,"Filtres d'exception"),e.k0s()(),e.j41(322,"p"),e.EFF(323,"Bien que le filtre d'exception de base (int\xe9gr\xe9) puisse g\xe9rer automatiquement de nombreux cas pour vous, vous pouvez vouloir "),e.j41(324,"strong"),e.EFF(325,"un contr\xf4le total"),e.k0s(),e.EFF(326," sur la couche d'exceptions. Par exemple, vous pouvez vouloir ajouter la journalisation ou utiliser un sch\xe9ma JSON diff\xe9rent en fonction de certains facteurs dynamiques. Les "),e.j41(327,"strong"),e.EFF(328,"filtres d'exceptions"),e.k0s(),e.EFF(329," sont con\xe7us exactement dans ce but. Ils vous permettent de contr\xf4ler le flux exact de contr\xf4le et le contenu de la r\xe9ponse renvoy\xe9e au client."),e.k0s(),e.j41(330,"p"),e.EFF(331,"Cr\xe9ons un filtre d'exception qui est responsable de la capture des exceptions qui sont une instance de la classe "),e.j41(332,"code"),e.EFF(333,"HttpException"),e.k0s(),e.EFF(334,", et de l'impl\xe9mentation d'une logique de r\xe9ponse personnalis\xe9e pour ces exceptions. Pour ce faire, nous aurons besoin d'acc\xe9der aux objets "),e.j41(335,"code"),e.EFF(336,"Request"),e.k0s(),e.EFF(337," et "),e.j41(338,"code"),e.EFF(339,"Response"),e.k0s(),e.EFF(340," de la plateforme sous-jacente. Nous allons acc\xe9der \xe0 l'objet "),e.j41(341,"code"),e.EFF(342,"Request"),e.k0s(),e.EFF(343," afin de pouvoir extraire l' "),e.j41(344,"code"),e.EFF(345,"url"),e.k0s(),e.EFF(346," original et l'inclure dans les informations de logging. Nous allons utiliser l'objet "),e.j41(347,"code"),e.EFF(348,"Response"),e.k0s(),e.EFF(349," pour prendre le contr\xf4le direct de la r\xe9ponse qui est envoy\xe9e, en utilisant la m\xe9thode "),e.j41(350,"code"),e.EFF(351,"response.json()"),e.k0s(),e.EFF(352,"."),e.k0s(),e.j41(353,"app-copy-button",21)(354,"span",22),e.EFF(355),e.nI1(356,"extension"),e.nrm(357,"app-tabs",null,5),e.k0s(),e.j41(359,"pre")(360,"code",23),e.EFF(361,"\nimport { ExceptionFilter, Catch, ArgumentsHost, HttpException } from '@nestjs/common';\nimport { Request, Response } from 'express';\n\n@Catch(HttpException)\nexport class HttpExceptionFilter implements ExceptionFilter {\n  catch(exception: HttpException, host: ArgumentsHost) {\n    const ctx = host.switchToHttp();\n    const response = ctx.getResponse<Response>();\n    const request = ctx.getRequest<Request>();\n    const status = exception.getStatus();\n\n    response\n      .status(status)\n      .json({\n        statusCode: status,\n        timestamp: new Date().toISOString(),\n        path: request.url,\n      });\n  }\n}\n"),e.k0s()(),e.j41(362,"pre")(363,"code",23),e.EFF(364,"\nimport { Catch, HttpException } from '@nestjs/common';\n\n@Catch(HttpException)\nexport class HttpExceptionFilter {\n  catch(exception, host) {\n    const ctx = host.switchToHttp();\n    const response = ctx.getResponse();\n    const request = ctx.getRequest();\n    const status = exception.getStatus();\n\n    response\n      .status(status)\n      .json({\n        statusCode: status,\n        timestamp: new Date().toISOString(),\n        path: request.url,\n      });\n  }\n}\n"),e.k0s()()(),e.j41(365,"blockquote",19)(366,"strong"),e.EFF(367,"Astuce"),e.k0s(),e.EFF(368," Tous les filtres d'exception doivent impl\xe9menter l'interface g\xe9n\xe9rique "),e.j41(369,"code"),e.EFF(370,"ExceptionFilter<T>"),e.k0s(),e.EFF(371,". Cela vous oblige \xe0 fournir la m\xe9thode "),e.j41(372,"code"),e.EFF(373,"catch(exception : T, host : ArgumentsHost)"),e.k0s(),e.EFF(374," avec la signature indiqu\xe9e. "),e.j41(375,"code"),e.EFF(376,"T"),e.k0s(),e.EFF(377," indique le type de l'exception.\n"),e.k0s(),e.j41(378,"blockquote",29)(379,"strong"),e.EFF(380,"Attention"),e.k0s(),e.EFF(381," Si vous utilisez "),e.j41(382,"code"),e.EFF(383,"@nestjs/platform-fastify"),e.k0s(),e.EFF(384,", vous pouvez utiliser "),e.j41(385,"code"),e.EFF(386,"response.send()"),e.k0s(),e.EFF(387," au lieu de "),e.j41(388,"code"),e.EFF(389,"response.json()"),e.k0s(),e.EFF(390,". N'oubliez pas d'importer les bons types de "),e.j41(391,"code"),e.EFF(392,"fastify"),e.k0s(),e.EFF(393,".\n"),e.k0s(),e.j41(394,"p"),e.EFF(395,"Le d\xe9corateur "),e.j41(396,"code"),e.EFF(397,"@Catch(HttpException)"),e.k0s(),e.EFF(398," lie les m\xe9tadonn\xe9es requises au filtre d'exception, indiquant \xe0 Nest que ce filtre particulier recherche des exceptions de type "),e.j41(399,"code"),e.EFF(400,"HttpException"),e.k0s(),e.EFF(401," et rien d'autre. Le d\xe9corateur "),e.j41(402,"code"),e.EFF(403,"@Catch()"),e.k0s(),e.EFF(404," peut prendre un seul param\xe8tre, ou une liste s\xe9par\xe9e par des virgules. Cela vous permet de configurer le filtre pour plusieurs types d'exceptions \xe0 la fois."),e.k0s(),e.j41(405,"h4",30)(406,"span"),e.EFF(407,"ArgumentsHost"),e.k0s()(),e.j41(408,"p"),e.EFF(409,"Examinons les param\xe8tres de la m\xe9thode "),e.j41(410,"code"),e.EFF(411,"catch()"),e.k0s(),e.EFF(412,". Le param\xe8tre "),e.j41(413,"code"),e.EFF(414,"exception"),e.k0s(),e.EFF(415," est l'objet d'exception en cours de traitement. Le param\xe8tre "),e.j41(416,"code"),e.EFF(417,"host"),e.k0s(),e.EFF(418," est un objet "),e.j41(419,"code"),e.EFF(420,"ArgumentsHost"),e.k0s(),e.EFF(421,". L'objet "),e.j41(422,"code"),e.EFF(423,"ArgumentsHost"),e.k0s(),e.EFF(424," est un puissant objet utilitaire que nous examinerons plus en d\xe9tail dans le "),e.j41(425,"a",31),e.EFF(426,"chapitre sur le contexte d'ex\xe9cution"),e.k0s(),e.EFF(427,"*. Dans cet exemple de code, nous l'utilisons pour obtenir une r\xe9f\xe9rence aux objets "),e.j41(428,"code"),e.EFF(429,"Request"),e.k0s(),e.EFF(430," et "),e.j41(431,"code"),e.EFF(432,"Response"),e.k0s(),e.EFF(433," qui sont pass\xe9s au gestionnaire de requ\xeate original (dans le contr\xf4leur d'o\xf9 provient l'exception). Dans cet exemple de code, nous avons utilis\xe9 quelques m\xe9thodes d'aide sur "),e.j41(434,"code"),e.EFF(435,"ArgumentsHost"),e.k0s(),e.EFF(436," pour obtenir les objets "),e.j41(437,"code"),e.EFF(438,"Request"),e.k0s(),e.EFF(439," et "),e.j41(440,"code"),e.EFF(441,"Response"),e.k0s(),e.EFF(442," d\xe9sir\xe9s. Pour en savoir plus sur "),e.j41(443,"code"),e.EFF(444,"ArgumentsHost"),e.k0s(),e.EFF(445,", "),e.j41(446,"a",32),e.EFF(447,"cliquez ici"),e.k0s(),e.EFF(448,"."),e.k0s(),e.j41(449,"p"),e.EFF(450,"*La raison de ce niveau d'abstraction est que "),e.j41(451,"code"),e.EFF(452,"ArgumentsHost"),e.k0s(),e.EFF(453," fonctionne dans tous les contextes (par exemple, le contexte du serveur HTTP avec lequel nous travaillons maintenant, mais aussi les Microservices et les WebSockets). Dans le chapitre sur le contexte d'ex\xe9cution, nous verrons comment nous pouvons acc\xe9der aux "),e.j41(454,"a",33),e.EFF(455,"arguments sous-jacents"),e.k0s(),e.EFF(456," appropri\xe9s pour "),e.j41(457,"strong"),e.EFF(458,"n'importe quel"),e.k0s(),e.EFF(459," contexte d'ex\xe9cution gr\xe2ce \xe0 la puissance de "),e.j41(460,"code"),e.EFF(461,"ArgumentsHost"),e.k0s(),e.EFF(462," et de ses fonctions d'aide. Cela nous permettra d'\xe9crire des filtres d'exception g\xe9n\xe9riques qui fonctionnent dans tous les contextes."),e.k0s(),e.j41(463,"p"),e.nrm(464,"app-banner-courses"),e.k0s(),e.j41(465,"h4",34)(466,"span"),e.EFF(467,"Filtres de liaison"),e.k0s()(),e.j41(468,"p"),e.EFF(469,"Lions notre nouveau "),e.j41(470,"code"),e.EFF(471,"HttpExceptionFilter"),e.k0s(),e.EFF(472," \xe0 la m\xe9thode "),e.j41(473,"code"),e.EFF(474,"create()"),e.k0s(),e.EFF(475," du "),e.j41(476,"code"),e.EFF(477,"CatsController"),e.k0s(),e.EFF(478,"."),e.k0s(),e.j41(479,"app-copy-button",21)(480,"span",22),e.EFF(481),e.nI1(482,"extension"),e.nrm(483,"app-tabs",null,6),e.k0s(),e.j41(485,"pre")(486,"code",23),e.EFF(487,"\n@Post()\n@UseFilters(new HttpExceptionFilter())\nasync create(@Body() createCatDto: CreateCatDto) {\n  throw new ForbiddenException();\n}\n"),e.k0s()(),e.j41(488,"pre")(489,"code",23),e.EFF(490,"\n@Post()\n@UseFilters(new HttpExceptionFilter())\n@Bind(Body())\nasync create(createCatDto) {\n  throw new ForbiddenException();\n}\n"),e.k0s()()(),e.j41(491,"blockquote",19)(492,"strong"),e.EFF(493,"Astuce"),e.k0s(),e.EFF(494," Le d\xe9corateur "),e.j41(495,"code"),e.EFF(496,"@UseFilters()"),e.k0s(),e.EFF(497," est import\xe9 du package "),e.j41(498,"code"),e.EFF(499,"@nestjs/common"),e.k0s(),e.EFF(500,".\n"),e.k0s(),e.j41(501,"p"),e.EFF(502,"Nous avons utilis\xe9 le d\xe9corateur "),e.j41(503,"code"),e.EFF(504,"@UseFilters()"),e.k0s(),e.EFF(505," ici. Similaire au d\xe9corateur "),e.j41(506,"code"),e.EFF(507,"@Catch()"),e.k0s(),e.EFF(508,", il peut prendre une seule instance de filtre, ou une liste d'instances de filtres s\xe9par\xe9es par des virgules. Ici, nous avons cr\xe9\xe9 l'instance de "),e.j41(509,"code"),e.EFF(510,"HttpExceptionFilter"),e.k0s(),e.EFF(511," en place. Alternativement, vous pouvez passer la classe (au lieu d'une instance), laissant la responsabilit\xe9 de l'instanciation au framework, et permettant "),e.j41(512,"strong"),e.EFF(513,"l'injection de d\xe9pendance"),e.k0s(),e.EFF(514,"."),e.k0s(),e.j41(515,"app-copy-button",21)(516,"span",22),e.EFF(517),e.nI1(518,"extension"),e.nrm(519,"app-tabs",null,7),e.k0s(),e.j41(521,"pre")(522,"code",23),e.EFF(523,"\n@Post()\n@UseFilters(HttpExceptionFilter)\nasync create(@Body() createCatDto: CreateCatDto) {\n  throw new ForbiddenException();\n}\n"),e.k0s()(),e.j41(524,"pre")(525,"code",23),e.EFF(526,"\n@Post()\n@UseFilters(HttpExceptionFilter)\n@Bind(Body())\nasync create(createCatDto) {\n  throw new ForbiddenException();\n}\n"),e.k0s()()(),e.j41(527,"blockquote",19)(528,"strong"),e.EFF(529,"Astuce"),e.k0s(),e.EFF(530," Pr\xe9f\xe9rez appliquer des filtres en utilisant des classes plut\xf4t que des instances lorsque c'est possible. Cela r\xe9duit l'utilisation de la "),e.j41(531,"strong"),e.EFF(532,"m\xe9moire"),e.k0s(),e.EFF(533," puisque Nest peut facilement r\xe9utiliser des instances de la m\xeame classe dans l'ensemble de votre module.\n"),e.k0s(),e.j41(534,"p"),e.EFF(535,"Dans l'exemple ci-dessus, le "),e.j41(536,"code"),e.EFF(537,"HttpExceptionFilter"),e.k0s(),e.EFF(538," est appliqu\xe9 uniquement au gestionnaire de route "),e.j41(539,"code"),e.EFF(540,"create()"),e.k0s(),e.EFF(541,", ce qui en fait un filtre de m\xe9thode. Les filtres d'exception peuvent \xeatre d\xe9finis \xe0 diff\xe9rents niveaux : m\xe9thode de contr\xf4leur/r\xe9solveur/gateway, contr\xf4leur ou global. Par exemple, pour configurer un filtre \xe0 l'\xe9chelle du contr\xf4leur, vous devez faire ce qui suit :"),e.k0s(),e.j41(542,"app-copy-button",21)(543,"span",22),e.EFF(544),e.nI1(545,"extension"),e.nrm(546,"app-tabs",null,8),e.k0s(),e.j41(548,"pre")(549,"code",23),e.EFF(550,"\n@UseFilters(new HttpExceptionFilter())\nexport class CatsController {}\n"),e.k0s()()(),e.j41(551,"p"),e.EFF(552,"Cette construction met en place le "),e.j41(553,"code"),e.EFF(554,"HttpExceptionFilter"),e.k0s(),e.EFF(555," pour chaque gestionnaire de route d\xe9fini \xe0 l'int\xe9rieur du "),e.j41(556,"code"),e.EFF(557,"CatsController"),e.k0s(),e.EFF(558,"."),e.k0s(),e.j41(559,"p"),e.EFF(560,"Pour cr\xe9er un filtre global, vous devez proc\xe9der comme suit :"),e.k0s(),e.j41(561,"app-copy-button",21)(562,"span",22),e.EFF(563),e.nI1(564,"extension"),e.nrm(565,"app-tabs",null,9),e.k0s(),e.j41(567,"pre")(568,"code",23),e.EFF(569,"\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n  app.useGlobalFilters(new HttpExceptionFilter());\n  await app.listen(process.env.PORT ?? 3000);\n}\nbootstrap();\n"),e.k0s()()(),e.j41(570,"blockquote",29)(571,"strong"),e.EFF(572,"Attention"),e.k0s(),e.EFF(573," La m\xe9thode "),e.j41(574,"code"),e.EFF(575,"useGlobalFilters()"),e.k0s(),e.EFF(576," ne configure pas les filtres pour les passerelles ou les applications hybrides.\n"),e.k0s(),e.j41(577,"p"),e.EFF(578,"Les filtres \xe0 port\xe9e globale sont utilis\xe9s dans toute l'application, pour chaque contr\xf4leur et chaque gestionnaire de route. En termes d'injection de d\xe9pendances, les filtres globaux enregistr\xe9s en dehors de tout module (avec "),e.j41(579,"code"),e.EFF(580,"useGlobalFilters()"),e.k0s(),e.EFF(581," comme dans l'exemple ci-dessus) ne peuvent pas injecter de d\xe9pendances puisque cela est fait en dehors du contexte de tout module. Afin de r\xe9soudre ce probl\xe8me, vous pouvez enregistrer un filtre global "),e.j41(582,"strong"),e.EFF(583,"directement depuis n'importe quel module"),e.k0s(),e.EFF(584," en utilisant la construction suivante :"),e.k0s(),e.j41(585,"app-copy-button",21)(586,"span",22),e.EFF(587),e.nI1(588,"extension"),e.nrm(589,"app-tabs",null,10),e.k0s(),e.j41(591,"pre")(592,"code",23),e.EFF(593,"\nimport { Module } from '@nestjs/common';\nimport { APP_FILTER } from '@nestjs/core';\n\n@Module({\n  providers: [\n    {\n      provide: APP_FILTER,\n      useClass: HttpExceptionFilter,\n    },\n  ],\n})\nexport class AppModule {}\n"),e.k0s()()(),e.j41(594,"blockquote",19)(595,"strong"),e.EFF(596,"Astuce"),e.k0s(),e.EFF(597," Lorsque vous utilisez cette approche pour r\xe9aliser l'injection de d\xe9pendances pour le filtre, notez que quel que soit le module dans lequel cette construction est employ\xe9e, le filtre est, en fait, global. O\xf9 cela doit-il \xeatre fait ? Choisissez le module o\xf9 le filtre ("),e.j41(598,"code"),e.EFF(599,"HttpExceptionFilter"),e.k0s(),e.EFF(600," dans l'exemple ci-dessus) est d\xe9fini. De plus, "),e.j41(601,"code"),e.EFF(602,"useClass"),e.k0s(),e.EFF(603," n'est pas la seule fa\xe7on de g\xe9rer l'enregistrement de fournisseurs personnalis\xe9s. Apprenez-en plus "),e.j41(604,"a",35),e.EFF(605,"ici"),e.k0s(),e.EFF(606,".\n"),e.k0s(),e.j41(607,"p"),e.EFF(608,"Cette technique permet d'ajouter autant de filtres que n\xe9cessaire ; il suffit d'ajouter chacun d'entre eux au tableau des fournisseurs."),e.k0s(),e.j41(609,"h4",36)(610,"span"),e.EFF(611,"Tout capturer"),e.k0s()(),e.j41(612,"p"),e.EFF(613,"Afin de capturer "),e.j41(614,"strong"),e.EFF(615,"toutes"),e.k0s(),e.EFF(616," les exceptions non g\xe9r\xe9es (quel que soit le type d'exception), laissez la liste des param\xe8tres du d\xe9corateur "),e.j41(617,"code"),e.EFF(618,"@Catch()"),e.k0s(),e.EFF(619," vide, par exemple, "),e.j41(620,"code"),e.EFF(621,"@Catch()"),e.k0s(),e.EFF(622,"."),e.k0s(),e.j41(623,"p"),e.EFF(624,"Dans l'exemple ci-dessous, nous avons un code qui est agnostique car il utilise l'"),e.j41(625,"a",37),e.EFF(626,"adaptateur HTTP"),e.k0s(),e.EFF(627," pour d\xe9livrer la r\xe9ponse, et n'utilise aucun des objets sp\xe9cifiques \xe0 la plateforme ("),e.j41(628,"code"),e.EFF(629,"Request"),e.k0s(),e.EFF(630," et "),e.j41(631,"code"),e.EFF(632,"Response"),e.k0s(),e.EFF(633,") directement :"),e.k0s(),e.j41(634,"app-copy-button")(635,"pre")(636,"code",23),e.EFF(637,"\nimport {\n  ExceptionFilter,\n  Catch,\n  ArgumentsHost,\n  HttpException,\n  HttpStatus,\n} from '@nestjs/common';\nimport { HttpAdapterHost } from '@nestjs/core';\n\n@Catch()\nexport class CatchEverythingFilter implements ExceptionFilter {\n  constructor(private readonly httpAdapterHost: HttpAdapterHost) {}\n\n  catch(exception: unknown, host: ArgumentsHost): void {\n    // In certain situations `httpAdapter` might not be available in the\n    // constructor method, thus we should resolve it here.\n    const { httpAdapter } = this.httpAdapterHost;\n\n    const ctx = host.switchToHttp();\n\n    const httpStatus =\n      exception instanceof HttpException\n        ? exception.getStatus()\n        : HttpStatus.INTERNAL_SERVER_ERROR;\n\n    const responseBody = {\n      statusCode: httpStatus,\n      timestamp: new Date().toISOString(),\n      path: httpAdapter.getRequestUrl(ctx.getRequest()),\n    };\n\n    httpAdapter.reply(ctx.getResponse(), responseBody, httpStatus);\n  }\n}\n"),e.k0s()()(),e.j41(638,"blockquote",29)(639,"strong"),e.EFF(640,"Attention"),e.k0s(),e.EFF(641," Lorsque l'on combine un filtre d'exception qui attrape tout avec un filtre li\xe9 \xe0 un type sp\xe9cifique, le filtre \"attrape tout\" doit \xeatre d\xe9clar\xe9 en premier pour permettre au filtre sp\xe9cifique de g\xe9rer correctement le type li\xe9.\n"),e.k0s(),e.j41(642,"h4",38)(643,"span"),e.EFF(644,"H\xe9ritage"),e.k0s()(),e.j41(645,"p"),e.EFF(646,"En r\xe8gle g\xe9n\xe9rale, vous cr\xe9ez des filtres d'exception enti\xe8rement personnalis\xe9s, con\xe7us pour r\xe9pondre aux exigences de votre application. Cependant, il peut arriver que vous souhaitiez simplement \xe9tendre le "),e.j41(647,"strong"),e.EFF(648,"filtre d'exception global"),e.k0s(),e.EFF(649," int\xe9gr\xe9 par d\xe9faut et modifier son comportement en fonction de certains facteurs."),e.k0s(),e.j41(650,"p"),e.EFF(651,"Pour d\xe9l\xe9guer le traitement des exceptions au filtre de base, vous devez \xe9tendre "),e.j41(652,"code"),e.EFF(653,"BaseExceptionFilter"),e.k0s(),e.EFF(654," et appeler la m\xe9thode "),e.j41(655,"code"),e.EFF(656,"catch()"),e.k0s(),e.EFF(657," h\xe9rit\xe9e."),e.k0s(),e.j41(658,"app-copy-button",21)(659,"span",22),e.EFF(660),e.nI1(661,"extension"),e.nrm(662,"app-tabs",null,11),e.k0s(),e.j41(664,"pre")(665,"code",23),e.EFF(666,"\nimport { Catch, ArgumentsHost } from '@nestjs/common';\nimport { BaseExceptionFilter } from '@nestjs/core';\n\n@Catch()\nexport class AllExceptionsFilter extends BaseExceptionFilter {\n  catch(exception: unknown, host: ArgumentsHost) {\n    super.catch(exception, host);\n  }\n}\n"),e.k0s()(),e.j41(667,"pre")(668,"code",23),e.EFF(669,"\nimport { Catch } from '@nestjs/common';\nimport { BaseExceptionFilter } from '@nestjs/core';\n\n@Catch()\nexport class AllExceptionsFilter extends BaseExceptionFilter {\n  catch(exception, host) {\n    super.catch(exception, host);\n  }\n}\n"),e.k0s()()(),e.j41(670,"blockquote",29)(671,"strong"),e.EFF(672,"Attention"),e.k0s(),e.EFF(673," Les filtres \xe0 port\xe9e de m\xe9thode et \xe0 port\xe9e de contr\xf4leur qui \xe9tendent le "),e.j41(674,"code"),e.EFF(675,"BaseExceptionFilter"),e.k0s(),e.EFF(676," ne doivent pas \xeatre instanci\xe9s avec "),e.j41(677,"code"),e.EFF(678,"new"),e.k0s(),e.EFF(679,". A la place, laissez le framework les instancier automatiquement.\n"),e.k0s(),e.j41(680,"p"),e.EFF(681,"Les filtres globaux "),e.j41(682,"strong"),e.EFF(683,"peuvent"),e.k0s(),e.EFF(684," \xe9tendre le filtre de base. Cela peut se faire de deux mani\xe8res."),e.k0s(),e.j41(685,"p"),e.EFF(686,"La premi\xe8re m\xe9thode consiste \xe0 injecter la r\xe9f\xe9rence "),e.j41(687,"code"),e.EFF(688,"HttpAdapter"),e.k0s(),e.EFF(689," lors de l'instanciation du filtre global personnalis\xe9 :"),e.k0s(),e.j41(690,"app-copy-button")(691,"pre")(692,"code",23),e.EFF(693,"\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n\n  const { httpAdapter } = app.get(HttpAdapterHost);\n  app.useGlobalFilters(new AllExceptionsFilter(httpAdapter));\n\n  await app.listen(process.env.PORT ?? 3000);\n}\nbootstrap();\n"),e.k0s()()(),e.j41(694,"p"),e.EFF(695,"La seconde m\xe9thode consiste \xe0 utiliser le jeton "),e.j41(696,"code"),e.EFF(697,"APP_FILTER"),e.k0s(),e.j41(698,"a",39),e.EFF(699,"comme indiqu\xe9 ici"),e.k0s(),e.EFF(700,"."),e.k0s()()),2&c){const b=e.sdS(77),A=e.sdS(181),l=e.sdS(206),m=e.sdS(226),p=e.sdS(358),E=e.sdS(484),_=e.sdS(520),x=e.sdS(547),S=e.sdS(566),H=e.sdS(590),B=e.sdS(663);e.R7$(74),e.SpI(" ",e.i5U(75,27,"cats.controller",b.isJsActive),"\n"),e.R7$(104),e.SpI(" ",e.i5U(179,30,"cats.controller",A.isJsActive),"\n"),e.R7$(25),e.SpI(" ",e.i5U(204,33,"forbidden.exception",l.isJsActive),"\n"),e.R7$(20),e.SpI(" ",e.i5U(224,36,"cats.controller",m.isJsActive),"\n"),e.R7$(132),e.SpI(" ",e.i5U(356,39,"http-exception.filter",p.isJsActive),"\n"),e.R7$(4),e.AVh("hide",p.isJsActive),e.R7$(3),e.AVh("hide",!p.isJsActive),e.R7$(119),e.SpI(" ",e.i5U(482,42,"cats.controller",E.isJsActive),"\n"),e.R7$(4),e.AVh("hide",E.isJsActive),e.R7$(3),e.AVh("hide",!E.isJsActive),e.R7$(29),e.SpI(" ",e.i5U(518,45,"cats.controller",_.isJsActive),"\n"),e.R7$(4),e.AVh("hide",_.isJsActive),e.R7$(3),e.AVh("hide",!_.isJsActive),e.R7$(20),e.SpI(" ",e.i5U(545,48,"cats.controller",x.isJsActive),"\n"),e.R7$(19),e.SpI(" ",e.i5U(564,51,"main",S.isJsActive),"\n"),e.R7$(24),e.SpI(" ",e.i5U(588,54,"app.module",H.isJsActive),"\n"),e.R7$(73),e.SpI(" ",e.i5U(661,57,"all-exceptions.filter",B.isJsActive),"\n"),e.R7$(4),e.AVh("hide",B.isJsActive),e.R7$(3),e.AVh("hide",!B.isJsActive)}},dependencies:[mt.Wk,zn.O,Ln.a,An.Q,Qn.z,Zn.M],encapsulation:2,changeDetection:0})}return y})(),eo=(()=>{class y extends Xe.y{static \u0275fac=(()=>{let a;return function(f){return(a||(a=e.xGo(y)))(f||y)}})();static \u0275cmp=e.VBU({type:y,selectors:[["app-first-steps"]],features:[e.Vt3],decls:329,vars:10,consts:[["contentReference",""],["app8e44c7bcc9b8f49470559eb4e544aa68a1e9b0a0",""],[1,"content"],[1,"github-links"],["href","https://github.com/Lou8is/docs.nestjs.fr/edit/main/content/first-steps.md","aria-label","Proposer des modifications","title","Proposer des modifications"],[1,"fas","fa-edit"],["id","premiers-pas"],["appAnchor","","id","langage"],["rel","nofollow","target","_blank","href","https://www.typescriptlang.org/"],["rel","nofollow","target","_blank","href","https://nodejs.org/en/"],["rel","nofollow","target","_blank","href","https://babeljs.io/"],["appAnchor","","id","pr\xe9requis"],["rel","nofollow","target","_blank","href","https://nodejs.org"],["appAnchor","","id","mise-en-place"],["routerLink","/cli/overview"],["rel","nofollow","target","_blank","href","https://www.npmjs.com/"],[1,"language-bash"],[1,"info"],["rel","nofollow","target","_blank","href","https://www.typescriptlang.org/tsconfig#strict"],[1,"file-tree"],[1,"item"],[1,"children"],[1,"with-heading"],[1,"filename"],[1,"language-typescript"],["appAnchor","","id","plateforme"],["rel","nofollow","target","_blank","href","https://expressjs.com/"],["rel","nofollow","target","_blank","href","https://www.fastify.io"],["rel","nofollow","target","_blank","href","https://www.fastify.io/"],["routerLink","/techniques/performance"],["appAnchor","","id","lancer-lapplication"],["routerLink","/recipes/swc"],["appAnchor","","id","linting-et-formatage"],["rel","nofollow","target","_blank","href","https://eslint.org/"],["rel","nofollow","target","_blank","href","https://prettier.io/"],["rel","nofollow","target","_blank","href","https://prettier.io/docs/en/comparison.html"],["rel","nofollow","target","_blank","href","https://www.npmjs.com/package/eslint"],["rel","nofollow","target","_blank","href","https://www.npmjs.com/package/prettier"]],template:function(c,f){if(1&c&&(e.j41(0,"div",2,0)(2,"div",3)(3,"a",4),e.nrm(4,"i",5),e.k0s()(),e.j41(5,"h3",6),e.EFF(6,"Premiers pas"),e.k0s(),e.j41(7,"p"),e.EFF(8,"Dans cette s\xe9rie d'articles, vous apprendrez les "),e.j41(9,"strong"),e.EFF(10,"fondamentaux"),e.k0s(),e.EFF(11," de Nest. Pour vous familiariser avec les \xe9l\xe9ments essentiels des applications Nest, nous construirons une application CRUD de base avec des fonctionnalit\xe9s qui couvrent les bases de nombreux sujets."),e.k0s(),e.j41(12,"h4",7)(13,"span"),e.EFF(14,"Langage"),e.k0s()(),e.j41(15,"p"),e.EFF(16,"Nous sommes amoureux de "),e.j41(17,"a",8),e.EFF(18,"TypeScript"),e.k0s(),e.EFF(19,", mais surtout de "),e.j41(20,"a",9),e.EFF(21,"Node.js"),e.k0s(),e.EFF(22,". C'est pourquoi Nest est compatible \xe0 la fois avec TypeScript et le JavaScript pur. Nest profite des derni\xe8res fonctionnalit\xe9s du langage, donc pour l'utiliser avec du JavaScript de base, nous avons besoin d'un compilateur "),e.j41(23,"a",10),e.EFF(24,"Babel"),e.k0s(),e.EFF(25,"."),e.k0s(),e.j41(26,"p"),e.EFF(27,"Nous utiliserons principalement TypeScript dans les exemples que nous fournissons, mais vous pouvez toujours "),e.j41(28,"strong"),e.EFF(29,"changer les extraits de code"),e.k0s(),e.EFF(30," en syntaxe JavaScript pur (il suffit de cliquer pour basculer le bouton de langage dans le coin sup\xe9rieur droit de chaque extrait)."),e.k0s(),e.j41(31,"h4",11)(32,"span"),e.EFF(33,"Pr\xe9requis"),e.k0s()(),e.j41(34,"p"),e.EFF(35,"Veuillez vous assurer que "),e.j41(36,"a",12),e.EFF(37,"Node.js"),e.k0s(),e.EFF(38," (version >= 16) est install\xe9 sur votre syst\xe8me d'exploitation."),e.k0s(),e.j41(39,"h4",13)(40,"span"),e.EFF(41,"Mise en place"),e.k0s()(),e.j41(42,"p"),e.EFF(43,"La mise en place d'un nouveau projet est assez simple avec la "),e.j41(44,"a",14),e.EFF(45,"CLI Nest"),e.k0s(),e.EFF(46,". Si "),e.j41(47,"a",15),e.EFF(48,"npm"),e.k0s(),e.EFF(49," est install\xe9, vous pouvez cr\xe9er un nouveau projet Nest \xe0 l'aide des commandes suivantes dans le terminal de votre syst\xe8me d'exploitation :"),e.k0s(),e.j41(50,"pre")(51,"code",16),e.EFF(52,"\n$ npm i -g @nestjs/cli\n$ nest new nom-du-projet\n"),e.k0s()(),e.j41(53,"blockquote",17)(54,"strong"),e.EFF(55,"Astuce"),e.k0s(),e.EFF(56," Pour cr\xe9er un nouveau projet avec l'ensemble des fonctionnalit\xe9s "),e.j41(57,"a",18),e.EFF(58,"plus strictes"),e.k0s(),e.EFF(59," de TypeScript, passez le flag "),e.j41(60,"code"),e.EFF(61,"--strict"),e.k0s(),e.EFF(62," \xe0 la commande "),e.j41(63,"code"),e.EFF(64,"nest new"),e.k0s(),e.EFF(65,".\n"),e.k0s(),e.j41(66,"p"),e.EFF(67,"Le r\xe9pertoire "),e.j41(68,"code"),e.EFF(69,"nom-du-projet"),e.k0s(),e.EFF(70," sera cr\xe9\xe9, les modules node et quelques autres fichiers de base seront install\xe9s, et un r\xe9pertoire "),e.j41(71,"code"),e.EFF(72,"src/"),e.k0s(),e.EFF(73," sera cr\xe9\xe9 et rempli avec plusieurs fichiers de base."),e.k0s(),e.j41(74,"div",19)(75,"div",20),e.EFF(76,"src"),e.k0s(),e.j41(77,"div",21)(78,"div",20),e.EFF(79,"app.controller.spec.ts"),e.k0s(),e.j41(80,"div",20),e.EFF(81,"app.controller.ts"),e.k0s(),e.j41(82,"div",20),e.EFF(83,"app.module.ts"),e.k0s(),e.j41(84,"div",20),e.EFF(85,"app.service.ts"),e.k0s(),e.j41(86,"div",20),e.EFF(87,"main.ts"),e.k0s()()(),e.j41(88,"p"),e.EFF(89,"Voici un bref aper\xe7u de ces fichiers de base :"),e.k0s(),e.j41(90,"table"),e.nrm(91,"thead"),e.j41(92,"tbody")(93,"tr")(94,"td")(95,"code"),e.EFF(96,"app.controller.ts"),e.k0s()(),e.j41(97,"td"),e.EFF(98,"Un contr\xf4leur de base avec une seule route."),e.k0s()(),e.j41(99,"tr")(100,"td")(101,"code"),e.EFF(102,"app.controller.spec.ts"),e.k0s()(),e.j41(103,"td"),e.EFF(104,"Les tests unitaires pour le contr\xf4leur."),e.k0s()(),e.j41(105,"tr")(106,"td")(107,"code"),e.EFF(108,"app.module.ts"),e.k0s()(),e.j41(109,"td"),e.EFF(110,"Le module racine de l'application."),e.k0s()(),e.j41(111,"tr")(112,"td")(113,"code"),e.EFF(114,"app.service.ts"),e.k0s()(),e.j41(115,"td"),e.EFF(116,"Un service de base avec une seule m\xe9thode."),e.k0s()(),e.j41(117,"tr")(118,"td")(119,"code"),e.EFF(120,"main.ts"),e.k0s()(),e.j41(121,"td"),e.EFF(122,"Le fichier d'entr\xe9e de l'application qui utilise la fonction de base "),e.j41(123,"code"),e.EFF(124,"NestFactory"),e.k0s(),e.EFF(125," pour cr\xe9er une instance d'application Nest."),e.k0s()()()(),e.j41(126,"p"),e.EFF(127,"Le fichier "),e.j41(128,"code"),e.EFF(129,"main.ts"),e.k0s(),e.EFF(130," inclut une fonction asynchrone, qui va "),e.j41(131,"strong"),e.EFF(132,"bootstrapper"),e.k0s(),e.EFF(133," notre application :"),e.k0s(),e.j41(134,"app-copy-button",22)(135,"span",23),e.EFF(136),e.nI1(137,"extension"),e.nrm(138,"app-tabs",null,1),e.k0s(),e.j41(140,"pre")(141,"code",24),e.EFF(142,"\nimport { NestFactory } from '@nestjs/core';\nimport { AppModule } from './app.module';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n  await app.listen(process.env.PORT ?? 3000);\n}\nbootstrap();\n"),e.k0s()(),e.j41(143,"pre")(144,"code",24),e.EFF(145,"\nimport { NestFactory } from '@nestjs/core';\nimport { AppModule } from './app.module';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n  await app.listen(process.env.PORT ?? 3000);\n}\nbootstrap();\n"),e.k0s()()(),e.j41(146,"p"),e.EFF(147,"Pour cr\xe9er une instance d'application Nest, nous utilisons la classe "),e.j41(148,"code"),e.EFF(149,"NestFactory"),e.k0s(),e.EFF(150,". "),e.j41(151,"code"),e.EFF(152,"NestFactory"),e.k0s(),e.EFF(153," expose quelques m\xe9thodes statiques qui permettent de cr\xe9er une instance d'application. La m\xe9thode "),e.j41(154,"code"),e.EFF(155,"create()"),e.k0s(),e.EFF(156," renvoie un objet application, qui satisfait \xe0 l'interface "),e.j41(157,"code"),e.EFF(158,"INestApplication"),e.k0s(),e.EFF(159,". Cet objet fournit un ensemble de m\xe9thodes qui sont d\xe9crites dans les chapitres suivants. Dans l'exemple "),e.j41(160,"code"),e.EFF(161,"main.ts"),e.k0s(),e.EFF(162," ci-dessus, nous d\xe9marrons simplement notre listener HTTP, qui permet \xe0 l'application d'attendre les requ\xeates HTTP entrantes."),e.k0s(),e.j41(163,"p"),e.EFF(164,"Notez qu'un projet con\xe7u \xe0 l'aide de l'interface de programmation Nest cr\xe9e une structure de projet initiale qui encourage les d\xe9veloppeurs \xe0 suivre la convention consistant \xe0 conserver chaque module dans son propre r\xe9pertoire."),e.k0s(),e.j41(165,"blockquote",17)(166,"strong"),e.EFF(167,"Astuce"),e.k0s(),e.EFF(168," Par d\xe9faut, si une erreur survient lors de la cr\xe9ation de l'application, votre application sortira avec le code "),e.j41(169,"code"),e.EFF(170,"1"),e.k0s(),e.EFF(171,". Si vous voulez qu'elle l\xe8ve une erreur \xe0 la place, d\xe9sactivez l'option "),e.j41(172,"code"),e.EFF(173,"abortOnError"),e.k0s(),e.EFF(174," (par exemple, "),e.j41(175,"code"),e.EFF(176),e.k0s(),e.EFF(177,").\n"),e.k0s(),e.j41(178,"p"),e.nrm(179,"app-banner-courses"),e.k0s(),e.j41(180,"h4",25)(181,"span"),e.EFF(182,"Plateforme"),e.k0s()(),e.j41(183,"p"),e.EFF(184,"Nest a pour objectif d'\xeatre un framework ind\xe9pendant de toute plateforme. L'ind\xe9pendance vis-\xe0-vis des plateformes permet de cr\xe9er des parties logiques r\xe9utilisables dont les d\xe9veloppeurs peuvent tirer parti dans diff\xe9rents types d'applications. Techniquement, Nest est capable de fonctionner avec n'importe quel framework HTTP Node une fois qu'un adaptateur est cr\xe9\xe9. Deux plateformes HTTP sont prises en charge d\xe8s le d\xe9part : "),e.j41(185,"a",26),e.EFF(186,"express"),e.k0s(),e.EFF(187," et "),e.j41(188,"a",27),e.EFF(189,"fastify"),e.k0s(),e.EFF(190,". Vous pouvez choisir celle qui correspond le mieux \xe0 vos besoins."),e.k0s(),e.j41(191,"table"),e.nrm(192,"thead"),e.j41(193,"tbody")(194,"tr")(195,"td")(196,"code"),e.EFF(197,"platform-express"),e.k0s()(),e.j41(198,"td")(199,"a",26),e.EFF(200,"Express"),e.k0s(),e.EFF(201," est un framework web minimaliste bien connu pour node. C'est une biblioth\xe8que test\xe9e et pr\xeate pour la production, avec beaucoup de ressources impl\xe9ment\xe9es par la communaut\xe9. Le paquet "),e.j41(202,"code"),e.EFF(203,"@nestjs/platform-express"),e.k0s(),e.EFF(204," est utilis\xe9 par d\xe9faut. Beaucoup d'utilisateurs et de cas d'usages se satisfont d'Express, et aucune action n'est n\xe9cessaire pour l'activer."),e.k0s()(),e.j41(205,"tr")(206,"td")(207,"code"),e.EFF(208,"platform-fastify"),e.k0s()(),e.j41(209,"td")(210,"a",28),e.EFF(211,"Fastify"),e.k0s(),e.EFF(212," est un framework de haute performance et de faible encombrement qui vise \xe0 fournir un maximum d'efficacit\xe9 et de rapidit\xe9. Lisez comment l'utiliser "),e.j41(213,"a",29),e.EFF(214,"ici"),e.k0s(),e.EFF(215,"."),e.k0s()()()(),e.j41(216,"p"),e.EFF(217,"Quelle que soit la plate-forme utilis\xe9e, elle expose sa propre interface d'application. Celles-ci sont respectivement appel\xe9es "),e.j41(218,"code"),e.EFF(219,"NestExpressApplication"),e.k0s(),e.EFF(220," et "),e.j41(221,"code"),e.EFF(222,"NestFastifyApplication"),e.k0s(),e.EFF(223,"."),e.k0s(),e.j41(224,"p"),e.EFF(225,"Lorsque vous passez un type \xe0 la m\xe9thode "),e.j41(226,"code"),e.EFF(227,"NestFactory.create()"),e.k0s(),e.EFF(228,", comme dans l'exemple ci-dessous, l'objet "),e.j41(229,"code"),e.EFF(230,"app"),e.k0s(),e.EFF(231," aura des m\xe9thodes disponibles exclusivement pour cette plateforme sp\xe9cifique. Notez cependant que vous n'avez pas "),e.j41(232,"strong"),e.EFF(233,"besoin"),e.k0s(),e.EFF(234," de sp\xe9cifier un type "),e.j41(235,"strong"),e.EFF(236,"sauf"),e.k0s(),e.EFF(237," si vous voulez acc\xe9der \xe0 l'API de la plateforme sous-jacente."),e.k0s(),e.j41(238,"app-copy-button")(239,"pre")(240,"code",24),e.EFF(241,"\nconst app = await NestFactory.create<NestExpressApplication>(AppModule);\n"),e.k0s()()(),e.j41(242,"h4",30)(243,"span"),e.EFF(244,"Lancer l'application"),e.k0s()(),e.j41(245,"p"),e.EFF(246,"Une fois le processus d'installation termin\xe9, vous pouvez ex\xe9cuter la commande suivante \xe0 l'invite de commande de votre syst\xe8me d'exploitation pour lancer l'application et d\xe9marrer l'\xe9coute des requ\xeates HTTP entrantes :"),e.k0s(),e.j41(247,"pre")(248,"code",16),e.EFF(249,"\n$ npm run start\n"),e.k0s()(),e.j41(250,"blockquote",17)(251,"strong"),e.EFF(252,"Astuce"),e.k0s(),e.EFF(253," Afin d'acc\xe9l\xe9rer le processus de d\xe9veloppement (les builds sont x20 fois plus rapides), vous pouvez utiliser le "),e.j41(254,"a",31),e.EFF(255,"constructeur SWC"),e.k0s(),e.EFF(256," en passant le flag "),e.j41(257,"code"),e.EFF(258,"-b swc"),e.k0s(),e.EFF(259," au script "),e.j41(260,"code"),e.EFF(261,"start"),e.k0s(),e.EFF(262," comme suit "),e.j41(263,"code"),e.EFF(264,"npm run start -- -b swc"),e.k0s(),e.EFF(265,".\n"),e.k0s(),e.j41(266,"p"),e.EFF(267,"Cette commande lance l'application avec le serveur HTTP \xe9coutant sur le port d\xe9fini dans le fichier "),e.j41(268,"code"),e.EFF(269,"src/main.ts"),e.k0s(),e.EFF(270,". Une fois l'application lanc\xe9e, ouvrez votre navigateur et naviguez vers "),e.j41(271,"code"),e.EFF(272,"http://localhost:3000/"),e.k0s(),e.EFF(273,". Vous devriez voir le message "),e.j41(274,"code"),e.EFF(275,"Hello World!"),e.k0s(),e.EFF(276,"."),e.k0s(),e.j41(277,"p"),e.EFF(278,"Pour surveiller les modifications apport\xe9es \xe0 vos fichiers, vous pouvez lancer l'application \xe0 l'aide de la commande suivante :"),e.k0s(),e.j41(279,"pre")(280,"code",16),e.EFF(281,"\n$ npm run start:dev\n"),e.k0s()(),e.j41(282,"p"),e.EFF(283,"Cette commande surveille vos fichiers, recompile et recharge automatiquement le serveur."),e.k0s(),e.j41(284,"h4",32)(285,"span"),e.EFF(286,"Linting et formatage"),e.k0s()(),e.j41(287,"p"),e.EFF(288,"La "),e.j41(289,"a",14),e.EFF(290,"CLI"),e.k0s(),e.EFF(291," s'efforce de mettre en place un flux de travail de d\xe9veloppement fiable \xe0 grande \xe9chelle. Ainsi, un projet Nest g\xe9n\xe9r\xe9 est livr\xe9 avec un "),e.j41(292,"strong"),e.EFF(293,"linter"),e.k0s(),e.EFF(294," et un "),e.j41(295,"strong"),e.EFF(296,"formateur"),e.k0s(),e.EFF(297," de code pr\xe9install\xe9s (respectivement "),e.j41(298,"a",33),e.EFF(299,"eslint"),e.k0s(),e.EFF(300," et "),e.j41(301,"a",34),e.EFF(302,"prettier"),e.k0s(),e.EFF(303,")."),e.k0s(),e.j41(304,"blockquote",17)(305,"strong"),e.EFF(306,"Astuce"),e.k0s(),e.EFF(307," Vous n'\xeates pas s\xfbr du r\xf4le des formateurs par rapport \xe0 celui des linters ? Apprenez la diff\xe9rence "),e.j41(308,"a",35),e.EFF(309,"ici"),e.k0s(),e.EFF(310,".\n"),e.k0s(),e.j41(311,"p"),e.EFF(312,"Pour assurer une stabilit\xe9 et une extensibilit\xe9 maximales, nous utilisons les paquets cli de base "),e.j41(313,"a",36)(314,"code"),e.EFF(315,"eslint"),e.k0s()(),e.EFF(316," et "),e.j41(317,"a",37)(318,"code"),e.EFF(319,"prettier"),e.k0s()(),e.EFF(320,". Cette configuration permet une int\xe9gration soign\xe9e des IDE avec les extensions officielles."),e.k0s(),e.j41(321,"p"),e.EFF(322,"Pour les environnements headless o\xf9 un IDE n'est pas pertinent (Int\xe9gration Continue, Git hooks, etc.), un projet Nest est livr\xe9 avec des scripts "),e.j41(323,"code"),e.EFF(324,"npm"),e.k0s(),e.EFF(325," pr\xeats \xe0 l'emploi."),e.k0s(),e.j41(326,"pre")(327,"code",16),e.EFF(328,"\n# Lint and autofix with eslint\n$ npm run lint\n\n# Format with prettier\n$ npm run format\n"),e.k0s()()()),2&c){const b=e.sdS(139);e.R7$(136),e.SpI(" ",e.i5U(137,7,"main",b.isJsActive),"\n"),e.R7$(4),e.AVh("hide",b.isJsActive),e.R7$(3),e.AVh("hide",!b.isJsActive),e.R7$(33),e.Lme("NestFactory.create(AppModule, ","{"," abortOnError: false ","}",")")}},dependencies:[mt.Wk,zn.O,Ln.a,An.Q,Qn.z,Zn.M],encapsulation:2,changeDetection:0})}return y})();var Ro=C(8149);const Br=[{path:"",component:gr,children:[{path:"",component:(()=>{class y extends Xe.y{static \u0275fac=(()=>{let a;return function(f){return(a||(a=e.xGo(y)))(f||y)}})();static \u0275cmp=e.VBU({type:y,selectors:[["app-introduction"]],features:[e.Vt3],decls:122,vars:0,consts:[["contentReference",""],[1,"content"],[1,"github-links"],["href","https://github.com/Lou8is/docs.nestjs.fr/edit/main/content/introduction.md","aria-label","Proposer des modifications","title","Proposer des modifications"],[1,"fas","fa-edit"],["id","introduction"],["rel","nofollow","target","_blank","href","https://nodejs.org/"],["rel","nofollow","target","_blank","href","http://www.typescriptlang.org/"],["rel","nofollow","target","_blank","href","https://expressjs.com/"],["rel","nofollow","target","_blank","href","https://github.com/fastify/fastify"],["appAnchor","","id","philosophie"],["rel","nofollow","target","_blank","href","https://angular.dev/"],["rel","nofollow","target","_blank","href","https://github.com/facebook/react"],["rel","nofollow","target","_blank","href","https://github.com/vuejs/vue"],["appAnchor","","id","installation"],["routerLink","/cli/overview"],["href","#alternatives"],["routerLink","first-steps"],[1,"language-bash"],[1,"info"],["appAnchor","","id","alternatives"],["rel","nofollow","target","_blank","href","https://github.com/Rich-Harris/degit"],["rel","nofollow","target","_blank","href","http://localhost:3000/"],["rel","nofollow","target","_blank","href","https://dev.to/micalevisk/5-steps-to-create-a-bare-minimum-nestjs-app-from-scratch-5c3b"]],template:function(c,f){1&c&&(e.j41(0,"div",1,0)(2,"div",2)(3,"a",3),e.nrm(4,"i",4),e.k0s()(),e.j41(5,"h3",5),e.EFF(6,"Introduction"),e.k0s(),e.j41(7,"p"),e.EFF(8,"Nest (NestJS) est un framework permettant de construire des applications c\xf4t\xe9 serveur "),e.j41(9,"a",6),e.EFF(10,"Node.js"),e.k0s(),e.EFF(11," efficaces et \xe9volutives. Il utilise le JavaScript progressif, est construit avec et supporte enti\xe8rement "),e.j41(12,"a",7),e.EFF(13,"TypeScript"),e.k0s(),e.EFF(14," (tout en permettant aux d\xe9veloppeurs de coder en JavaScript pur), combine des \xe9l\xe9ments de la POO (programmation orient\xe9e objet), de la PF (programmation fonctionnelle) et de la FRP (programmation fonctionnelle r\xe9active)."),e.k0s(),e.j41(15,"p"),e.EFF(16,"Sous le capot, Nest utilise un serveur HTTP robuste comme "),e.j41(17,"a",8),e.EFF(18,"Express"),e.k0s(),e.EFF(19," (par d\xe9faut) et peut \xe9galement \xeatre configur\xe9 pour utiliser "),e.j41(20,"a",9),e.EFF(21,"Fastify"),e.k0s(),e.EFF(22," !"),e.k0s(),e.j41(23,"p"),e.EFF(24,"Nest fournit un niveau d'abstraction au-dessus de ces frameworks Node.js communs (Express/Fastify), mais expose \xe9galement leurs API directement au d\xe9veloppeur. Cela donne aux d\xe9veloppeurs la libert\xe9 d'utiliser la myriade de modules tiers disponibles pour la plateforme sous-jacente."),e.k0s(),e.j41(25,"h4",10)(26,"span"),e.EFF(27,"Philosophie"),e.k0s()(),e.j41(28,"p"),e.EFF(29,'Ces derni\xe8res ann\xe9es, gr\xe2ce \xe0 Node.js, JavaScript est devenu la "lingua franca" du web pour les applications frontend et backend. Cela a donn\xe9 naissance \xe0 des projets g\xe9niaux comme '),e.j41(30,"a",11),e.EFF(31,"Angular"),e.k0s(),e.EFF(32,", "),e.j41(33,"a",12),e.EFF(34,"React"),e.k0s(),e.EFF(35," et "),e.j41(36,"a",13),e.EFF(37,"Vue"),e.k0s(),e.EFF(38,", qui am\xe9liorent la productivit\xe9 des d\xe9veloppeurs et permettent la cr\xe9ation d'applications frontend rapides, testables et extensibles. Cependant, bien qu'il existe de nombreuses biblioth\xe8ques, aides et outils superbes pour Node (et JavaScript c\xf4t\xe9 serveur), aucun d'entre eux ne r\xe9sout efficacement le probl\xe8me principal de "),e.j41(39,"strong"),e.EFF(40,"l'architecture"),e.k0s(),e.EFF(41,"."),e.k0s(),e.j41(42,"p"),e.EFF(43,"Nest fournit une architecture d'application pr\xeate \xe0 l'emploi qui permet aux d\xe9veloppeurs et aux \xe9quipes de cr\xe9er des applications hautement testables, \xe9volutives, faiblement coupl\xe9es et facilement maintenables. L'architecture est fortement inspir\xe9e par Angular."),e.k0s(),e.j41(44,"h4",14)(45,"span"),e.EFF(46,"Installation"),e.k0s()(),e.j41(47,"p"),e.EFF(48,"Pour commencer, vous pouvez soit cr\xe9er le projet \xe0 l'aide de la "),e.j41(49,"a",15),e.EFF(50,"CLI Nest"),e.k0s(),e.EFF(51,", soit "),e.j41(52,"a",16),e.EFF(53,"cloner un projet de d\xe9part"),e.k0s(),e.EFF(54," (les deux produiront le m\xeame r\xe9sultat)."),e.k0s(),e.j41(55,"p"),e.EFF(56,"Pour cr\xe9er le projet \xe0 l'aide de l'interface de programmation Nest, ex\xe9cutez les commandes suivantes. Cela cr\xe9era un nouveau r\xe9pertoire de projet et le remplira avec les fichiers de base initiaux de Nest et les modules de soutien, cr\xe9ant ainsi une structure de base conventionnelle pour votre projet. La cr\xe9ation d'un nouveau projet \xe0 l'aide de l'interface de programmation "),e.j41(57,"strong"),e.EFF(58,"Nest"),e.k0s(),e.EFF(59," est recommand\xe9e pour les nouveaux utilisateurs. Nous poursuivrons cette approche dans "),e.j41(60,"a",17),e.EFF(61,"Premiers pas"),e.k0s(),e.EFF(62,"."),e.k0s(),e.j41(63,"pre")(64,"code",18),e.EFF(65,"\n$ npm i -g @nestjs/cli\n$ nest new nom-du-projet\n"),e.k0s()(),e.j41(66,"blockquote",19)(67,"strong"),e.EFF(68,"Astuce"),e.k0s(),e.EFF(69," Pour cr\xe9er un nouveau projet TypeScript avec des fonctionnalit\xe9s plus strictes, passez le flag "),e.j41(70,"code"),e.EFF(71,"--strict"),e.k0s(),e.EFF(72," \xe0 la commande "),e.j41(73,"code"),e.EFF(74,"nest new"),e.k0s(),e.EFF(75,".\n"),e.k0s(),e.j41(76,"h4",20)(77,"span"),e.EFF(78,"Alternatives"),e.k0s()(),e.j41(79,"p"),e.EFF(80,"Il est \xe9galement possible d'installer le projet de d\xe9marrage TypeScript avec "),e.j41(81,"strong"),e.EFF(82,"Git"),e.k0s(),e.EFF(83," :"),e.k0s(),e.j41(84,"pre")(85,"code",18),e.EFF(86,"\n$ git clone https://github.com/nestjs/typescript-starter.git projet\n$ cd projet\n$ npm install\n$ npm run start\n"),e.k0s()(),e.j41(87,"blockquote",19)(88,"strong"),e.EFF(89,"Astuce"),e.k0s(),e.EFF(90," Si vous souhaitez cloner le d\xe9p\xf4t sans l'historique git, vous pouvez utiliser "),e.j41(91,"a",21),e.EFF(92,"degit"),e.k0s(),e.EFF(93,".\n"),e.k0s(),e.j41(94,"p"),e.EFF(95,"Ouvrez votre navigateur et naviguez vers "),e.j41(96,"a",22)(97,"code"),e.EFF(98,"http://localhost:3000/"),e.k0s()(),e.EFF(99,"."),e.k0s(),e.j41(100,"p"),e.EFF(101,"Pour installer la version JavaScript du projet de base, utilisez "),e.j41(102,"code"),e.EFF(103,"javascript-starter.git"),e.k0s(),e.EFF(104," dans la s\xe9quence de commandes ci-dessus."),e.k0s(),e.j41(105,"p"),e.EFF(106,"Vous pouvez \xe9galement d\xe9marrer un nouveau projet \xe0 partir de z\xe9ro en installant les paquets de base et de support. Gardez \xe0 l'esprit que vous devrez configurer vous-m\xeame les fichiers de base du projet. Au minimum, vous aurez besoin des d\xe9pendances suivantes : "),e.j41(107,"code"),e.EFF(108,"@nestjs/core"),e.k0s(),e.EFF(109,", "),e.j41(110,"code"),e.EFF(111,"@nestjs/common"),e.k0s(),e.EFF(112,", "),e.j41(113,"code"),e.EFF(114,"rxjs"),e.k0s(),e.EFF(115,", et "),e.j41(116,"code"),e.EFF(117,"reflect-metadata"),e.k0s(),e.EFF(118,". Consultez ce court article (en anglais) sur la fa\xe7on de cr\xe9er un projet complet : "),e.j41(119,"a",23),e.EFF(120,"5 \xe9tapes pour cr\xe9er une application NestJS minimale \xe0 partir de z\xe9ro"),e.k0s(),e.EFF(121,"."),e.k0s()())},dependencies:[mt.Wk,Ln.a],encapsulation:2,changeDetection:0})}return y})()},{path:"first-steps",component:eo,data:{title:"Premiers pas"}},{path:"controllers",component:Xi,data:{title:"Contr\xf4leurs"}},{path:"components",redirectTo:"providers"},{path:"providers",component:Rs,data:{title:"Fournisseurs"}},{path:"modules",component:(()=>{class y extends Xe.y{static \u0275fac=(()=>{let a;return function(f){return(a||(a=e.xGo(y)))(f||y)}})();static \u0275cmp=e.VBU({type:y,selectors:[["app-modules"]],features:[e.Vt3],decls:438,vars:24,consts:[["contentReference",""],["app6cad9048352db06c6da4c7fd23f0cc2ddb5a4494",""],["app96674797d496ed94b7080391647195ade99edb14",""],["appd174658e2cc2810523b674fe69fe5ed08830ae21",""],["appe276ff3c43913be4dd1d4fb7a42364b83750f1c0",""],["app315919cb2ecee9619f0230fab9c78234e3900791",""],[1,"content"],[1,"github-links"],["href","https://github.com/Lou8is/docs.nestjs.fr/edit/main/content/modules.md","aria-label","Proposer des modifications","title","Proposer des modifications"],[1,"fas","fa-edit"],["id","modules"],["src","/assets/Modules_1.png",1,"illustrative-image"],["appAnchor","","id","modules-de-fonctionnalit\xe9s"],["rel","nofollow","target","_blank","href","https://en.wikipedia.org/wiki/SOLID"],[1,"with-heading"],[1,"filename"],[1,"language-typescript"],[1,"info"],[1,"file-tree"],[1,"item"],[1,"children"],["appAnchor","","id","modules-partag\xe9s"],["src","/assets/Shared_Module_1.png",1,"illustrative-image"],["appAnchor","","id","r\xe9exportation-de-modules"],["appAnchor","","id","injection-de-d\xe9pendances"],["appAnchor","","id","modules-globaux"],["rel","nofollow","target","_blank","href","https://angular.dev"],["appAnchor","","id","modules-dynamiques"],["routerLink","/fundamentals/dynamic-modules"],[1,"warning"],["rel","nofollow","target","_blank","href","https://github.com/nestjs/nest/tree/master/sample/25-dynamic-modules"],["href","/fundamentals/dynamic-modules#configurable-module-builder"]],template:function(c,f){if(1&c&&(e.j41(0,"div",6,0)(2,"div",7)(3,"a",8),e.nrm(4,"i",9),e.k0s()(),e.j41(5,"h3",10),e.EFF(6,"Modules"),e.k0s(),e.j41(7,"p"),e.EFF(8,"Un module est une classe annot\xe9e avec un d\xe9corateur "),e.j41(9,"code"),e.EFF(10,"@Module()"),e.k0s(),e.EFF(11,". Le d\xe9corateur "),e.j41(12,"code"),e.EFF(13,"@Module()"),e.k0s(),e.EFF(14," fournit des m\xe9tadonn\xe9es que "),e.j41(15,"strong"),e.EFF(16,"Nest"),e.k0s(),e.EFF(17," utilise pour organiser la structure de l'application."),e.k0s(),e.j41(18,"figure"),e.nrm(19,"img",11),e.k0s(),e.j41(20,"p"),e.EFF(21,"Chaque application poss\xe8de au moins un module, un "),e.j41(22,"strong"),e.EFF(23,"module racine"),e.k0s(),e.EFF(24,". Le module racine est le point de d\xe9part que Nest utilise pour construire le "),e.j41(25,"strong"),e.EFF(26,"graphe de l'application"),e.k0s(),e.EFF(27," - la structure de donn\xe9es interne que Nest utilise pour r\xe9soudre les relations et les d\xe9pendances entre les modules et les fournisseurs. Bien que de tr\xe8s petites applications puissent th\xe9oriquement n'avoir qu'un module racine, ce n'est pas le cas typique. Nous tenons \xe0 souligner que les modules sont "),e.j41(28,"strong"),e.EFF(29,"fortement"),e.k0s(),e.EFF(30," recommand\xe9s comme moyen efficace d'organiser vos composants. Ainsi, pour la plupart des applications, l'architecture r\xe9sultante utilisera plusieurs modules, chacun encapsulant un ensemble de "),e.j41(31,"strong"),e.EFF(32,"capacit\xe9s"),e.k0s(),e.EFF(33," \xe9troitement li\xe9es."),e.k0s(),e.j41(34,"p"),e.EFF(35,"Le d\xe9corateur "),e.j41(36,"code"),e.EFF(37,"@Module()"),e.k0s(),e.EFF(38," prend un objet unique dont les propri\xe9t\xe9s d\xe9crivent le module :"),e.k0s(),e.j41(39,"table"),e.nrm(40,"thead"),e.j41(41,"tbody")(42,"tr")(43,"td")(44,"code"),e.EFF(45,"providers"),e.k0s()(),e.j41(46,"td"),e.EFF(47,"les fournisseurs qui seront instanci\xe9s par l'injecteur Nest et qui peuvent \xeatre partag\xe9s au moins dans ce module"),e.k0s()(),e.j41(48,"tr")(49,"td")(50,"code"),e.EFF(51,"controllers"),e.k0s()(),e.j41(52,"td"),e.EFF(53,"l'ensemble des contr\xf4leurs d\xe9finis dans ce module qui doivent \xeatre instanci\xe9s"),e.k0s()(),e.j41(54,"tr")(55,"td")(56,"code"),e.EFF(57,"imports"),e.k0s()(),e.j41(58,"td"),e.EFF(59,"la liste des modules import\xe9s qui exportent les fournisseurs requis dans ce module"),e.k0s()(),e.j41(60,"tr")(61,"td")(62,"code"),e.EFF(63,"exports"),e.k0s()(),e.j41(64,"td"),e.EFF(65,"le sous-ensemble de "),e.j41(66,"code"),e.EFF(67,"providers"),e.k0s(),e.EFF(68," qui sont fournis par ce module et devraient \xeatre disponibles dans d'autres modules qui importent ce module. Vous pouvez utiliser le fournisseur lui-m\xeame ou seulement son jeton (valeur "),e.j41(69,"code"),e.EFF(70,"provide"),e.k0s(),e.EFF(71,")"),e.k0s()()()(),e.j41(72,"p"),e.EFF(73,"Le module "),e.j41(74,"strong"),e.EFF(75,"encapsule"),e.k0s(),e.EFF(76," les fournisseurs par d\xe9faut. Cela signifie qu'il est impossible d'injecter des fournisseurs qui ne font pas directement partie du module actuel ou qui ne sont pas export\xe9s par les modules import\xe9s. Ainsi, vous pouvez consid\xe9rer les fournisseurs export\xe9s d'un module comme l'interface publique du module, ou API."),e.k0s(),e.j41(77,"h4",12)(78,"span"),e.EFF(79,"Modules de fonctionnalit\xe9s"),e.k0s()(),e.j41(80,"p"),e.EFF(81,"Le "),e.j41(82,"code"),e.EFF(83,"CatsController"),e.k0s(),e.EFF(84," et le "),e.j41(85,"code"),e.EFF(86,"CatsService"),e.k0s(),e.EFF(87," appartiennent au m\xeame domaine d'application. Comme ils sont \xe9troitement li\xe9s, il est logique de les d\xe9placer dans un module de fonctionnalit\xe9. Un module de fonctionnalit\xe9 organise simplement le code pertinent pour une fonctionnalit\xe9 sp\xe9cifique, en gardant le code organis\xe9 et en \xe9tablissant des limites claires. Cela nous aide \xe0 g\xe9rer la complexit\xe9 et \xe0 d\xe9velopper selon les principes "),e.j41(88,"a",13),e.EFF(89,"SOLID"),e.k0s(),e.EFF(90,", en particulier lorsque la taille de l'application et/ou de l'\xe9quipe augmente."),e.k0s(),e.j41(91,"p"),e.EFF(92,"Pour le d\xe9montrer, nous allons cr\xe9er le "),e.j41(93,"code"),e.EFF(94,"CatsModule"),e.k0s(),e.EFF(95,"."),e.k0s(),e.j41(96,"app-copy-button",14)(97,"span",15),e.EFF(98),e.nI1(99,"extension"),e.nrm(100,"app-tabs",null,1),e.k0s(),e.j41(102,"pre")(103,"code",16),e.EFF(104,"\nimport { Module } from '@nestjs/common';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n})\nexport class CatsModule {}\n"),e.k0s()()(),e.j41(105,"blockquote",17)(106,"strong"),e.EFF(107,"Astuce"),e.k0s(),e.EFF(108," Pour cr\xe9er un module \xe0 l'aide de l'interface de programmation, il suffit d'ex\xe9cuter la commande "),e.j41(109,"code"),e.EFF(110,"$ nest g module cats"),e.k0s(),e.EFF(111,".\n"),e.k0s(),e.j41(112,"p"),e.EFF(113,"Ci-dessus, nous avons d\xe9fini le "),e.j41(114,"code"),e.EFF(115,"CatsModule"),e.k0s(),e.EFF(116," dans le fichier "),e.j41(117,"code"),e.EFF(118,"cats.module.ts"),e.k0s(),e.EFF(119,", et d\xe9plac\xe9 tout ce qui est li\xe9 \xe0 ce module dans le r\xe9pertoire "),e.j41(120,"code"),e.EFF(121,"cats"),e.k0s(),e.EFF(122,". La derni\xe8re chose que nous devons faire est d'importer ce module dans le module racine ("),e.j41(123,"code"),e.EFF(124,"AppModule"),e.k0s(),e.EFF(125,", d\xe9fini dans le fichier "),e.j41(126,"code"),e.EFF(127,"app.module.ts"),e.k0s(),e.EFF(128,")."),e.k0s(),e.j41(129,"app-copy-button",14)(130,"span",15),e.EFF(131),e.nI1(132,"extension"),e.nrm(133,"app-tabs",null,2),e.k0s(),e.j41(135,"pre")(136,"code",16),e.EFF(137,"\nimport { Module } from '@nestjs/common';\nimport { CatsModule } from './cats/cats.module';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class AppModule {}\n"),e.k0s()()(),e.j41(138,"p"),e.EFF(139,"Voici \xe0 quoi ressemble d\xe9sormais la structure de notre r\xe9pertoire :"),e.k0s(),e.j41(140,"div",18)(141,"div",19),e.EFF(142,"src"),e.k0s(),e.j41(143,"div",20)(144,"div",19),e.EFF(145,"cats"),e.k0s(),e.j41(146,"div",20)(147,"div",19),e.EFF(148,"dto"),e.k0s(),e.j41(149,"div",20)(150,"div",19),e.EFF(151,"create-cat.dto.ts"),e.k0s()(),e.j41(152,"div",19),e.EFF(153,"interfaces"),e.k0s(),e.j41(154,"div",20)(155,"div",19),e.EFF(156,"cat.interface.ts"),e.k0s()(),e.j41(157,"div",19),e.EFF(158,"cats.controller.ts"),e.k0s(),e.j41(159,"div",19),e.EFF(160,"cats.module.ts"),e.k0s(),e.j41(161,"div",19),e.EFF(162,"cats.service.ts"),e.k0s()(),e.j41(163,"div",19),e.EFF(164,"app.module.ts"),e.k0s(),e.j41(165,"div",19),e.EFF(166,"main.ts"),e.k0s()()(),e.j41(167,"h4",21)(168,"span"),e.EFF(169,"Modules partag\xe9s"),e.k0s()(),e.j41(170,"p"),e.EFF(171,"Dans Nest, les modules sont des "),e.j41(172,"strong"),e.EFF(173,"singletons"),e.k0s(),e.EFF(174," par d\xe9faut, et vous pouvez donc partager la m\xeame instance d'un fournisseur entre plusieurs modules sans effort."),e.k0s(),e.j41(175,"figure"),e.nrm(176,"img",22),e.k0s(),e.j41(177,"p"),e.EFF(178,"Chaque module est automatiquement un "),e.j41(179,"strong"),e.EFF(180,"module partag\xe9"),e.k0s(),e.EFF(181,". Une fois cr\xe9\xe9, il peut \xeatre r\xe9utilis\xe9 par n'importe quel module. Imaginons que nous voulions partager une instance de "),e.j41(182,"code"),e.EFF(183,"CatsService"),e.k0s(),e.EFF(184," entre plusieurs autres modules. Pour ce faire, nous devons d'abord "),e.j41(185,"strong"),e.EFF(186,"exporter"),e.k0s(),e.EFF(187," le fournisseur "),e.j41(188,"code"),e.EFF(189,"CatsService"),e.k0s(),e.EFF(190," en l'ajoutant au tableau "),e.j41(191,"code"),e.EFF(192,"exports"),e.k0s(),e.EFF(193," du module, comme montr\xe9 ci-dessous :"),e.k0s(),e.j41(194,"app-copy-button",14)(195,"span",15),e.EFF(196),e.nI1(197,"extension"),e.nrm(198,"app-tabs",null,3),e.k0s(),e.j41(200,"pre")(201,"code",16),e.EFF(202,"\nimport { Module } from '@nestjs/common';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n  exports: [CatsService]\n})\nexport class CatsModule {}\n"),e.k0s()()(),e.j41(203,"p"),e.EFF(204,"Maintenant, tout module qui importe le "),e.j41(205,"code"),e.EFF(206,"CatsModule"),e.k0s(),e.EFF(207," a acc\xe8s au "),e.j41(208,"code"),e.EFF(209,"CatsService"),e.k0s(),e.EFF(210," et partagera la m\xeame instance avec tous les autres modules qui l'importent \xe9galement."),e.k0s(),e.j41(211,"p"),e.EFF(212,"Si nous devions enregistrer directement le "),e.j41(213,"code"),e.EFF(214,"CatsService"),e.k0s(),e.EFF(215," dans chaque module qui en a besoin, cela fonctionnerait en effet, mais chaque module obtiendrait sa propre instance du "),e.j41(216,"code"),e.EFF(217,"CatsService"),e.k0s(),e.EFF(218,". Cela peut conduire \xe0 une augmentation de l'utilisation de la m\xe9moire puisque de multiples instances du m\xeame service sont cr\xe9\xe9es, et cela peut aussi causer un comportement inattendu, comme une incoh\xe9rence d'\xe9tat si le service maintient un \xe9tat interne."),e.k0s(),e.j41(219,"p"),e.EFF(220,"En encapsulant le "),e.j41(221,"code"),e.EFF(222,"CatsService"),e.k0s(),e.EFF(223," dans un module, comme le "),e.j41(224,"code"),e.EFF(225,"CatsModule"),e.k0s(),e.EFF(226,", et en l'exportant, nous nous assurons que la m\xeame instance de "),e.j41(227,"code"),e.EFF(228,"CatsService"),e.k0s(),e.EFF(229," est r\xe9utilis\xe9e dans tous les modules qui importent "),e.j41(230,"code"),e.EFF(231,"CatsModule"),e.k0s(),e.EFF(232,". Cela permet non seulement de r\xe9duire la consommation de m\xe9moire, mais aussi d'obtenir un comportement plus pr\xe9visible, puisque tous les modules partagent la m\xeame instance, ce qui facilite la gestion des \xe9tats ou des ressources partag\xe9s. C'est l'un des principaux avantages de la modularit\xe9 et de l'injection de d\xe9pendances dans des frameworks comme NestJS, qui permettent de partager efficacement les services dans l'ensemble de l'application."),e.k0s(),e.j41(233,"p"),e.nrm(234,"app-banner-devtools"),e.k0s(),e.j41(235,"h4",23)(236,"span"),e.EFF(237,"R\xe9exportation de modules"),e.k0s()(),e.j41(238,"p"),e.EFF(239,"Comme nous l'avons vu plus haut, les modules peuvent exporter leurs fournisseurs internes. De plus, ils peuvent r\xe9exporter les modules qu'ils importent. Dans l'exemple ci-dessous, le "),e.j41(240,"code"),e.EFF(241,"CommonModule"),e.k0s(),e.EFF(242," est \xe0 la fois import\xe9 dans "),e.j41(243,"strong"),e.EFF(244,"et"),e.k0s(),e.EFF(245," export\xe9 depuis le "),e.j41(246,"code"),e.EFF(247,"CoreModule"),e.k0s(),e.EFF(248,", ce qui le rend disponible pour les autres modules qui l'importent."),e.k0s(),e.j41(249,"app-copy-button")(250,"pre")(251,"code",16),e.EFF(252,"\n@Module({\n  imports: [CommonModule],\n  exports: [CommonModule],\n})\nexport class CoreModule {}\n"),e.k0s()()(),e.j41(253,"h4",24)(254,"span"),e.EFF(255,"Injection de d\xe9pendances"),e.k0s()(),e.j41(256,"p"),e.EFF(257,"Une classe de module peut \xe9galement "),e.j41(258,"strong"),e.EFF(259,"injecter"),e.k0s(),e.EFF(260," des fournisseurs (par exemple, \xe0 des fins de configuration) :"),e.k0s(),e.j41(261,"app-copy-button",14)(262,"span",15),e.EFF(263),e.nI1(264,"extension"),e.nrm(265,"app-tabs",null,4),e.k0s(),e.j41(267,"pre")(268,"code",16),e.EFF(269,"\nimport { Module } from '@nestjs/common';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n})\nexport class CatsModule {\n  constructor(private catsService: CatsService) {}\n}\n"),e.k0s()(),e.j41(270,"pre")(271,"code",16),e.EFF(272,"\nimport { Module, Dependencies } from '@nestjs/common';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n})\n@Dependencies(CatsService)\nexport class CatsModule {\n  constructor(catsService) {\n    this.catsService = catsService;\n  }\n}\n"),e.k0s()()(),e.j41(273,"p"),e.EFF(274,"Cependant, les classes de modules elles-m\xeames ne peuvent pas \xeatre inject\xe9es en tant que fournisseurs en raison de la [d\xe9pendance circulaire](/fondamentaux/d\xe9pendance circulaire)."),e.k0s(),e.j41(275,"h4",25)(276,"span"),e.EFF(277,"Modules globaux"),e.k0s()(),e.j41(278,"p"),e.EFF(279,"Si vous devez importer le m\xeame ensemble de modules partout, cela peut devenir fastidieux. Contrairement \xe0 Nest, les "),e.j41(280,"code"),e.EFF(281,"providers"),e.k0s(),e.j41(282,"a",26),e.EFF(283,"Angular"),e.k0s(),e.EFF(284," sont enregistr\xe9s dans la port\xe9e globale. Une fois d\xe9finis, ils sont disponibles partout. Nest, cependant, encapsule les fournisseurs dans la port\xe9e du module. Vous ne pouvez pas utiliser les providers d'un module ailleurs sans importer d'abord le module d'encapsulation."),e.k0s(),e.j41(285,"p"),e.EFF(286,"Lorsque vous voulez fournir un ensemble de fournisseurs qui devraient \xeatre disponibles partout pr\xeats \xe0 l'emploi (par exemple, les helpers, les connexions aux bases de donn\xe9es, etc.), rendez le module "),e.j41(287,"strong"),e.EFF(288,"global"),e.k0s(),e.EFF(289," avec le d\xe9corateur "),e.j41(290,"code"),e.EFF(291,"@Global()"),e.k0s(),e.EFF(292,"."),e.k0s(),e.j41(293,"app-copy-button")(294,"pre")(295,"code",16),e.EFF(296,"\nimport { Module, Global } from '@nestjs/common';\nimport { CatsController } from './cats.controller';\nimport { CatsService } from './cats.service';\n\n@Global()\n@Module({\n  controllers: [CatsController],\n  providers: [CatsService],\n  exports: [CatsService],\n})\nexport class CatsModule {}\n"),e.k0s()()(),e.j41(297,"p"),e.EFF(298,"Le d\xe9corateur "),e.j41(299,"code"),e.EFF(300,"@Global()"),e.k0s(),e.EFF(301," rend le module global. Les modules globaux ne devraient \xeatre enregistr\xe9s "),e.j41(302,"strong"),e.EFF(303,"qu'une seule fois"),e.k0s(),e.EFF(304,", g\xe9n\xe9ralement par le module racine ou le module principal. Dans l'exemple ci-dessus, le fournisseur "),e.j41(305,"code"),e.EFF(306,"CatsService"),e.k0s(),e.EFF(307," sera omnipr\xe9sent, et les modules qui souhaitent injecter le service n'auront pas besoin d'importer le "),e.j41(308,"code"),e.EFF(309,"CatsModule"),e.k0s(),e.EFF(310," dans leur liste d'importations."),e.k0s(),e.j41(311,"blockquote",17)(312,"strong"),e.EFF(313,"Hint"),e.k0s(),e.EFF(314," Rendre tout global n'est pas une bonne d\xe9cision de conception. Les modules globaux sont disponibles pour r\xe9duire la quantit\xe9 d'\xe9l\xe9ments de base n\xe9cessaires. La liste "),e.j41(315,"code"),e.EFF(316,"imports"),e.k0s(),e.EFF(317," est g\xe9n\xe9ralement le moyen pr\xe9f\xe9r\xe9 pour rendre l'API du module disponible aux consommateurs.\n"),e.k0s(),e.j41(318,"h4",27)(319,"span"),e.EFF(320,"Modules dynamiques"),e.k0s()(),e.j41(321,"p"),e.EFF(322,"Le syst\xe8me de modules Nest comprend une fonction puissante appel\xe9e "),e.j41(323,"strong"),e.EFF(324,"modules dynamiques"),e.k0s(),e.EFF(325,". Cette fonction vous permet de cr\xe9er facilement des modules personnalisables qui peuvent enregistrer et configurer les fournisseurs de mani\xe8re dynamique. Les modules dynamiques sont trait\xe9s en d\xe9tail "),e.j41(326,"a",28),e.EFF(327,"ici"),e.k0s(),e.EFF(328,". Dans ce chapitre, nous donnerons un bref aper\xe7u pour compl\xe9ter l'introduction aux modules."),e.k0s(),e.j41(329,"p"),e.EFF(330,"Voici un exemple de d\xe9finition de module dynamique pour un "),e.j41(331,"code"),e.EFF(332,"DatabaseModule"),e.k0s(),e.EFF(333," :"),e.k0s(),e.j41(334,"app-copy-button",14)(335,"span",15),e.nrm(336,"app-tabs",null,5),e.k0s(),e.j41(338,"pre")(339,"code",16),e.EFF(340,"\nimport { Module, DynamicModule } from '@nestjs/common';\nimport { createDatabaseProviders } from './database.providers';\nimport { Connection } from './connection.provider';\n\n@Module({\n  providers: [Connection],\n  exports: [Connection],\n})\nexport class DatabaseModule {\n  static forRoot(entities = [], options?): DynamicModule {\n    const providers = createDatabaseProviders(options, entities);\n    return {\n      module: DatabaseModule,\n      providers: providers,\n      exports: providers,\n    };\n  }\n}\n"),e.k0s()(),e.j41(341,"pre")(342,"code",16),e.EFF(343,"\nimport { Module } from '@nestjs/common';\nimport { createDatabaseProviders } from './database.providers';\nimport { Connection } from './connection.provider';\n\n@Module({\n  providers: [Connection],\n  exports: [Connection],\n})\nexport class DatabaseModule {\n  static forRoot(entities = [], options) {\n    const providers = createDatabaseProviders(options, entities);\n    return {\n      module: DatabaseModule,\n      providers: providers,\n      exports: providers,\n    };\n  }\n}\n"),e.k0s()()(),e.j41(344,"blockquote",17)(345,"strong"),e.EFF(346,"Astuce"),e.k0s(),e.EFF(347," La m\xe9thode "),e.j41(348,"code"),e.EFF(349,"forRoot()"),e.k0s(),e.EFF(350," peut retourner un module dynamique de mani\xe8re synchrone ou asynchrone (c'est-\xe0-dire via une "),e.j41(351,"code"),e.EFF(352,"Promise"),e.k0s(),e.EFF(353,").\n"),e.k0s(),e.j41(354,"p"),e.EFF(355,"Ce module d\xe9finit le fournisseur "),e.j41(356,"code"),e.EFF(357,"Connection"),e.k0s(),e.EFF(358," par d\xe9faut (dans les m\xe9tadonn\xe9es du d\xe9corateur "),e.j41(359,"code"),e.EFF(360,"@Module()"),e.k0s(),e.EFF(361,"), mais en plus - selon les objets "),e.j41(362,"code"),e.EFF(363,"entities"),e.k0s(),e.EFF(364," et "),e.j41(365,"code"),e.EFF(366,"options"),e.k0s(),e.EFF(367," pass\xe9s dans la m\xe9thode "),e.j41(368,"code"),e.EFF(369,"forRoot()"),e.k0s(),e.EFF(370," - expose une collection de fournisseurs, par exemple, les r\xe9pertoires. Notez que les propri\xe9t\xe9s retourn\xe9es par le module dynamique "),e.j41(371,"strong"),e.EFF(372,"\xe9tendent"),e.k0s(),e.EFF(373," (plut\xf4t que de surcharger) les m\xe9tadonn\xe9es du module de base d\xe9finies dans le d\xe9corateur "),e.j41(374,"code"),e.EFF(375,"@Module()"),e.k0s(),e.EFF(376,". C'est ainsi que le fournisseur "),e.j41(377,"code"),e.EFF(378,"Connection"),e.k0s(),e.EFF(379," d\xe9clar\xe9 statiquement "),e.j41(380,"strong"),e.EFF(381,"et"),e.k0s(),e.EFF(382," les fournisseurs de r\xe9f\xe9rentiels g\xe9n\xe9r\xe9s dynamiquement sont export\xe9s du module."),e.k0s(),e.j41(383,"p"),e.EFF(384,"Si vous voulez enregistrer un module dynamique dans le p\xe9rim\xe8tre global, mettez la propri\xe9t\xe9 "),e.j41(385,"code"),e.EFF(386,"global"),e.k0s(),e.EFF(387," \xe0 "),e.j41(388,"code"),e.EFF(389,"true"),e.k0s(),e.EFF(390,"."),e.k0s(),e.j41(391,"app-copy-button")(392,"pre")(393,"code",16),e.EFF(394,"\n{\n  global: true,\n  module: DatabaseModule,\n  providers: providers,\n  exports: providers,\n}\n"),e.k0s()()(),e.j41(395,"blockquote",29)(396,"strong"),e.EFF(397,"Attention"),e.k0s(),e.EFF(398," Comme indiqu\xe9 ci-dessus, le fait de tout globaliser "),e.j41(399,"strong"),e.EFF(400,"n'est pas une bonne d\xe9cision de conception"),e.k0s(),e.EFF(401,".\n"),e.k0s(),e.j41(402,"p"),e.EFF(403,"Le module "),e.j41(404,"code"),e.EFF(405,"DatabaseModule"),e.k0s(),e.EFF(406," peut \xeatre import\xe9 et configur\xe9 de la mani\xe8re suivante :"),e.k0s(),e.j41(407,"app-copy-button")(408,"pre")(409,"code",16),e.EFF(410,"\nimport { Module } from '@nestjs/common';\nimport { DatabaseModule } from './database/database.module';\nimport { User } from './users/entities/user.entity';\n\n@Module({\n  imports: [DatabaseModule.forRoot([User])],\n})\nexport class AppModule {}\n"),e.k0s()()(),e.j41(411,"p"),e.EFF(412,"Si vous souhaitez r\xe9exporter \xe0 votre tour un module dynamique, vous pouvez omettre l'appel \xe0 la m\xe9thode "),e.j41(413,"code"),e.EFF(414,"forRoot()"),e.k0s(),e.EFF(415," dans le tableau des exportations :"),e.k0s(),e.j41(416,"app-copy-button")(417,"pre")(418,"code",16),e.EFF(419,"\nimport { Module } from '@nestjs/common';\nimport { DatabaseModule } from './database/database.module';\nimport { User } from './users/entities/user.entity';\n\n@Module({\n  imports: [DatabaseModule.forRoot([User])],\n  exports: [DatabaseModule],\n})\nexport class AppModule {}\n"),e.k0s()()(),e.j41(420,"p"),e.EFF(421,"Le chapitre "),e.j41(422,"a",28),e.EFF(423,"Modules dynamiques"),e.k0s(),e.EFF(424," couvre ce sujet plus en d\xe9tail et inclut un "),e.j41(425,"a",30),e.EFF(426,"exemple de travail"),e.k0s(),e.EFF(427,"."),e.k0s(),e.j41(428,"blockquote",17)(429,"strong"),e.EFF(430,"Astuce"),e.k0s(),e.EFF(431," Apprenez \xe0 construire des modules dynamiques hautement personnalisables avec l'utilisation de "),e.j41(432,"code"),e.EFF(433,"ConfigurableModuleBuilder"),e.k0s(),e.EFF(434," dans "),e.j41(435,"a",31),e.EFF(436,"ce chapitre"),e.k0s(),e.EFF(437,".\n"),e.k0s()()),2&c){const b=e.sdS(101),A=e.sdS(134),l=e.sdS(199),m=e.sdS(266),p=e.sdS(337);e.R7$(98),e.SpI(" ",e.i5U(99,12,"cats/cats.module",b.isJsActive),"\n"),e.R7$(33),e.SpI(" ",e.i5U(132,15,"app.module",A.isJsActive),"\n"),e.R7$(65),e.SpI(" ",e.i5U(197,18,"cats.module",l.isJsActive),"\n"),e.R7$(67),e.SpI(" ",e.i5U(264,21,"cats.module",m.isJsActive),"\n"),e.R7$(4),e.AVh("hide",m.isJsActive),e.R7$(3),e.AVh("hide",!m.isJsActive),e.R7$(68),e.AVh("hide",p.isJsActive),e.R7$(3),e.AVh("hide",!p.isJsActive)}},dependencies:[mt.Wk,zn.O,Ln.a,hs._,Qn.z,Zn.M],encapsulation:2,changeDetection:0})}return y})(),data:{title:"Modules"}},{path:"middleware",component:(()=>{class y extends Xe.y{static \u0275fac=(()=>{let a;return function(f){return(a||(a=e.xGo(y)))(f||y)}})();static \u0275cmp=e.VBU({type:y,selectors:[["app-middlewares"]],features:[e.Vt3],decls:442,vars:48,consts:[["contentReference",""],["app02e3c311b1e4552012eb3fd91da3ae6f0b159261",""],["appad526605f40e9768431d836f4ea505f10d6dbe7f",""],["app12917576bcb76448aadc3eeeb77c58e3b52c51ab",""],["app26319f1b14107b6be9c5f2aaa4768a3451c4ed1c",""],["appb03430f455665aad4a8b63c9068a80b4240c5ec4",""],["app51e9c2304f8c5fb41a914f42511c232a1e6712ca",""],["app1c21ec29fe20b872163586974023b68251af9345",""],[1,"content"],[1,"github-links"],["href","https://github.com/Lou8is/docs.nestjs.fr/edit/main/content/middlewares.md","aria-label","Proposer des modifications","title","Proposer des modifications"],[1,"fas","fa-edit"],["id","middleware"],["rel","nofollow","target","_blank","href","https://expressjs.com/en/4x/api.html#req"],["rel","nofollow","target","_blank","href","https://expressjs.com/en/4x/api.html#res"],["src","/assets/Middlewares_1.png",1,"illustrative-image"],["rel","nofollow","target","_blank","href","https://expressjs.com/en/guide/using-middleware.html"],[1,"external"],[1,"warning"],["href","/techniques/performance#middleware"],[1,"with-heading"],[1,"filename"],[1,"language-typescript"],["appAnchor","","id","injection-de-d\xe9pendances"],["appAnchor","","id","appliquer-le-middleware"],[1,"info"],["appAnchor","","id","jokers-de-route"],["appAnchor","","id","consommateur-de-middleware"],["rel","nofollow","target","_blank","href","https://en.wikipedia.org/wiki/Fluent_interface"],["href","/middleware#middlewares-multiples"],["appAnchor","","id","exclure-des-routes"],["rel","nofollow","target","_blank","href","https://github.com/pillarjs/path-to-regexp#parameters"],["appAnchor","","id","middleware-fonctionnel"],["appAnchor","","id","middlewares-multiples"],["appAnchor","","id","middleware-global"],["href","middleware#middleware-fonctionnel"]],template:function(c,f){if(1&c&&(e.j41(0,"div",8,0)(2,"div",9)(3,"a",10),e.nrm(4,"i",11),e.k0s()(),e.j41(5,"h3",12),e.EFF(6,"Middleware"),e.k0s(),e.j41(7,"p"),e.EFF(8,"Un middleware est une fonction qui est appel\xe9e "),e.j41(9,"strong"),e.EFF(10,"avant"),e.k0s(),e.EFF(11," le handler de route. Les fonctions interm\xe9diaires ont acc\xe8s aux objets "),e.j41(12,"a",13),e.EFF(13,"request"),e.k0s(),e.EFF(14," et "),e.j41(15,"a",14),e.EFF(16,"response"),e.k0s(),e.EFF(17,", ainsi qu'\xe0 la fonction interm\xe9diaire "),e.j41(18,"code"),e.EFF(19,"next()"),e.k0s(),e.EFF(20," dans le cycle requ\xeate-r\xe9ponse de l'application. La fonction "),e.j41(21,"strong"),e.EFF(22,"next"),e.k0s(),e.EFF(23," de l'intergiciel est g\xe9n\xe9ralement d\xe9sign\xe9e par une variable nomm\xe9e "),e.j41(24,"code"),e.EFF(25,"next"),e.k0s(),e.EFF(26,"."),e.k0s(),e.j41(27,"figure"),e.nrm(28,"img",15),e.k0s(),e.j41(29,"p"),e.EFF(30,"Les middlewares Nest sont, par d\xe9faut, \xe9quivalents aux middlewares "),e.j41(31,"a",16),e.EFF(32,"express"),e.k0s(),e.EFF(33,". La description suivante, tir\xe9e de la documentation officielle d'express, d\xe9crit les capacit\xe9s des middlewares :"),e.k0s(),e.j41(34,"blockquote",17),e.EFF(35," Les fonctions middleware peuvent effectuer les t\xe2ches suivantes : "),e.j41(36,"ul")(37,"li"),e.EFF(38,"ex\xe9cuter n'importe quel code."),e.k0s(),e.j41(39,"li"),e.EFF(40,'apporter des modifications aux objets "requ\xeate" et "r\xe9ponse".'),e.k0s(),e.j41(41,"li"),e.EFF(42,"mettre fin au cycle requ\xeate-r\xe9ponse."),e.k0s(),e.j41(43,"li"),e.EFF(44,"appeler la fonction middleware suivante dans la pile."),e.k0s(),e.j41(45,"li"),e.EFF(46,"si la fonction middleware actuelle ne met pas fin au cycle requ\xeate-r\xe9ponse, elle doit appeler "),e.j41(47,"code"),e.EFF(48,"next()"),e.k0s(),e.EFF(49," pour passer le contr\xf4le \xe0 la fonction middleware suivante. Dans le cas contraire, la requ\xeate sera laiss\xe9e en suspens."),e.k0s()()(),e.j41(50,"p"),e.EFF(51,"Vous impl\xe9mentez un middleware Nest personnalis\xe9 soit dans une fonction, soit dans une classe avec un d\xe9corateur "),e.j41(52,"code"),e.EFF(53,"@Injectable()"),e.k0s(),e.EFF(54,". La classe doit impl\xe9menter l'interface "),e.j41(55,"code"),e.EFF(56,"NestMiddleware"),e.k0s(),e.EFF(57,", tandis que la fonction n'a pas d'exigences particuli\xe8res. Commen\xe7ons par impl\xe9menter un middleware simple en utilisant une classe."),e.k0s(),e.j41(58,"blockquote",18)(59,"strong"),e.EFF(60,"Attention"),e.k0s(),e.j41(61,"code"),e.EFF(62,"Express"),e.k0s(),e.EFF(63," et "),e.j41(64,"code"),e.EFF(65,"fastify"),e.k0s(),e.EFF(66," g\xe8rent les middlewares diff\xe9remment et fournissent des signatures de m\xe9thodes diff\xe9rentes, apprenez-en plus "),e.j41(67,"a",19),e.EFF(68,"ici"),e.k0s(),e.EFF(69,".\n"),e.k0s(),e.j41(70,"app-copy-button",20)(71,"span",21),e.EFF(72),e.nI1(73,"extension"),e.nrm(74,"app-tabs",null,1),e.k0s(),e.j41(76,"pre")(77,"code",22),e.EFF(78,"\nimport { Injectable, NestMiddleware } from '@nestjs/common';\nimport { Request, Response, NextFunction } from 'express';\n\n@Injectable()\nexport class LoggerMiddleware implements NestMiddleware {\n  use(req: Request, res: Response, next: NextFunction) {\n    console.log('Request...');\n    next();\n  }\n}\n"),e.k0s()(),e.j41(79,"pre")(80,"code",22),e.EFF(81,"\nimport { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class LoggerMiddleware {\n  use(req, res, next) {\n    console.log('Request...');\n    next();\n  }\n}\n"),e.k0s()()(),e.j41(82,"h4",23)(83,"span"),e.EFF(84,"Injection de d\xe9pendances"),e.k0s()(),e.j41(85,"p"),e.EFF(86,"Le middleware Nest prend enti\xe8rement en charge l'injection de d\xe9pendances. Tout comme les fournisseurs et les contr\xf4leurs, ils sont capables "),e.j41(87,"strong"),e.EFF(88,"d'injecter des d\xe9pendances"),e.k0s(),e.EFF(89," qui sont disponibles dans le m\xeame module. Comme d'habitude, cela se fait \xe0 travers le "),e.j41(90,"code"),e.EFF(91,"constructeur"),e.k0s(),e.EFF(92,"."),e.k0s(),e.j41(93,"h4",24)(94,"span"),e.EFF(95,"Appliquer le middleware"),e.k0s()(),e.j41(96,"p"),e.EFF(97,"Il n'y a pas de place pour les middlewares dans le d\xe9corateur "),e.j41(98,"code"),e.EFF(99,"@Module()"),e.k0s(),e.EFF(100,". A la place, nous les configurons en utilisant la m\xe9thode "),e.j41(101,"code"),e.EFF(102,"configure()"),e.k0s(),e.EFF(103," de la classe du module. Les modules qui incluent un middleware doivent impl\xe9menter l'interface "),e.j41(104,"code"),e.EFF(105,"NestModule"),e.k0s(),e.EFF(106,". Configurons l'intergiciel "),e.j41(107,"code"),e.EFF(108,"LoggerMiddleware"),e.k0s(),e.EFF(109," au niveau de "),e.j41(110,"code"),e.EFF(111,"AppModule"),e.k0s(),e.EFF(112,"."),e.k0s(),e.j41(113,"app-copy-button",20)(114,"span",21),e.EFF(115),e.nI1(116,"extension"),e.nrm(117,"app-tabs",null,2),e.k0s(),e.j41(119,"pre")(120,"code",22),e.EFF(121,"\nimport { Module, NestModule, MiddlewareConsumer } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middleware/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class AppModule implements NestModule {\n  configure(consumer: MiddlewareConsumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .forRoutes('cats');\n  }\n}\n"),e.k0s()(),e.j41(122,"pre")(123,"code",22),e.EFF(124,"\nimport { Module } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middleware/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class AppModule {\n  configure(consumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .forRoutes('cats');\n  }\n}\n"),e.k0s()()(),e.j41(125,"p"),e.EFF(126,"Dans l'exemple ci-dessus, nous avons configur\xe9 le "),e.j41(127,"code"),e.EFF(128,"LoggerMiddleware"),e.k0s(),e.EFF(129," pour les gestionnaires de routes "),e.j41(130,"code"),e.EFF(131,"/cats"),e.k0s(),e.EFF(132," qui ont \xe9t\xe9 pr\xe9c\xe9demment d\xe9finis dans le "),e.j41(133,"code"),e.EFF(134,"CatsController"),e.k0s(),e.EFF(135,". Nous pouvons \xe9galement restreindre un middleware \xe0 une m\xe9thode de requ\xeate particuli\xe8re en passant un objet contenant la route "),e.j41(136,"code"),e.EFF(137,"path"),e.k0s(),e.EFF(138," et la requ\xeate "),e.j41(139,"code"),e.EFF(140,"method"),e.k0s(),e.EFF(141," \xe0 la m\xe9thode "),e.j41(142,"code"),e.EFF(143,"forRoutes()"),e.k0s(),e.EFF(144," lors de la configuration du middleware. Dans l'exemple ci-dessous, nous avons import\xe9 l'enum "),e.j41(145,"code"),e.EFF(146,"RequestMethod"),e.k0s(),e.EFF(147," pour r\xe9f\xe9rencer le type de m\xe9thode de requ\xeate d\xe9sir\xe9."),e.k0s(),e.j41(148,"app-copy-button",20)(149,"span",21),e.EFF(150),e.nI1(151,"extension"),e.nrm(152,"app-tabs",null,3),e.k0s(),e.j41(154,"pre")(155,"code",22),e.EFF(156,"\nimport { Module, NestModule, RequestMethod, MiddlewareConsumer } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middleware/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class AppModule implements NestModule {\n  configure(consumer: MiddlewareConsumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .forRoutes({ path: 'cats', method: RequestMethod.GET });\n  }\n}\n"),e.k0s()(),e.j41(157,"pre")(158,"code",22),e.EFF(159,"\nimport { Module, RequestMethod } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middleware/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class AppModule {\n  configure(consumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .forRoutes({ path: 'cats', method: RequestMethod.GET });\n  }\n}\n"),e.k0s()()(),e.j41(160,"blockquote",25)(161,"strong"),e.EFF(162,"Astuce"),e.k0s(),e.EFF(163," La m\xe9thode "),e.j41(164,"code"),e.EFF(165,"configure()"),e.k0s(),e.EFF(166," peut \xeatre rendue asynchrone en utilisant "),e.j41(167,"code"),e.EFF(168,"async/await"),e.k0s(),e.EFF(169," (par exemple, vous pouvez "),e.j41(170,"code"),e.EFF(171,"await"),e.k0s(),e.EFF(172," la fin d'une op\xe9ration asynchrone dans le corps de la m\xe9thode "),e.j41(173,"code"),e.EFF(174,"configure()"),e.k0s(),e.EFF(175,").\n"),e.k0s(),e.j41(176,"blockquote",18)(177,"strong"),e.EFF(178,"Attention"),e.k0s(),e.EFF(179," Lorsque vous utilisez l'adaptateur "),e.j41(180,"code"),e.EFF(181,"express"),e.k0s(),e.EFF(182,", l'application NestJS va enregistrer "),e.j41(183,"code"),e.EFF(184,"json"),e.k0s(),e.EFF(185," et "),e.j41(186,"code"),e.EFF(187,"urlencoded"),e.k0s(),e.EFF(188," \xe0 partir du paquet "),e.j41(189,"code"),e.EFF(190,"body-parser"),e.k0s(),e.EFF(191," par d\xe9faut. Cela signifie que si vous voulez personnaliser ce middleware via le "),e.j41(192,"code"),e.EFF(193,"MiddlewareConsumer"),e.k0s(),e.EFF(194,", vous devez d\xe9sactiver le middleware global en mettant le drapeau "),e.j41(195,"code"),e.EFF(196,"bodyParser"),e.k0s(),e.EFF(197," \xe0 "),e.j41(198,"code"),e.EFF(199,"false"),e.k0s(),e.EFF(200," lors de la cr\xe9ation de l'application avec "),e.j41(201,"code"),e.EFF(202,"NestFactory.create()"),e.k0s(),e.EFF(203,".\n"),e.k0s(),e.j41(204,"h4",26)(205,"span"),e.EFF(206,"Jokers de route"),e.k0s()(),e.j41(207,"p"),e.EFF(208,"Les itin\xe9raires bas\xe9s sur des motifs sont \xe9galement pris en charge. Par exemple, l'ast\xe9risque est utilis\xe9 comme "),e.j41(209,"strong"),e.EFF(210,"caract\xe8re g\xe9n\xe9rique"),e.k0s(),e.EFF(211,", et correspondra \xe0 n'importe quelle combinaison de caract\xe8res :"),e.k0s(),e.j41(212,"app-copy-button")(213,"pre")(214,"code",22),e.EFF(215,"\nforRoutes({\n    path: 'ab*cd',\n    method: RequestMethod.ALL,\n});\n"),e.k0s()()(),e.j41(216,"p"),e.EFF(217,"Le chemin d'acc\xe8s "),e.j41(218,"code"),e.EFF(219,"'ab*cd'"),e.k0s(),e.EFF(220," correspondra \xe0 "),e.j41(221,"code"),e.EFF(222,"abcd"),e.k0s(),e.EFF(223,", "),e.j41(224,"code"),e.EFF(225,"ab_cd"),e.k0s(),e.EFF(226,", "),e.j41(227,"code"),e.EFF(228,"abecd"),e.k0s(),e.EFF(229,", et ainsi de suite. Les caract\xe8res "),e.j41(230,"code"),e.EFF(231,"?"),e.k0s(),e.EFF(232,", "),e.j41(233,"code"),e.EFF(234,"+"),e.k0s(),e.EFF(235,", "),e.j41(236,"code"),e.EFF(237,"*"),e.k0s(),e.EFF(238,", et "),e.j41(239,"code"),e.EFF(240,"()"),e.k0s(),e.EFF(241," peuvent \xeatre utilis\xe9s dans un chemin d'acc\xe8s, et sont des sous-ensembles de leurs expressions r\xe9guli\xe8res correspondantes. Le trait d'union ( "),e.j41(242,"code"),e.EFF(243,"-"),e.k0s(),e.EFF(244,") et le point ("),e.j41(245,"code"),e.EFF(246,"."),e.k0s(),e.EFF(247,") sont interpr\xe9t\xe9s litt\xe9ralement par les chemins bas\xe9s sur des cha\xeenes de caract\xe8res."),e.k0s(),e.j41(248,"blockquote",18)(249,"strong"),e.EFF(250,"Attention"),e.k0s(),e.EFF(251," Le paquet "),e.j41(252,"code"),e.EFF(253,"fastify"),e.k0s(),e.EFF(254," utilise la derni\xe8re version du paquet "),e.j41(255,"code"),e.EFF(256,"path-to-regexp"),e.k0s(),e.EFF(257,", qui ne supporte plus les ast\xe9risques "),e.j41(258,"code"),e.EFF(259,"*"),e.k0s(),e.EFF(260,". A la place, vous devez utiliser des param\xe8tres (par exemple, "),e.j41(261,"code"),e.EFF(262,"(.*)"),e.k0s(),e.EFF(263,", "),e.j41(264,"code"),e.EFF(265,":splat*"),e.k0s(),e.EFF(266,").\n"),e.k0s(),e.j41(267,"h4",27)(268,"span"),e.EFF(269,"Consommateur de middleware"),e.k0s()(),e.j41(270,"p"),e.EFF(271,"Le "),e.j41(272,"code"),e.EFF(273,"MiddlewareConsumer"),e.k0s(),e.EFF(274,' est une classe "helper". Elle fournit plusieurs m\xe9thodes int\xe9gr\xe9es pour g\xe9rer les middlewares. Toutes peuvent \xeatre simplement '),e.j41(275,"strong"),e.EFF(276,"cha\xeen\xe9es"),e.k0s(),e.EFF(277," dans le "),e.j41(278,"a",28),e.EFF(279,"style fluide"),e.k0s(),e.EFF(280,". La m\xe9thode "),e.j41(281,"code"),e.EFF(282,"forRoutes()"),e.k0s(),e.EFF(283," peut prendre une seule cha\xeene, plusieurs cha\xeenes, un objet "),e.j41(284,"code"),e.EFF(285,"RouteInfo"),e.k0s(),e.EFF(286,", une classe de contr\xf4leur et m\xeame plusieurs classes de contr\xf4leur. Dans la plupart des cas, vous passerez simplement une liste de "),e.j41(287,"strong"),e.EFF(288,"contr\xf4leurs"),e.k0s(),e.EFF(289," s\xe9par\xe9s par des virgules. Voici un exemple avec un seul contr\xf4leur :"),e.k0s(),e.j41(290,"app-copy-button",20)(291,"span",21),e.EFF(292),e.nI1(293,"extension"),e.nrm(294,"app-tabs",null,4),e.k0s(),e.j41(296,"pre")(297,"code",22),e.EFF(298,"\nimport { Module, NestModule, MiddlewareConsumer } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middleware/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\nimport { CatsController } from './cats/cats.controller';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class AppModule implements NestModule {\n  configure(consumer: MiddlewareConsumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .forRoutes(CatsController);\n  }\n}\n"),e.k0s()(),e.j41(299,"pre")(300,"code",22),e.EFF(301,"\nimport { Module } from '@nestjs/common';\nimport { LoggerMiddleware } from './common/middleware/logger.middleware';\nimport { CatsModule } from './cats/cats.module';\nimport { CatsController } from './cats/cats.controller';\n\n@Module({\n  imports: [CatsModule],\n})\nexport class AppModule {\n  configure(consumer) {\n    consumer\n      .apply(LoggerMiddleware)\n      .forRoutes(CatsController);\n  }\n}\n"),e.k0s()()(),e.j41(302,"blockquote",25)(303,"strong"),e.EFF(304,"Astuce"),e.k0s(),e.EFF(305," La m\xe9thode "),e.j41(306,"code"),e.EFF(307,"apply()"),e.k0s(),e.EFF(308," peut prendre un seul middleware, ou plusieurs arguments pour sp\xe9cifier "),e.j41(309,"a",29),e.EFF(310,"plusieurs middlewares"),e.k0s(),e.EFF(311,".\n"),e.k0s(),e.j41(312,"h4",30)(313,"span"),e.EFF(314,"Exclure des routes"),e.k0s()(),e.j41(315,"p"),e.EFF(316,"Parfois, nous voulons "),e.j41(317,"strong"),e.EFF(318,"exclure"),e.k0s(),e.EFF(319," certaines routes de l'application du middleware. Nous pouvons facilement exclure certaines routes avec la m\xe9thode "),e.j41(320,"code"),e.EFF(321,"exclude()"),e.k0s(),e.EFF(322,". Cette m\xe9thode peut prendre une seule cha\xeene de caract\xe8res, plusieurs cha\xeenes de caract\xe8res, ou un objet "),e.j41(323,"code"),e.EFF(324,"RouteInfo"),e.k0s(),e.EFF(325," identifiant les routes \xe0 exclure, comme montr\xe9 ci-dessous :"),e.k0s(),e.j41(326,"app-copy-button")(327,"pre")(328,"code",22),e.EFF(329,"\nconsumer\n  .apply(LoggerMiddleware)\n  .exclude(\n    { path: 'cats', method: RequestMethod.GET },\n    { path: 'cats', method: RequestMethod.POST },\n    'cats/(.*)',\n  )\n  .forRoutes(CatsController);\n"),e.k0s()()(),e.j41(330,"blockquote",25)(331,"strong"),e.EFF(332,"Astuce"),e.k0s(),e.EFF(333," La m\xe9thode "),e.j41(334,"code"),e.EFF(335,"exclude()"),e.k0s(),e.EFF(336," prend en charge les param\xe8tres joker en utilisant le paquet "),e.j41(337,"a",31),e.EFF(338,"path-to-regexp"),e.k0s(),e.EFF(339,".\n"),e.k0s(),e.j41(340,"p"),e.EFF(341,"Dans l'exemple ci-dessus, "),e.j41(342,"code"),e.EFF(343,"LoggerMiddleware"),e.k0s(),e.EFF(344," sera li\xe9 \xe0 toutes les routes d\xe9finies dans "),e.j41(345,"code"),e.EFF(346,"CatsController"),e.k0s(),e.j41(347,"strong"),e.EFF(348,"except\xe9"),e.k0s(),e.EFF(349," les trois pass\xe9es \xe0 la m\xe9thode "),e.j41(350,"code"),e.EFF(351,"exclude()"),e.k0s(),e.EFF(352,"."),e.k0s(),e.j41(353,"h4",32)(354,"span"),e.EFF(355,"Middleware fonctionnel"),e.k0s()(),e.j41(356,"p"),e.EFF(357,"La classe "),e.j41(358,"code"),e.EFF(359,"LoggerMiddleware"),e.k0s(),e.EFF(360," que nous avons utilis\xe9e est assez simple. Elle n'a pas de membres, pas de m\xe9thodes suppl\xe9mentaires, et pas de d\xe9pendances. Pourquoi ne pas la d\xe9finir dans une simple fonction au lieu d'une classe ? En fait, c'est possible. Ce type de middleware est appel\xe9 ** middleware fonctionnel**. Pour illustrer la diff\xe9rence, transformons le middleware du logger, bas\xe9 sur une classe, en middleware fonctionnel :"),e.k0s(),e.j41(361,"app-copy-button",20)(362,"span",21),e.EFF(363),e.nI1(364,"extension"),e.nrm(365,"app-tabs",null,5),e.k0s(),e.j41(367,"pre")(368,"code",22),e.EFF(369,"\nimport { Request, Response, NextFunction } from 'express';\n\nexport function logger(req: Request, res: Response, next: NextFunction) {\n  console.log(`Request...`);\n  next();\n};\n"),e.k0s()(),e.j41(370,"pre")(371,"code",22),e.EFF(372,"\nexport function logger(req, res, next) {\n  console.log(`Request...`);\n  next();\n};\n"),e.k0s()()(),e.j41(373,"p"),e.EFF(374,"Et utilisons-le dans le "),e.j41(375,"code"),e.EFF(376,"AppModule"),e.k0s(),e.EFF(377," :"),e.k0s(),e.j41(378,"app-copy-button",20)(379,"span",21),e.EFF(380),e.nI1(381,"extension"),e.nrm(382,"app-tabs",null,6),e.k0s(),e.j41(384,"pre")(385,"code",22),e.EFF(386,"\nconsumer\n  .apply(logger)\n  .forRoutes(CatsController);\n"),e.k0s()()(),e.j41(387,"blockquote",25)(388,"strong"),e.EFF(389,"Astuce"),e.k0s(),e.EFF(390," Envisagez d'utiliser l'alternative plus simple du "),e.j41(391,"strong"),e.EFF(392,"middleware fonctionnel"),e.k0s(),e.EFF(393," chaque fois que votre middleware n'a besoin d'aucune d\xe9pendance.\n"),e.k0s(),e.j41(394,"h4",33)(395,"span"),e.EFF(396,"Middlewares multiples"),e.k0s()(),e.j41(397,"p"),e.EFF(398,"Comme mentionn\xe9 ci-dessus, afin de lier plusieurs middleware qui sont ex\xe9cut\xe9s s\xe9quentiellement, il suffit de fournir une liste s\xe9par\xe9e par des virgules dans la m\xe9thode "),e.j41(399,"code"),e.EFF(400,"apply()"),e.k0s(),e.EFF(401," :"),e.k0s(),e.j41(402,"app-copy-button")(403,"pre")(404,"code",22),e.EFF(405,"\nconsumer.apply(cors(), helmet(), logger).forRoutes(CatsController);\n"),e.k0s()()(),e.j41(406,"h4",34)(407,"span"),e.EFF(408,"Middleware global"),e.k0s()(),e.j41(409,"p"),e.EFF(410,"Si nous voulons lier le middleware \xe0 chaque route enregistr\xe9e en une seule fois, nous pouvons utiliser la m\xe9thode "),e.j41(411,"code"),e.EFF(412,"use()"),e.k0s(),e.EFF(413," qui est fournie par l'instance "),e.j41(414,"code"),e.EFF(415,"INestApplication"),e.k0s(),e.EFF(416," :"),e.k0s(),e.j41(417,"app-copy-button",20)(418,"span",21),e.EFF(419),e.nI1(420,"extension"),e.nrm(421,"app-tabs",null,7),e.k0s(),e.j41(423,"pre")(424,"code",22),e.EFF(425,"\nconst app = await NestFactory.create(AppModule);\napp.use(logger);\nawait app.listen(process.env.PORT ?? 3000);\n"),e.k0s()()(),e.j41(426,"blockquote",25)(427,"strong"),e.EFF(428,"Astuce"),e.k0s(),e.EFF(429," L'acc\xe8s au conteneur DI dans un middleware global n'est pas possible. Vous pouvez utiliser un "),e.j41(430,"a",35),e.EFF(431,"middleware fonctionnel"),e.k0s(),e.EFF(432," \xe0 la place en utilisant "),e.j41(433,"code"),e.EFF(434,"app.use()"),e.k0s(),e.EFF(435,". Alternativement, vous pouvez utiliser un middleware de classe et le consommer avec "),e.j41(436,"code"),e.EFF(437,".forRoutes('*')"),e.k0s(),e.EFF(438," dans le "),e.j41(439,"code"),e.EFF(440,"AppModule"),e.k0s(),e.EFF(441," (ou tout autre module).\n"),e.k0s()()),2&c){const b=e.sdS(75),A=e.sdS(118),l=e.sdS(153),m=e.sdS(295),p=e.sdS(366),E=e.sdS(383),_=e.sdS(422);e.R7$(72),e.SpI(" ",e.i5U(73,27,"logger.middleware",b.isJsActive),"\n"),e.R7$(4),e.AVh("hide",b.isJsActive),e.R7$(3),e.AVh("hide",!b.isJsActive),e.R7$(36),e.SpI(" ",e.i5U(116,30,"app.module",A.isJsActive),"\n"),e.R7$(4),e.AVh("hide",A.isJsActive),e.R7$(3),e.AVh("hide",!A.isJsActive),e.R7$(28),e.SpI(" ",e.i5U(151,33,"app.module",l.isJsActive),"\n"),e.R7$(4),e.AVh("hide",l.isJsActive),e.R7$(3),e.AVh("hide",!l.isJsActive),e.R7$(135),e.SpI(" ",e.i5U(293,36,"app.module",m.isJsActive),"\n"),e.R7$(4),e.AVh("hide",m.isJsActive),e.R7$(3),e.AVh("hide",!m.isJsActive),e.R7$(64),e.SpI(" ",e.i5U(364,39,"logger.middleware",p.isJsActive),"\n"),e.R7$(4),e.AVh("hide",p.isJsActive),e.R7$(3),e.AVh("hide",!p.isJsActive),e.R7$(10),e.SpI(" ",e.i5U(381,42,"app.module",E.isJsActive),"\n"),e.R7$(39),e.SpI(" ",e.i5U(420,45,"main",_.isJsActive),"\n")}},dependencies:[zn.O,Ln.a,Qn.z,Zn.M],encapsulation:2})}return y})(),data:{title:"Middleware"}},{path:"pipes",component:(()=>{class y extends Xe.y{static \u0275fac=(()=>{let a;return function(f){return(a||(a=e.xGo(y)))(f||y)}})();static \u0275cmp=e.VBU({type:y,selectors:[["app-pipes"]],features:[e.Vt3],decls:843,vars:68,consts:[["contentReference",""],["appcba890609ffe592703c7e0bd6887662c788e2253",""],["appb56c8ea006002a9d43145de096786bf379a59687",""],["app7837166d5f0110dbf6644050dad80c1631cbfeab",""],["app4cdd5f0d4a79213d3618286094cd89a1da97aa75",""],["appc1ae8cf394295c5c21462cffe9df9ccda86b6a2f",""],["app6e71e2e7c347806baa2dbed518dca60beee8f341",""],["app3a0080d52437d968c7190375b955abf34f7877ed",""],["app4b27fe8761aee071541a048194a911aef7f552b6",""],["appc8d0e923369bc07824d6542e65c85f871905d037",""],["app1b26d9fcf5ee4f4e1da21a66702e324825267d05",""],["appf1d8e495b6ab5a9b6f3c35e8245b861b84826b0a",""],["app857424c9a7008de70a1946cf716c3efcee1bee72",""],["appa4c5a36e65f0c40863b425a5caae8bb94420be88",""],["app1abda2c3d2a5e341aad4cd8b720725fc2f0febe5",""],["app6cb793371654bcc9d2ced8bbb697e50ac2f2643c",""],[1,"content"],[1,"github-links"],["href","https://github.com/Lou8is/docs.nestjs.fr/edit/main/content/pipes.md","aria-label","Proposer des modifications","title","Proposer des modifications"],[1,"fas","fa-edit"],["id","pipes"],["src","/assets/Pipe_1.png",1,"illustrative-image"],["href","controllers#routes-param\xe9tr\xe9es"],[1,"info"],["href","/exception-filters"],["appAnchor","","id","pipes-int\xe9gr\xe9s"],["appAnchor","","id","liaison-de-pipes"],[1,"language-typescript"],[1,"language-bash"],[1,"language-json"],[1,"with-heading"],[1,"filename"],["routerLink","/techniques/validation"],["appAnchor","","id","pipes-personnalis\xe9s"],["routerLink","/custom-decorators"],[1,"warning"],["appAnchor","","id","validation-bas\xe9e-sur-un-sch\xe9ma"],["appAnchor","","id","validation-des-sch\xe9mas-dobjets"],["rel","nofollow","target","_blank","href","https://en.wikipedia.org/wiki/Don%27t_repeat_yourself"],["rel","nofollow","target","_blank","href","https://zod.dev/"],["appAnchor","","id","liaison-des-pipes-de-validation"],["appAnchor","","id","valideur-de-classe"],["rel","nofollow","target","_blank","href","https://github.com/typestack/class-validator"],["rel","nofollow","target","_blank","href","https://github.com/typestack/class-validator#usage"],["rel","nofollow","target","_blank","href","https://github.com/typestack/class-transformer"],["rel","nofollow","target","_blank","href","https://github.com/typestack/class-validator#custom-validation-classes"],["appAnchor","","id","pipes-\xe0-port\xe9e-globale"],["href","faq/hybrid-application"],["routerLink","/fundamentals/custom-providers"],["appAnchor","","id","validationpipe-int\xe9gr\xe9"],["appAnchor","","id","cas-dapplication-de-la-transformation"],["appAnchor","","id","fournir-des-valeurs-par-d\xe9faut"]],template:function(c,f){if(1&c&&(e.j41(0,"div",16,0)(2,"div",17)(3,"a",18),e.nrm(4,"i",19),e.k0s()(),e.j41(5,"h3",20),e.EFF(6,"Pipes"),e.k0s(),e.j41(7,"p"),e.EFF(8,"Un pipe est une classe annot\xe9e avec le d\xe9corateur "),e.j41(9,"code"),e.EFF(10,"@Injectable()"),e.k0s(),e.EFF(11,", qui impl\xe9mente l'interface "),e.j41(12,"code"),e.EFF(13,"PipeTransform"),e.k0s(),e.EFF(14,"."),e.k0s(),e.j41(15,"figure"),e.nrm(16,"img",21),e.k0s(),e.j41(17,"p"),e.EFF(18,"Les pipes ont deux cas d'utilisation typiques :"),e.k0s(),e.j41(19,"ul")(20,"li")(21,"strong"),e.EFF(22,"transformation"),e.k0s(),e.EFF(23,": transformer les donn\xe9es d'entr\xe9e dans la forme souhait\xe9e (par exemple, d'une cha\xeene de caract\xe8res \xe0 un nombre entier)"),e.k0s(),e.j41(24,"li")(25,"strong"),e.EFF(26,"validation"),e.k0s(),e.EFF(27,": \xe9value les donn\xe9es d'entr\xe9e et, si elles sont valides, les transmet sans modification ; dans le cas contraire, lance une exception"),e.k0s()(),e.j41(28,"p"),e.EFF(29,"Dans les deux cas, les pipes op\xe8rent sur les "),e.j41(30,"code"),e.EFF(31,"arguments"),e.k0s(),e.EFF(32," trait\xe9s par un "),e.j41(33,"a",22),e.EFF(34,"contr\xf4leur gestionnaire de route"),e.k0s(),e.EFF(35,". Nest interpose un pipe juste avant l'invocation d'une m\xe9thode, et le pipe re\xe7oit les arguments destin\xe9s \xe0 la m\xe9thode et op\xe8re sur eux. Toute op\xe9ration de transformation ou de validation a lieu \xe0 ce moment-l\xe0, apr\xe8s quoi le gestionnaire de route est invoqu\xe9 avec tous les arguments (potentiellement) transform\xe9s."),e.k0s(),e.j41(36,"p"),e.EFF(37,"Nest est livr\xe9 avec un certain nombre de pipes int\xe9gr\xe9s que vous pouvez utiliser imm\xe9diatement. Vous pouvez \xe9galement cr\xe9er vos propres pipes. Dans ce chapitre, nous allons pr\xe9senter les pipes int\xe9gr\xe9s et montrer comment les lier \xe0 des gestionnaires de routes. Nous examinerons ensuite plusieurs pipes personnalis\xe9s afin de montrer comment vous pouvez en cr\xe9er un \xe0 partir de z\xe9ro."),e.k0s(),e.j41(38,"blockquote",23)(39,"strong"),e.EFF(40,"Astuce"),e.k0s(),e.EFF(41," Les pipes fonctionnent \xe0 l'int\xe9rieur de la zone d'exceptions. Cela signifie que lorsqu'un pipe l\xe8ve une exception, celle-ci est trait\xe9e par la couche d'exceptions (filtre d'exceptions global et tous les "),e.j41(42,"a",24),e.EFF(43,"filtres d'exceptions"),e.k0s(),e.EFF(44," appliqu\xe9s au contexte actuel). Compte tenu de ce qui pr\xe9c\xe8de, il devrait \xeatre clair que lorsqu'une exception est lev\xe9e dans un pipe, aucune m\xe9thode de contr\xf4leur n'est ex\xe9cut\xe9e par la suite. Vous disposez ainsi d'une technique de meilleure pratique pour valider les donn\xe9es provenant de sources externes qui entrent dans l'application \xe0 la fronti\xe8re du syst\xe8me.\n"),e.k0s(),e.j41(45,"h4",25)(46,"span"),e.EFF(47,"Pipes int\xe9gr\xe9s"),e.k0s()(),e.j41(48,"p"),e.EFF(49,"Nest est livr\xe9 avec neuf pipes pr\xeates \xe0 l'emploi :"),e.k0s(),e.j41(50,"ul")(51,"li")(52,"code"),e.EFF(53,"ValidationPipe"),e.k0s()(),e.j41(54,"li")(55,"code"),e.EFF(56,"ParseIntPipe"),e.k0s()(),e.j41(57,"li")(58,"code"),e.EFF(59,"ParseFloatPipe"),e.k0s()(),e.j41(60,"li")(61,"code"),e.EFF(62,"ParseBoolPipe"),e.k0s()(),e.j41(63,"li")(64,"code"),e.EFF(65,"ParseArrayPipe"),e.k0s()(),e.j41(66,"li")(67,"code"),e.EFF(68,"ParseUUIDPipe"),e.k0s()(),e.j41(69,"li")(70,"code"),e.EFF(71,"ParseEnumPipe"),e.k0s()(),e.j41(72,"li")(73,"code"),e.EFF(74,"DefaultValuePipe"),e.k0s()(),e.j41(75,"li")(76,"code"),e.EFF(77,"ParseFilePipe"),e.k0s()()(),e.j41(78,"p"),e.EFF(79,"Ils sont export\xe9s depuis le package "),e.j41(80,"code"),e.EFF(81,"@nestjs/common"),e.k0s(),e.EFF(82,"."),e.k0s(),e.j41(83,"p"),e.EFF(84,"Jetons un coup d'oeil rapide \xe0 l'utilisation de "),e.j41(85,"code"),e.EFF(86,"ParseIntPipe"),e.k0s(),e.EFF(87,". C'est un exemple du cas d'utilisation "),e.j41(88,"strong"),e.EFF(89,"transformation"),e.k0s(),e.EFF(90,", o\xf9 le pipe s'assure que le param\xe8tre d'une m\xe9thode est converti en un entier JavaScript (ou l\xe8ve une exception si la conversion \xe9choue). Plus loin dans ce chapitre, nous montrerons une impl\xe9mentation personnalis\xe9e simple pour un "),e.j41(91,"code"),e.EFF(92,"ParseIntPipe"),e.k0s(),e.EFF(93,". Les techniques d'exemple ci-dessous s'appliquent \xe9galement aux autres pipes de transformation int\xe9gr\xe9s ("),e.j41(94,"code"),e.EFF(95,"ParseBoolPipe"),e.k0s(),e.EFF(96,", "),e.j41(97,"code"),e.EFF(98,"ParseFloatPipe"),e.k0s(),e.EFF(99,", "),e.j41(100,"code"),e.EFF(101,"ParseEnumPipe"),e.k0s(),e.EFF(102,", "),e.j41(103,"code"),e.EFF(104,"ParseArrayPipe"),e.k0s(),e.EFF(105," et "),e.j41(106,"code"),e.EFF(107,"ParseUUIDPipe"),e.k0s(),e.EFF(108,", auxquels nous nous r\xe9f\xe9rerons comme les pipes "),e.j41(109,"code"),e.EFF(110,"Parse*"),e.k0s(),e.EFF(111," dans ce chapitre)."),e.k0s(),e.j41(112,"h4",26)(113,"span"),e.EFF(114,"Liaison de pipes"),e.k0s()(),e.j41(115,"p"),e.EFF(116,"Pour utiliser un pipe, nous devons lier une instance de la classe pipe au contexte appropri\xe9. Dans notre exemple "),e.j41(117,"code"),e.EFF(118,"ParseIntPipe"),e.k0s(),e.EFF(119,", nous voulons associer le pipe \xe0 une m\xe9thode particuli\xe8re de traitement de route, et nous assurer qu'il s'ex\xe9cute avant que la m\xe9thode ne soit appel\xe9e. Nous le faisons avec la construction suivante, que nous appellerons \"lier le pipe\" au niveau des param\xe8tres de la m\xe9thode :"),e.k0s(),e.j41(120,"app-copy-button")(121,"pre")(122,"code",27),e.EFF(123,"\n@Get(':id')\nasync findOne(@Param('id', ParseIntPipe) id: number) {\n  return this.catsService.findOne(id);\n}\n"),e.k0s()()(),e.j41(124,"p"),e.EFF(125,"Cela garantit que l'une des deux conditions suivantes est vraie : soit le param\xe8tre que nous recevons dans la m\xe9thode "),e.j41(126,"code"),e.EFF(127,"findOne()"),e.k0s(),e.EFF(128," est un nombre (comme pr\xe9vu dans notre appel \xe0 "),e.j41(129,"code"),e.EFF(130,"this.catsService.findOne()"),e.k0s(),e.EFF(131,"), soit une exception est lev\xe9e avant que le gestionnaire de route ne soit appel\xe9."),e.k0s(),e.j41(132,"p"),e.EFF(133,"Par exemple, supposons que la route s'appelle comme suit :"),e.k0s(),e.j41(134,"pre")(135,"code",28),e.EFF(136,"\nGET localhost:3000/abc\n"),e.k0s()(),e.j41(137,"p"),e.EFF(138,"Nest va lever une exception comme celle-ci :"),e.k0s(),e.j41(139,"pre")(140,"code",29),e.EFF(141,'\n{\n  "statusCode": 400,\n  "message": "Validation failed (numeric string is expected)",\n  "error": "Bad Request"\n}\n'),e.k0s()(),e.j41(142,"p"),e.EFF(143,"L'exception emp\xeachera l'ex\xe9cution du corps de la m\xe9thode "),e.j41(144,"code"),e.EFF(145,"findOne()"),e.k0s(),e.EFF(146,"."),e.k0s(),e.j41(147,"p"),e.EFF(148,"Dans l'exemple ci-dessus, nous passons une classe ("),e.j41(149,"code"),e.EFF(150,"ParseIntPipe"),e.k0s(),e.EFF(151,"), et non une instance, laissant la responsabilit\xe9 de l'instanciation au framework et permettant l'injection de d\xe9pendance. Comme pour les pipes et les guards, nous pouvons \xe0 la place passer une instance. Passer une instance est utile si nous voulons personnaliser le comportement du pipe int\xe9gr\xe9 en lui passant des options :"),e.k0s(),e.j41(152,"app-copy-button")(153,"pre")(154,"code",27),e.EFF(155,"\n@Get(':id')\nasync findOne(\n  @Param('id', new ParseIntPipe({ errorHttpStatusCode: HttpStatus.NOT_ACCEPTABLE }))\n  id: number,\n) {\n  return this.catsService.findOne(id);\n}\n"),e.k0s()()(),e.j41(156,"p"),e.EFF(157,"La liaison des autres pipes de transformation (tous les pipes "),e.j41(158,"strong"),e.EFF(159,"Parse*"),e.k0s(),e.EFF(160,") fonctionne de mani\xe8re similaire. Ces pipes fonctionnent tous dans le contexte de la validation des param\xe8tres de la route, des param\xe8tres de la cha\xeene de requ\xeate et des valeurs du corps de la requ\xeate."),e.k0s(),e.j41(161,"p"),e.EFF(162,"Par exemple, avec un param\xe8tre de cha\xeene de requ\xeate :"),e.k0s(),e.j41(163,"app-copy-button")(164,"pre")(165,"code",27),e.EFF(166,"\n@Get()\nasync findOne(@Query('id', ParseIntPipe) id: number) {\n  return this.catsService.findOne(id);\n}\n"),e.k0s()()(),e.j41(167,"p"),e.EFF(168,"Voici un exemple d'utilisation de "),e.j41(169,"code"),e.EFF(170,"ParseUUIDPipe"),e.k0s(),e.EFF(171," pour analyser un param\xe8tre de type cha\xeene et valider s'il s'agit d'un UUID."),e.k0s(),e.j41(172,"app-copy-button",30)(173,"span",31),e.nrm(174,"app-tabs",null,1),e.k0s(),e.j41(176,"pre")(177,"code",27),e.EFF(178,"\n@Get(':uuid')\nasync findOne(@Param('uuid', new ParseUUIDPipe()) uuid: string) {\n  return this.catsService.findOne(uuid);\n}\n"),e.k0s()(),e.j41(179,"pre")(180,"code",27),e.EFF(181,"\n@Get(':uuid')\n@Bind(Param('uuid', new ParseUUIDPipe()))\nasync findOne(uuid) {\n  return this.catsService.findOne(uuid);\n}\n"),e.k0s()()(),e.j41(182,"blockquote",23)(183,"strong"),e.EFF(184,"Astuce"),e.k0s(),e.EFF(185," Lorsque vous utilisez "),e.j41(186,"code"),e.EFF(187,"ParseUIDPipe()"),e.k0s(),e.EFF(188," vous analysez les UUID en version 3, 4 ou 5, si vous n'avez besoin que d'une version sp\xe9cifique de l'UUID vous pouvez passer une version dans les options du pipe.\n"),e.k0s(),e.j41(189,"p"),e.EFF(190,"Ci-dessus, nous avons vu des exemples de liaison des diff\xe9rents pipes int\xe9gr\xe9s de la famille "),e.j41(191,"code"),e.EFF(192,"Parse*"),e.k0s(),e.EFF(193,". Lier les pipes de validation est un peu diff\xe9rent ; nous en discuterons dans la section suivante."),e.k0s(),e.j41(194,"blockquote",23)(195,"strong"),e.EFF(196,"Astuce"),e.k0s(),e.EFF(197," Voir \xe9galement "),e.j41(198,"a",32),e.EFF(199,"Techniques de validation"),e.k0s(),e.EFF(200," pour des exemples d\xe9taill\xe9s de pipes de validation.\n"),e.k0s(),e.j41(201,"h4",33)(202,"span"),e.EFF(203,"Pipes personnalis\xe9s"),e.k0s()(),e.j41(204,"p"),e.EFF(205,"Comme nous l'avons mentionn\xe9, vous pouvez construire vos propres pipes. Bien que Nest fournisse un "),e.j41(206,"code"),e.EFF(207,"ParseIntPipe"),e.k0s(),e.EFF(208," et un "),e.j41(209,"code"),e.EFF(210,"ValidationPipe"),e.k0s(),e.EFF(211," int\xe9gr\xe9s et robustes, construisons des versions personnalis\xe9es simples de chacun d'entre eux \xe0 partir de z\xe9ro pour voir comment les pipes personnalis\xe9s sont construits."),e.k0s(),e.j41(212,"p"),e.EFF(213,"Nous commen\xe7ons avec un simple "),e.j41(214,"code"),e.EFF(215,"ValidationPipe"),e.k0s(),e.EFF(216,". Initialement, nous lui ferons simplement prendre une valeur en entr\xe9e et retourner imm\xe9diatement la m\xeame valeur, se comportant comme une fonction d'identit\xe9."),e.k0s(),e.j41(217,"app-copy-button",30)(218,"span",31),e.EFF(219),e.nI1(220,"extension"),e.nrm(221,"app-tabs",null,2),e.k0s(),e.j41(223,"pre")(224,"code",27),e.EFF(225,"\nimport { PipeTransform, Injectable, ArgumentMetadata } from '@nestjs/common';\n\n@Injectable()\nexport class ValidationPipe implements PipeTransform {\n  transform(value: any, metadata: ArgumentMetadata) {\n    return value;\n  }\n}\n"),e.k0s()(),e.j41(226,"pre")(227,"code",27),e.EFF(228,"\nimport { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class ValidationPipe {\n  transform(value, metadata) {\n    return value;\n  }\n}\n"),e.k0s()()(),e.j41(229,"blockquote",23)(230,"strong"),e.EFF(231,"Astuce"),e.k0s(),e.j41(232,"code"),e.EFF(233,"PipeTransform<T, R>"),e.k0s(),e.EFF(234," est une interface g\xe9n\xe9rique qui doit \xeatre impl\xe9ment\xe9e par tout pipe. L'interface g\xe9n\xe9rique utilise "),e.j41(235,"code"),e.EFF(236,"T"),e.k0s(),e.EFF(237," pour indiquer le type de la "),e.j41(238,"code"),e.EFF(239,"valeur"),e.k0s(),e.EFF(240," en entr\xe9e, et "),e.j41(241,"code"),e.EFF(242,"R"),e.k0s(),e.EFF(243," pour indiquer le type de retour de la m\xe9thode "),e.j41(244,"code"),e.EFF(245,"transform()"),e.k0s(),e.EFF(246,".\n"),e.k0s(),e.j41(247,"p"),e.EFF(248,"Chaque pipe doit impl\xe9menter la m\xe9thode "),e.j41(249,"code"),e.EFF(250,"transform()"),e.k0s(),e.EFF(251," pour remplir le contrat de l'interface "),e.j41(252,"code"),e.EFF(253,"PipeTransform"),e.k0s(),e.EFF(254,". Cette m\xe9thode a deux param\xe8tres :"),e.k0s(),e.j41(255,"ul")(256,"li")(257,"code"),e.EFF(258,"value"),e.k0s()(),e.j41(259,"li")(260,"code"),e.EFF(261,"metadata"),e.k0s()()(),e.j41(262,"p"),e.EFF(263,"Le param\xe8tre "),e.j41(264,"code"),e.EFF(265,"value"),e.k0s(),e.EFF(266," est l'argument de la m\xe9thode en cours de traitement (avant qu'il ne soit re\xe7u par la m\xe9thode de gestion de la route), et "),e.j41(267,"code"),e.EFF(268,"metadata"),e.k0s(),e.EFF(269," est la m\xe9tadonn\xe9e de l'argument de la m\xe9thode en cours de traitement. L'objet metadata poss\xe8de les propri\xe9t\xe9s suivantes :"),e.k0s(),e.j41(270,"app-copy-button")(271,"pre")(272,"code",27),e.EFF(273,"\nexport interface ArgumentMetadata {\n  type: 'body' | 'query' | 'param' | 'custom';\n  metatype?: Type<unknown>;\n  data?: string;\n}\n"),e.k0s()()(),e.j41(274,"p"),e.EFF(275,"Ces propri\xe9t\xe9s d\xe9crivent l'argument en cours de traitement."),e.k0s(),e.j41(276,"table")(277,"tr")(278,"td")(279,"code"),e.EFF(280,"type"),e.k0s()(),e.j41(281,"td"),e.EFF(282,"Indique si l'argument est un corps "),e.j41(283,"code"),e.EFF(284,"@Body()"),e.k0s(),e.EFF(285,", requ\xeate "),e.j41(286,"code"),e.EFF(287,"@Query()"),e.k0s(),e.EFF(288,", param\xe8tre "),e.j41(289,"code"),e.EFF(290,"@Param()"),e.k0s(),e.EFF(291,", ou un param\xe8tre personnalis\xe9 (en savoir plus) "),e.j41(292,"a",34),e.EFF(293,"ici"),e.k0s(),e.EFF(294,")."),e.k0s()(),e.j41(295,"tr")(296,"td")(297,"code"),e.EFF(298,"metatype"),e.k0s()(),e.j41(299,"td"),e.EFF(300," Fournit le m\xe9tatype de l'argument, par exemple, "),e.j41(301,"code"),e.EFF(302,"String"),e.k0s(),e.EFF(303,". Note : la valeur est "),e.j41(304,"code"),e.EFF(305,"undefined"),e.k0s(),e.EFF(306," si vous omettez une d\xe9claration de type dans la signature de la m\xe9thode du gestionnaire de route, ou si vous utilisez du JavaScript pur. "),e.k0s()(),e.j41(307,"tr")(308,"td")(309,"code"),e.EFF(310,"data"),e.k0s()(),e.j41(311,"td"),e.EFF(312,"La cha\xeene transmise au d\xe9corateur, par exemple "),e.j41(313,"code"),e.EFF(314,"@Body('string')"),e.k0s(),e.EFF(315,". La valeur est "),e.j41(316,"code"),e.EFF(317,"undefined"),e.k0s(),e.EFF(318," si vous laissez la parenth\xe8se du d\xe9corateur vide."),e.k0s()()(),e.j41(319,"blockquote",35)(320,"strong"),e.EFF(321,"Attention"),e.k0s(),e.EFF(322," Les interfaces TypeScript disparaissent lors de la transpilation. Ainsi, si le type d'un param\xe8tre de m\xe9thode est d\xe9clar\xe9 comme une interface au lieu d'une classe, la valeur "),e.j41(323,"code"),e.EFF(324,"metatype"),e.k0s(),e.EFF(325," sera "),e.j41(326,"code"),e.EFF(327,"Object"),e.k0s(),e.EFF(328,".\n"),e.k0s(),e.j41(329,"h4",36)(330,"span"),e.EFF(331,"Validation bas\xe9e sur un sch\xe9ma"),e.k0s()(),e.j41(332,"p"),e.EFF(333,"Rendons notre pipe de validation un peu plus utile. Regardons de plus pr\xe8s la m\xe9thode "),e.j41(334,"code"),e.EFF(335,"create()"),e.k0s(),e.EFF(336," du "),e.j41(337,"code"),e.EFF(338,"CatsController"),e.k0s(),e.EFF(339,", o\xf9 nous voudrions probablement nous assurer que l'objet post body est valide avant d'essayer d'ex\xe9cuter notre m\xe9thode de service."),e.k0s(),e.j41(340,"app-copy-button",30)(341,"span",31),e.nrm(342,"app-tabs",null,3),e.k0s(),e.j41(344,"pre")(345,"code",27),e.EFF(346,"\n@Post()\nasync create(@Body() createCatDto: CreateCatDto) {\n  this.catsService.create(createCatDto);\n}\n"),e.k0s()(),e.j41(347,"pre")(348,"code",27),e.EFF(349,"\n@Post()\nasync create(@Body() createCatDto) {\n  this.catsService.create(createCatDto);\n}\n"),e.k0s()()(),e.j41(350,"p"),e.EFF(351,"Concentrons-nous sur le param\xe8tre "),e.j41(352,"code"),e.EFF(353,"createCatDto"),e.k0s(),e.EFF(354," du corps. Son type est "),e.j41(355,"code"),e.EFF(356,"CreateCatDto"),e.k0s(),e.EFF(357," :"),e.k0s(),e.j41(358,"app-copy-button",30)(359,"span",31),e.EFF(360),e.nI1(361,"extension"),e.nrm(362,"app-tabs",null,4),e.k0s(),e.j41(364,"pre")(365,"code",27),e.EFF(366,"\nexport class CreateCatDto {\n  name: string;\n  age: number;\n  breed: string;\n}\n"),e.k0s()()(),e.j41(367,"p"),e.EFF(368,"Nous voulons nous assurer que toute requ\xeate entrante vers la m\xe9thode create contient un corps valide. Nous devons donc valider les trois membres de l'objet "),e.j41(369,"code"),e.EFF(370,"createCatDto"),e.k0s(),e.EFF(371,". Nous pourrions le faire \xe0 l'int\xe9rieur de la m\xe9thode de gestion de la route, mais ce n'est pas l'id\xe9al car cela enfreindrait le "),e.j41(372,"strong"),e.EFF(373,"principe de la responsabilit\xe9 unique"),e.k0s(),e.EFF(374," (SRP)."),e.k0s(),e.j41(375,"p"),e.EFF(376,"Une autre approche pourrait consister \xe0 cr\xe9er une "),e.j41(377,"strong"),e.EFF(378,"classe de validateur"),e.k0s(),e.EFF(379," et \xe0 y d\xe9l\xe9guer la t\xe2che. Cela pr\xe9sente l'inconv\xe9nient de devoir se souvenir d'appeler ce validateur au d\xe9but de chaque m\xe9thode."),e.k0s(),e.j41(380,"p"),e.EFF(381,"Pourquoi ne pas cr\xe9er un middleware de validation ? Cela pourrait fonctionner, mais il n'est malheureusement pas possible de cr\xe9er un ** middleware g\xe9n\xe9rique** qui puisse \xeatre utilis\xe9 dans tous les contextes de l'ensemble de l'application. En effet, le middleware ne conna\xeet pas le "),e.j41(382,"strong"),e.EFF(383,"contexte d'ex\xe9cution"),e.k0s(),e.EFF(384,", y compris le handler qui sera appel\xe9 et ses param\xe8tres."),e.k0s(),e.j41(385,"p"),e.EFF(386,"Bien entendu, c'est exactement le cas d'utilisation pour lequel les pipes sont con\xe7us. Continuons donc \xe0 affiner notre pipe de validation."),e.k0s(),e.j41(387,"p"),e.nrm(388,"app-banner-courses"),e.k0s(),e.j41(389,"h4",37)(390,"span"),e.EFF(391,"Validation des sch\xe9mas d'objets"),e.k0s()(),e.j41(392,"p"),e.EFF(393,"Il existe plusieurs approches pour effectuer la validation des objets d'une mani\xe8re propre et "),e.j41(394,"a",38),e.EFF(395,"DRY"),e.k0s(),e.EFF(396,". Une approche courante consiste \xe0 utiliser une validation bas\xe9e sur le "),e.j41(397,"strong"),e.EFF(398,"sch\xe9ma"),e.k0s(),e.EFF(399,". Essayons cette approche."),e.k0s(),e.j41(400,"p"),e.EFF(401,"La biblioth\xe8que "),e.j41(402,"a",39),e.EFF(403,"Zod"),e.k0s(),e.EFF(404," vous permet de cr\xe9er des sch\xe9mas de mani\xe8re simple, avec une API lisible. Construisons un pipe de validation qui utilise les sch\xe9mas bas\xe9s sur Zod."),e.k0s(),e.j41(405,"p"),e.EFF(406,"Commencez par installer le package requis :"),e.k0s(),e.j41(407,"pre")(408,"code",28),e.EFF(409,"\n$ npm install --save zod\n"),e.k0s()(),e.j41(410,"p"),e.EFF(411,"Dans l'exemple de code ci-dessous, nous cr\xe9ons une classe simple qui prend un sch\xe9ma comme argument du constructeur. Nous appliquons ensuite la m\xe9thode "),e.j41(412,"code"),e.EFF(413,"schema.parse()"),e.k0s(),e.EFF(414,", qui valide notre argument entrant par rapport au sch\xe9ma fourni."),e.k0s(),e.j41(415,"p"),e.EFF(416,"Comme indiqu\xe9 pr\xe9c\xe9demment, un "),e.j41(417,"strong"),e.EFF(418,"pipe de validation"),e.k0s(),e.EFF(419," renvoie la valeur inchang\xe9e ou l\xe8ve une exception."),e.k0s(),e.j41(420,"p"),e.EFF(421,"Dans la section suivante, vous verrez comment nous fournissons le sch\xe9ma appropri\xe9 pour une m\xe9thode de contr\xf4leur donn\xe9e en utilisant le d\xe9corateur "),e.j41(422,"code"),e.EFF(423,"@UsePipes()"),e.k0s(),e.EFF(424,". Ce faisant, nous rendons notre pipe de validation r\xe9utilisable dans tous les contextes, comme nous l'avions pr\xe9vu."),e.k0s(),e.j41(425,"app-copy-button",30)(426,"span",31),e.nrm(427,"app-tabs",null,5),e.k0s(),e.j41(429,"pre")(430,"code",27),e.EFF(431,"\nimport { PipeTransform, ArgumentMetadata, BadRequestException } from '@nestjs/common';\nimport { ZodObject } from 'zod';\n\nexport class ZodValidationPipe implements PipeTransform {\n  constructor(private schema: ZodSchema) {}\n\n  transform(value: unknown, metadata: ArgumentMetadata) {\n    try {\n      const parsedValue = this.schema.parse(value);\n      return parsedValue;\n    } catch (error) {\n      throw new BadRequestException('Validation failed');\n    }\n  }\n}\n"),e.k0s()(),e.j41(432,"pre")(433,"code",27),e.EFF(434,"\nimport { BadRequestException } from '@nestjs/common';\n\nexport class ZodValidationPipe {\n  constructor(private schema) {}\n\n  transform(value, metadata) {\n    try {\n      const parsedValue = this.schema.parse(value);\n      return parsedValue;\n    } catch (error) {\n      throw new BadRequestException('Validation failed');\n    }\n  }\n}\n"),e.k0s()()(),e.j41(435,"h4",40)(436,"span"),e.EFF(437,"Liaison des pipes de validation"),e.k0s()(),e.j41(438,"p"),e.EFF(439,"Plus t\xf4t, nous avons vu comment lier des pipes de transformation (comme "),e.j41(440,"code"),e.EFF(441,"ParseIntPipe"),e.k0s(),e.EFF(442," et le reste des pipes "),e.j41(443,"code"),e.EFF(444,"Parse*"),e.k0s(),e.EFF(445,")."),e.k0s(),e.j41(446,"p"),e.EFF(447,"La liaison des pipes de validation est \xe9galement tr\xe8s simple."),e.k0s(),e.j41(448,"p"),e.EFF(449,"Dans ce cas, nous voulons lier le pipe au niveau de l'appel de la m\xe9thode. Dans notre exemple actuel, nous devons faire ce qui suit pour utiliser le "),e.j41(450,"code"),e.EFF(451,"ZodValidationPipe"),e.k0s(),e.EFF(452," :"),e.k0s(),e.j41(453,"ol")(454,"li"),e.EFF(455,"Cr\xe9er une instance de "),e.j41(456,"code"),e.EFF(457,"ZodValidationPipe"),e.k0s()(),e.j41(458,"li"),e.EFF(459,"Passer le sch\xe9ma Zod sp\xe9cifique au contexte dans le constructeur de classe du pipe."),e.k0s(),e.j41(460,"li"),e.EFF(461,"Lier le pipe \xe0 la m\xe9thode"),e.k0s()(),e.j41(462,"p"),e.EFF(463,"Exemple de sch\xe9ma de Zod :"),e.k0s(),e.j41(464,"app-copy-button")(465,"pre")(466,"code",27),e.EFF(467,"\nimport { z } from 'zod';\n\nexport const createCatSchema = z\n  .object({\n    name: z.string(),\n    age: z.number(),\n    breed: z.string(),\n  })\n  .required();\n\nexport type CreateCatDto = z.infer<typeof createCatSchema>;\n"),e.k0s()()(),e.j41(468,"p"),e.EFF(469,"Nous le faisons en utilisant le d\xe9corateur "),e.j41(470,"code"),e.EFF(471,"@UsePipes()"),e.k0s(),e.EFF(472," comme indiqu\xe9 ci-dessous :"),e.k0s(),e.j41(473,"app-copy-button",30)(474,"span",31),e.EFF(475),e.nI1(476,"extension"),e.nrm(477,"app-tabs",null,6),e.k0s(),e.j41(479,"pre")(480,"code",27),e.EFF(481,"\n@Post()\n@UsePipes(new ZodValidationPipe(createCatSchema))\nasync create(@Body() createCatDto: CreateCatDto) {\n  this.catsService.create(createCatDto);\n}\n"),e.k0s()(),e.j41(482,"pre")(483,"code",27),e.EFF(484,"\n@Post()\n@Bind(Body())\n@UsePipes(new ZodValidationPipe(createCatSchema))\nasync create(createCatDto) {\n  this.catsService.create(createCatDto);\n}\n"),e.k0s()()(),e.j41(485,"blockquote",23)(486,"strong"),e.EFF(487,"Astuce"),e.k0s(),e.EFF(488," Le d\xe9corateur "),e.j41(489,"code"),e.EFF(490,"@UsePipes()"),e.k0s(),e.EFF(491," est import\xe9 du package "),e.j41(492,"code"),e.EFF(493,"@nestjs/common"),e.k0s(),e.EFF(494,".\n"),e.k0s(),e.j41(495,"blockquote",35)(496,"strong"),e.EFF(497,"Attention"),e.k0s(),e.EFF(498," La biblioth\xe8que "),e.j41(499,"code"),e.EFF(500,"zod"),e.k0s(),e.EFF(501," n\xe9cessite que la configuration "),e.j41(502,"code"),e.EFF(503,"strictNullChecks"),e.k0s(),e.EFF(504," soit activ\xe9e dans votre fichier "),e.j41(505,"code"),e.EFF(506,"tsconfig.json"),e.k0s(),e.EFF(507,".\n"),e.k0s(),e.j41(508,"h4",41)(509,"span"),e.EFF(510,"Valideur de classe"),e.k0s()(),e.j41(511,"blockquote",35)(512,"strong"),e.EFF(513,"Attention"),e.k0s(),e.EFF(514," Les techniques pr\xe9sent\xe9es dans cette section requi\xe8rent TypeScript et ne sont pas disponibles si votre application est \xe9crite en JavaScript classique.\n"),e.k0s(),e.j41(515,"p"),e.EFF(516,"Examinons une autre application de notre technique de validation."),e.k0s(),e.j41(517,"p"),e.EFF(518,"Nest fonctionne bien avec la biblioth\xe8que "),e.j41(519,"a",42),e.EFF(520,"class-validator"),e.k0s(),e.EFF(521,". Cette puissante biblioth\xe8que vous permet d'utiliser une validation bas\xe9e sur un d\xe9corateur. La validation bas\xe9e sur un d\xe9corateur est extr\xeamement puissante, surtout lorsqu'elle est combin\xe9e avec les capacit\xe9s "),e.j41(522,"strong"),e.EFF(523,"Pipe"),e.k0s(),e.EFF(524," de Nest puisque nous avons acc\xe8s au "),e.j41(525,"code"),e.EFF(526,"metatype"),e.k0s(),e.EFF(527," de la propri\xe9t\xe9 trait\xe9e. Avant de commencer, nous devons installer les packages n\xe9cessaires :"),e.k0s(),e.j41(528,"pre")(529,"code",28),e.EFF(530,"\n$ npm i --save class-validator class-transformer\n"),e.k0s()(),e.j41(531,"p"),e.EFF(532,"Une fois ces \xe9l\xe9ments install\xe9s, nous pouvons ajouter quelques d\xe9corateurs \xe0 la classe "),e.j41(533,"code"),e.EFF(534,"CreateCatDto"),e.k0s(),e.EFF(535,". Nous voyons ici un avantage significatif de cette technique : la classe "),e.j41(536,"code"),e.EFF(537,"CreateCatDto"),e.k0s(),e.EFF(538," reste la seule source de v\xe9rit\xe9 pour le corps de notre objet Post (plut\xf4t que d'avoir \xe0 cr\xe9er une classe de validation s\xe9par\xe9e)."),e.k0s(),e.j41(539,"app-copy-button",30)(540,"span",31),e.EFF(541),e.nI1(542,"extension"),e.nrm(543,"app-tabs",null,7),e.k0s(),e.j41(545,"pre")(546,"code",27),e.EFF(547,"\nimport { IsString, IsInt } from 'class-validator';\n\nexport class CreateCatDto {\n  @IsString()\n  name: string;\n\n  @IsInt()\n  age: number;\n\n  @IsString()\n  breed: string;\n}\n"),e.k0s()()(),e.j41(548,"blockquote",23)(549,"strong"),e.EFF(550,"Astuce"),e.k0s(),e.EFF(551," Apprenez-en plus sur les d\xe9corateurs class-validator "),e.j41(552,"a",43),e.EFF(553,"ici"),e.k0s(),e.EFF(554,".\n"),e.k0s(),e.j41(555,"p"),e.EFF(556,"Nous pouvons maintenant cr\xe9er une classe "),e.j41(557,"code"),e.EFF(558,"ValidationPipe"),e.k0s(),e.EFF(559," qui utilise ces annotations."),e.k0s(),e.j41(560,"app-copy-button",30)(561,"span",31),e.EFF(562),e.nI1(563,"extension"),e.nrm(564,"app-tabs",null,8),e.k0s(),e.j41(566,"pre")(567,"code",27),e.EFF(568,"\nimport { PipeTransform, Injectable, ArgumentMetadata, BadRequestException } from '@nestjs/common';\nimport { validate } from 'class-validator';\nimport { plainToInstance } from 'class-transformer';\n\n@Injectable()\nexport class ValidationPipe implements PipeTransform<any> {\n  async transform(value: any, { metatype }: ArgumentMetadata) {\n    if (!metatype || !this.toValidate(metatype)) {\n      return value;\n    }\n    const object = plainToInstance(metatype, value);\n    const errors = await validate(object);\n    if (errors.length > 0) {\n      throw new BadRequestException('Validation failed');\n    }\n    return value;\n  }\n\n  private toValidate(metatype: Function): boolean {\n    const types: Function[] = [String, Boolean, Number, Array, Object];\n    return !types.includes(metatype);\n  }\n}\n"),e.k0s()()(),e.j41(569,"blockquote",23)(570,"strong"),e.EFF(571,"Astuce"),e.k0s(),e.EFF(572," Pour rappel, vous n'avez pas \xe0 cr\xe9er vous-m\xeame un pipe de validation g\xe9n\xe9rique, car le "),e.j41(573,"code"),e.EFF(574,"ValidationPipe"),e.k0s(),e.EFF(575," est fourni par la version standard de Nest. Le "),e.j41(576,"code"),e.EFF(577,"ValidationPipe"),e.k0s(),e.EFF(578," int\xe9gr\xe9 offre plus d'options que l'exemple que nous avons construit dans ce chapitre, qui a \xe9t\xe9 maintenu de mani\xe8re basique pour illustrer le fonctionnement d'un pipe personnalis\xe9. Vous pouvez trouver tous les d\xe9tails, ainsi que de nombreux exemples ici.\n"),e.k0s(),e.j41(579,"blockquote",35)(580,"strong"),e.EFF(581,"Remarque"),e.k0s(),e.EFF(582," Nous avons utilis\xe9 la biblioth\xe8que "),e.j41(583,"a",44),e.EFF(584,"class-transformer"),e.k0s(),e.EFF(585," ci-dessus, qui est cr\xe9\xe9e par le m\xeame auteur que la biblioth\xe8que "),e.j41(586,"strong"),e.EFF(587,"class-validator"),e.k0s(),e.EFF(588,", et par cons\xe9quent, elles fonctionnent tr\xe8s bien ensemble.\n"),e.k0s(),e.j41(589,"p"),e.EFF(590,"Passons en revue ce code. Tout d'abord, notez que la m\xe9thode "),e.j41(591,"code"),e.EFF(592,"transform()"),e.k0s(),e.EFF(593," est marqu\xe9e comme "),e.j41(594,"code"),e.EFF(595,"asynchrone"),e.k0s(),e.EFF(596,". Ceci est possible parce que Nest supporte \xe0 la fois les pipes synchrones et "),e.j41(597,"strong"),e.EFF(598,"asynchrones"),e.k0s(),e.EFF(599,". Nous rendons cette m\xe9thode "),e.j41(600,"code"),e.EFF(601,"async"),e.k0s(),e.EFF(602," parce que certaines des validations du class-validator "),e.j41(603,"a",45),e.EFF(604,"peuvent \xeatre asynchrones"),e.k0s(),e.EFF(605," (utilise les promesses)."),e.k0s(),e.j41(606,"p"),e.EFF(607,"Notez ensuite que nous utilisons la d\xe9structuration pour extraire le champ metatype (en extrayant uniquement ce membre d'une "),e.j41(608,"code"),e.EFF(609,"ArgumentMetadata"),e.k0s(),e.EFF(610,") dans notre param\xe8tre "),e.j41(611,"code"),e.EFF(612,"metatype"),e.k0s(),e.EFF(613,". C'est juste un raccourci pour obtenir l'objet "),e.j41(614,"code"),e.EFF(615,"ArgumentMetadata"),e.k0s(),e.EFF(616," en entier et ensuite avoir une d\xe9claration suppl\xe9mentaire pour assigner la variable metatype."),e.k0s(),e.j41(617,"p"),e.EFF(618,"Ensuite, notons la fonction d'aide "),e.j41(619,"code"),e.EFF(620,"toValidate()"),e.k0s(),e.EFF(621,". Elle est charg\xe9e de contourner l'\xe9tape de validation lorsque l'argument en cours de traitement est un type JavaScript natif (ces derniers ne peuvent pas avoir de d\xe9corateurs de validation attach\xe9s, il n'y a donc aucune raison de les faire passer par l'\xe9tape de validation)."),e.k0s(),e.j41(622,"p"),e.EFF(623,"Ensuite, nous utilisons la fonction de transformateur de classe "),e.j41(624,"code"),e.EFF(625,"plainToInstance()"),e.k0s(),e.EFF(626," pour transformer notre objet argument JavaScript en un objet typ\xe9 afin de pouvoir appliquer la validation. La raison pour laquelle nous devons faire cela est que le corps du message entrant, lorsqu'il est d\xe9s\xe9rialis\xe9 \xe0 partir de la requ\xeate r\xe9seau, n'a "),e.j41(627,"strong"),e.EFF(628,"aucune information de type"),e.k0s(),e.EFF(629," (c'est la fa\xe7on dont la plateforme sous-jacente, comme Express, fonctionne). Class-validator a besoin d'utiliser les d\xe9corateurs de validation que nous avons d\xe9finis pour notre DTO plus t\xf4t, nous devons donc effectuer cette transformation pour traiter le corps entrant comme un objet d\xe9cor\xe9 de mani\xe8re appropri\xe9e, et non comme un simple objet classique."),e.k0s(),e.j41(630,"p"),e.EFF(631,"Enfin, comme indiqu\xe9 pr\xe9c\xe9demment, puisqu'il s'agit d'un "),e.j41(632,"strong"),e.EFF(633,"pipe de validation"),e.k0s(),e.EFF(634,", il renvoie la valeur inchang\xe9e ou l\xe8ve une exception."),e.k0s(),e.j41(635,"p"),e.EFF(636,"La derni\xe8re \xe9tape consiste \xe0 lier le "),e.j41(637,"code"),e.EFF(638,"ValidationPipe"),e.k0s(),e.EFF(639,". Les pipes peuvent \xeatre \xe0 l'\xe9chelle du param\xe8tre, de la m\xe9thode, du contr\xf4leur ou de l'ensemble. Plus t\xf4t, avec notre pipe de validation bas\xe9 sur Zod, nous avons vu un exemple de liaison du pipe au niveau de la m\xe9thode.\nDans l'exemple ci-dessous, nous allons lier l'instance du pipe au d\xe9corateur "),e.j41(640,"code"),e.EFF(641,"@Body()"),e.k0s(),e.EFF(642," du gestionnaire de route afin que notre pipe soit appel\xe9 pour valider le corps du message."),e.k0s(),e.j41(643,"app-copy-button",30)(644,"span",31),e.EFF(645),e.nI1(646,"extension"),e.nrm(647,"app-tabs",null,9),e.k0s(),e.j41(649,"pre")(650,"code",27),e.EFF(651,"\n@Post()\nasync create(\n  @Body(new ValidationPipe()) createCatDto: CreateCatDto,\n) {\n  this.catsService.create(createCatDto);\n}\n"),e.k0s()()(),e.j41(652,"p"),e.EFF(653,"Les pipes \xe0 port\xe9e de param\xe8tre sont utiles lorsque la logique de validation ne concerne qu'un seul param\xe8tre sp\xe9cifi\xe9."),e.k0s(),e.j41(654,"h4",46)(655,"span"),e.EFF(656,"Pipes \xe0 port\xe9e globale"),e.k0s()(),e.j41(657,"p"),e.EFF(658,"Puisque le "),e.j41(659,"code"),e.EFF(660,"ValidationPipe"),e.k0s(),e.EFF(661," a \xe9t\xe9 cr\xe9\xe9 pour \xeatre aussi g\xe9n\xe9rique que possible, nous pouvons r\xe9aliser sa pleine utilit\xe9 en le configurant comme un "),e.j41(662,"strong"),e.EFF(663,"pipe global"),e.k0s(),e.EFF(664," de sorte qu'il soit appliqu\xe9 \xe0 chaque gestionnaire de route dans l'ensemble de l'application."),e.k0s(),e.j41(665,"app-copy-button",30)(666,"span",31),e.EFF(667),e.nI1(668,"extension"),e.nrm(669,"app-tabs",null,10),e.k0s(),e.j41(671,"pre")(672,"code",27),e.EFF(673,"\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n  app.useGlobalPipes(new ValidationPipe());\n  await app.listen(process.env.PORT ?? 3000);\n}\nbootstrap();\n"),e.k0s()()(),e.j41(674,"blockquote",35)(675,"strong"),e.EFF(676,"Remarque"),e.k0s(),e.EFF(677," Dans le cas des "),e.j41(678,"a",47),e.EFF(679,"applications hybrides"),e.k0s(),e.EFF(680,", la m\xe9thode "),e.j41(681,"code"),e.EFF(682,"useGlobalPipes()"),e.k0s(),e.EFF(683,' ne configure pas les pipes pour les passerelles et les microservices. Pour les applications microservices "standard" (non hybrides), la m\xe9thode '),e.j41(684,"code"),e.EFF(685,"useGlobalPipes()"),e.k0s(),e.EFF(686," configure les pipes de mani\xe8re globale.\n"),e.k0s(),e.j41(687,"p"),e.EFF(688,"Les pipes globaux sont utilis\xe9s dans l'ensemble de l'application, pour chaque contr\xf4leur et chaque gestionnaire de route."),e.k0s(),e.j41(689,"p"),e.EFF(690,"Notez qu'en termes d'injection de d\xe9pendances, les pipes globaux enregistr\xe9s depuis l'ext\xe9rieur d'un module (avec "),e.j41(691,"code"),e.EFF(692,"useGlobalPipes()"),e.k0s(),e.EFF(693," comme dans l'exemple ci-dessus) ne peuvent pas injecter de d\xe9pendances puisque la liaison a \xe9t\xe9 faite en dehors du contexte d'un module. Afin de r\xe9soudre ce probl\xe8me, vous pouvez mettre en place un pipe global "),e.j41(694,"strong"),e.EFF(695,"directement depuis n'importe quel module"),e.k0s(),e.EFF(696," en utilisant la construction suivante :"),e.k0s(),e.j41(697,"app-copy-button",30)(698,"span",31),e.EFF(699),e.nI1(700,"extension"),e.nrm(701,"app-tabs",null,11),e.k0s(),e.j41(703,"pre")(704,"code",27),e.EFF(705,"\nimport { Module } from '@nestjs/common';\nimport { APP_PIPE } from '@nestjs/core';\n\n@Module({\n  providers: [\n    {\n      provide: APP_PIPE,\n      useClass: ValidationPipe,\n    },\n  ],\n})\nexport class AppModule {}\n"),e.k0s()()(),e.j41(706,"blockquote",23)(707,"strong"),e.EFF(708,"Astuce"),e.k0s(),e.EFF(709," Lorsque vous utilisez cette approche pour r\xe9aliser l'injection de d\xe9pendances pour le pipe, notez que, quel que soit le module o\xf9 cette construction est employ\xe9e, le pipe est, en fait, global. O\xf9 cela doit-il \xeatre fait ? Choisissez le module o\xf9 le pipe ("),e.j41(710,"code"),e.EFF(711,"ValidationPipe"),e.k0s(),e.EFF(712," dans l'exemple ci-dessus) est d\xe9fini. De plus, "),e.j41(713,"code"),e.EFF(714,"useClass"),e.k0s(),e.EFF(715," n'est pas la seule fa\xe7on de g\xe9rer l'enregistrement de fournisseurs personnalis\xe9s. Apprenez-en plus "),e.j41(716,"a",48),e.EFF(717,"ici"),e.k0s(),e.EFF(718,".\n"),e.k0s(),e.j41(719,"h4",49)(720,"span"),e.EFF(721,"ValidationPipe int\xe9gr\xe9"),e.k0s()(),e.j41(722,"p"),e.EFF(723,"Pour rappel, vous n'avez pas besoin de construire un pipe de validation g\xe9n\xe9rique par vous-m\xeame puisque le "),e.j41(724,"code"),e.EFF(725,"ValidationPipe"),e.k0s(),e.EFF(726," est fourni par Nest. Le "),e.j41(727,"code"),e.EFF(728,"ValidationPipe"),e.k0s(),e.EFF(729," int\xe9gr\xe9 offre plus d'options que l'exemple que nous avons construit dans ce chapitre, qui a \xe9t\xe9 gard\xe9 basique dans le but d'illustrer les m\xe9canismes d'un pipe personnalis\xe9. Vous pouvez trouver tous les d\xe9tails, ainsi que de nombreux exemples "),e.j41(730,"a",32),e.EFF(731,"ici"),e.k0s(),e.EFF(732,"."),e.k0s(),e.j41(733,"h4",50)(734,"span"),e.EFF(735,"Cas d'application de la transformation"),e.k0s()(),e.j41(736,"p"),e.EFF(737,"La validation n'est pas le seul cas d'utilisation des pipes personnalis\xe9s. Au d\xe9but de ce chapitre, nous avons mentionn\xe9 qu'un pipe peut aussi "),e.j41(738,"strong"),e.EFF(739,"transformer"),e.k0s(),e.EFF(740," les donn\xe9es d'entr\xe9e au format d\xe9sir\xe9. Ceci est possible parce que la valeur retourn\xe9e par la fonction "),e.j41(741,"code"),e.EFF(742,"transform"),e.k0s(),e.EFF(743," \xe9crase compl\xe8tement la valeur pr\xe9c\xe9dente de l'argument."),e.k0s(),e.j41(744,"p"),e.EFF(745,"Quand est-ce utile ? Il arrive que les donn\xe9es transmises par le client doivent \xeatre modifi\xe9es, par exemple en convertissant une cha\xeene de caract\xe8res en un nombre entier, avant de pouvoir \xeatre trait\xe9es correctement par la m\xe9thode de traitement de l'itin\xe9raire. En outre, certains champs de donn\xe9es obligatoires peuvent \xeatre manquants et nous aimerions appliquer des valeurs par d\xe9faut. Les "),e.j41(746,"strong"),e.EFF(747,"pipes de transformation"),e.k0s(),e.EFF(748," peuvent remplir ces fonctions en interposant une fonction de traitement entre la requ\xeate du client et le gestionnaire de la requ\xeate."),e.k0s(),e.j41(749,"p"),e.EFF(750,"Voici un simple "),e.j41(751,"code"),e.EFF(752,"ParseIntPipe"),e.k0s(),e.EFF(753," qui est responsable de l'analyse d'une cha\xeene de caract\xe8res en une valeur enti\xe8re. (Comme indiqu\xe9 plus haut, Nest a un "),e.j41(754,"code"),e.EFF(755,"ParseIntPipe"),e.k0s(),e.EFF(756," int\xe9gr\xe9 qui est plus sophistiqu\xe9 ; nous l'incluons comme un exemple simple d'un pipe de transformation personnalis\xe9)."),e.k0s(),e.j41(757,"app-copy-button",30)(758,"span",31),e.EFF(759),e.nI1(760,"extension"),e.nrm(761,"app-tabs",null,12),e.k0s(),e.j41(763,"pre")(764,"code",27),e.EFF(765,"\nimport { PipeTransform, Injectable, ArgumentMetadata, BadRequestException } from '@nestjs/common';\n\n@Injectable()\nexport class ParseIntPipe implements PipeTransform<string, number> {\n  transform(value: string, metadata: ArgumentMetadata): number {\n    const val = parseInt(value, 10);\n    if (isNaN(val)) {\n      throw new BadRequestException('Validation failed');\n    }\n    return val;\n  }\n}\n"),e.k0s()(),e.j41(766,"pre")(767,"code",27),e.EFF(768,"\nimport { Injectable, BadRequestException } from '@nestjs/common';\n\n@Injectable()\nexport class ParseIntPipe {\n  transform(value, metadata) {\n    const val = parseInt(value, 10);\n    if (isNaN(val)) {\n      throw new BadRequestException('Validation failed');\n    }\n    return val;\n  }\n}\n"),e.k0s()()(),e.j41(769,"p"),e.EFF(770,"Nous pouvons ensuite lier ce pipe au param\xe8tre s\xe9lectionn\xe9, comme indiqu\xe9 ci-dessous :"),e.k0s(),e.j41(771,"app-copy-button",30)(772,"span",31),e.nrm(773,"app-tabs",null,13),e.k0s(),e.j41(775,"pre")(776,"code",27),e.EFF(777,"\n@Get(':id')\nasync findOne(@Param('id', new ParseIntPipe()) id) {\n  return this.catsService.findOne(id);\n}\n"),e.k0s()(),e.j41(778,"pre")(779,"code",27),e.EFF(780,"\n@Get(':id')\n@Bind(Param('id', new ParseIntPipe()))\nasync findOne(id) {\n  return this.catsService.findOne(id);\n}\n"),e.k0s()()(),e.j41(781,"p"),e.EFF(782,"Un autre cas de transformation utile serait de s\xe9lectionner une "),e.j41(783,"strong"),e.EFF(784,"entit\xe9 utilisateur existante"),e.k0s(),e.EFF(785," dans la base de donn\xe9es \xe0 l'aide d'un identifiant fourni dans la requ\xeate :"),e.k0s(),e.j41(786,"app-copy-button",30)(787,"span",31),e.nrm(788,"app-tabs",null,14),e.k0s(),e.j41(790,"pre")(791,"code",27),e.EFF(792,"\n@Get(':id')\nfindOne(@Param('id', UserByIdPipe) userEntity: UserEntity) {\n  return userEntity;\n}\n"),e.k0s()(),e.j41(793,"pre")(794,"code",27),e.EFF(795,"\n@Get(':id')\n@Bind(Param('id', UserByIdPipe))\nfindOne(userEntity) {\n  return userEntity;\n}\n"),e.k0s()()(),e.j41(796,"p"),e.EFF(797,"Nous laissons l'impl\xe9mentation de ce pipe au lecteur, mais notez que comme tous les autres pipes de transformation, il re\xe7oit une valeur en entr\xe9e (un "),e.j41(798,"code"),e.EFF(799,"id"),e.k0s(),e.EFF(800,") et retourne une valeur en sortie (un objet "),e.j41(801,"code"),e.EFF(802,"UserEntity"),e.k0s(),e.EFF(803,"). Cela peut rendre votre code plus d\xe9claratif et "),e.j41(804,"a",38),e.EFF(805,"DRY"),e.k0s(),e.EFF(806," en abstrayant le code de base hors de votre handler et dans un pipe commun."),e.k0s(),e.j41(807,"h4",51)(808,"span"),e.EFF(809,"Fournir des valeurs par d\xe9faut"),e.k0s()(),e.j41(810,"p"),e.EFF(811,"Les pipes "),e.j41(812,"code"),e.EFF(813,"Parse*"),e.k0s(),e.EFF(814," s'attendent \xe0 ce que la valeur d'un param\xe8tre soit d\xe9finie. Ils l\xe8vent une exception s'ils re\xe7oivent des valeurs "),e.j41(815,"code"),e.EFF(816,"null"),e.k0s(),e.EFF(817," ou "),e.j41(818,"code"),e.EFF(819,"undefined"),e.k0s(),e.EFF(820,". Pour permettre \xe0 un endpoint de g\xe9rer les valeurs manquantes d'un param\xe8tre de cha\xeene de requ\xeate, nous devons fournir une valeur par d\xe9faut \xe0 injecter avant que les pipes "),e.j41(821,"code"),e.EFF(822,"Parse*"),e.k0s(),e.EFF(823," n'op\xe8rent sur ces valeurs. Le "),e.j41(824,"code"),e.EFF(825,"DefaultValuePipe"),e.k0s(),e.EFF(826," remplit cette fonction. Instanciez simplement un "),e.j41(827,"code"),e.EFF(828,"DefaultValuePipe"),e.k0s(),e.EFF(829," dans le d\xe9corateur "),e.j41(830,"code"),e.EFF(831,"@Query()"),e.k0s(),e.EFF(832," avant le pipe "),e.j41(833,"code"),e.EFF(834,"Parse*"),e.k0s(),e.EFF(835," appropri\xe9, comme montr\xe9 ci-dessous :"),e.k0s(),e.j41(836,"app-copy-button",30)(837,"span",31),e.nrm(838,"app-tabs",null,15),e.k0s(),e.j41(840,"pre")(841,"code",27),e.EFF(842,"\n@Get()\nasync findAll(\n  @Query('activeOnly', new DefaultValuePipe(false), ParseBoolPipe) activeOnly: boolean,\n  @Query('page', new DefaultValuePipe(0), ParseIntPipe) page: number,\n) {\n  return this.catsService.findAll({ activeOnly, page });\n}\n"),e.k0s()()()()),2&c){const b=e.sdS(175),A=e.sdS(222),l=e.sdS(343),m=e.sdS(363),p=e.sdS(428),E=e.sdS(478),_=e.sdS(544),x=e.sdS(565),S=e.sdS(648),H=e.sdS(670),B=e.sdS(702),ve=e.sdS(762),Le=e.sdS(774),He=e.sdS(789);e.R7$(176),e.AVh("hide",b.isJsActive),e.R7$(3),e.AVh("hide",!b.isJsActive),e.R7$(40),e.SpI(" ",e.i5U(220,41,"validation.pipe",A.isJsActive),"\n"),e.R7$(4),e.AVh("hide",A.isJsActive),e.R7$(3),e.AVh("hide",!A.isJsActive),e.R7$(118),e.AVh("hide",l.isJsActive),e.R7$(3),e.AVh("hide",!l.isJsActive),e.R7$(13),e.SpI(" ",e.i5U(361,44,"create-cat.dto",m.isJsActive),"\n"),e.R7$(69),e.AVh("hide",p.isJsActive),e.R7$(3),e.AVh("hide",!p.isJsActive),e.R7$(43),e.SpI(" ",e.i5U(476,47,"cats.controller",E.isJsActive),"\n"),e.R7$(4),e.AVh("hide",E.isJsActive),e.R7$(3),e.AVh("hide",!E.isJsActive),e.R7$(59),e.SpI(" ",e.i5U(542,50,"create-cat.dto",_.isJsActive),"\n"),e.R7$(21),e.SpI(" ",e.i5U(563,53,"validation.pipe",x.isJsActive),"\n"),e.R7$(83),e.SpI(" ",e.i5U(646,56,"cats.controller",S.isJsActive),"\n"),e.R7$(22),e.SpI(" ",e.i5U(668,59,"main",H.isJsActive),"\n"),e.R7$(32),e.SpI(" ",e.i5U(700,62,"app.module",B.isJsActive),"\n"),e.R7$(60),e.SpI(" ",e.i5U(760,65,"parse-int.pipe",ve.isJsActive),"\n"),e.R7$(4),e.AVh("hide",ve.isJsActive),e.R7$(3),e.AVh("hide",!ve.isJsActive),e.R7$(9),e.AVh("hide",Le.isJsActive),e.R7$(3),e.AVh("hide",!Le.isJsActive),e.R7$(12),e.AVh("hide",He.isJsActive),e.R7$(3),e.AVh("hide",!He.isJsActive)}},dependencies:[mt.Wk,zn.O,Ln.a,An.Q,Qn.z,Zn.M],encapsulation:2,changeDetection:0})}return y})(),data:{title:"Pipes"}},{path:"guards",component:(()=>{class y extends Xe.y{static \u0275fac=(()=>{let a;return function(f){return(a||(a=e.xGo(y)))(f||y)}})();static \u0275cmp=e.VBU({type:y,selectors:[["app-guards"]],features:[e.Vt3],decls:466,vars:40,consts:[["contentReference",""],["appea86fa5a1991119ae7fd0a9672551848b5642b03",""],["app372c3c6e4fbc276603b5286a5544a673c26956a2",""],["app0b912e24c3a87ffd059cc7db48f8215400124581",""],["app9998f787ff558defa99353852164623126707244",""],["app5cb3d22a06ae146eaf1816d8df94211b21cedb0d",""],["app8368f458723434f16a1778c49e534d41a00e529f",""],["app134a7f532b0eaf7a98cc7683fbef5e092f7f8379",""],["appacc5cf845736eedbc9fe22629a95b04b0497f56f",""],["appcd1954a6511c5aaf865b73acdf0d40c737c3c158",""],[1,"content"],[1,"github-links"],["href","https://github.com/Lou8is/docs.nestjs.fr/edit/main/content/guards.md","aria-label","Proposer des modifications","title","Proposer des modifications"],[1,"fas","fa-edit"],["id","gardes"],["src","/assets/Guards_1.png",1,"illustrative-image"],["routerLink","/middleware"],[1,"info"],["appAnchor","","id","garde-dautorisation"],[1,"with-heading"],[1,"filename"],[1,"language-typescript"],["routerLink","/security/authentication"],["routerLink","/security/authorization"],["appAnchor","","id","contexte-dex\xe9cution"],["href","/exception-filters#argumentshost"],["routerLink","/fundamentals/execution-context"],["appAnchor","","id","authentification-bas\xe9e-sur-le-r\xf4le"],["appAnchor","","id","liaison-des-gardes"],[1,"warning"],["routerLink","/faq/hybrid-application"],["routerLink","/fundamentals/custom-providers"],["appAnchor","","id","d\xe9finition-des-r\xf4les-par-gestionnaire"],["href","/fundamentals/execution-context#r%C3%A9flexion-et-m%C3%A9tadonn%C3%A9es"],[1,"language-ts"],["href","/fundamentals/execution-context#approche-bas-niveau"],["appAnchor","","id","mettre-en-place-lensemble"],["href","/fundamentals/execution-context#r\xe9flexion-et-m\xe9tadonn\xe9es"],["href","/exception-filters"]],template:function(c,f){if(1&c&&(e.j41(0,"div",10,0)(2,"div",11)(3,"a",12),e.nrm(4,"i",13),e.k0s()(),e.j41(5,"h3",14),e.EFF(6,"Gardes"),e.k0s(),e.j41(7,"p"),e.EFF(8,"Une garde est une classe annot\xe9e avec le d\xe9corateur "),e.j41(9,"code"),e.EFF(10,"@Injectable()"),e.k0s(),e.EFF(11,", qui impl\xe9mente l'interface "),e.j41(12,"code"),e.EFF(13,"CanActivate"),e.k0s(),e.EFF(14,"."),e.k0s(),e.j41(15,"figure"),e.nrm(16,"img",15),e.k0s(),e.j41(17,"p"),e.EFF(18,"Les gardes ont une "),e.j41(19,"strong"),e.EFF(20,"responsabilit\xe9 unique"),e.k0s(),e.EFF(21,". Elles d\xe9terminent si une requ\xeate donn\xe9e sera trait\xe9e par le gestionnaire de route ou non, en fonction de certaines conditions (comme les permissions, les r\xf4les, les ACL, etc.) pr\xe9sentes au moment de l'ex\xe9cution. C'est ce que l'on appelle souvent "),e.j41(22,"strong"),e.EFF(23,"autorisation"),e.k0s(),e.EFF(24,". L'autorisation (et sa cousine, l'"),e.j41(25,"strong"),e.EFF(26,"authentification"),e.k0s(),e.EFF(27,", avec laquelle elle collabore g\xe9n\xe9ralement) est g\xe9n\xe9ralement g\xe9r\xe9e par un "),e.j41(28,"a",16),e.EFF(29,"middleware"),e.k0s(),e.EFF(30," dans les applications Express traditionnelles. Le middleware est un bon choix pour l'authentification, puisque des choses comme la validation de jetons et l'attachement de propri\xe9t\xe9s \xe0 l'objet "),e.j41(31,"code"),e.EFF(32,"request"),e.k0s(),e.EFF(33," ne sont pas fortement li\xe9es \xe0 un contexte de route particulier (et \xe0 ses m\xe9tadonn\xe9es)."),e.k0s(),e.j41(34,"p"),e.EFF(35,"Mais le middleware, de par sa nature, est stupide. Il ne sait pas quel handler sera ex\xe9cut\xe9 apr\xe8s avoir appel\xe9 la fonction "),e.j41(36,"code"),e.EFF(37,"next()"),e.k0s(),e.EFF(38,". D'un autre c\xf4t\xe9, les "),e.j41(39,"strong"),e.EFF(40,"Gardes"),e.k0s(),e.EFF(41," ont acc\xe8s \xe0 l'instance "),e.j41(42,"code"),e.EFF(43,"ExecutionContext"),e.k0s(),e.EFF(44,", et savent donc exactement ce qui va \xeatre ex\xe9cut\xe9 ensuite. Ils sont con\xe7us, tout comme les filtres d'exception, les pipes et les intercepteurs, pour vous permettre d'interposer une logique de traitement au bon moment dans le cycle requ\xeate/r\xe9ponse, et de le faire de mani\xe8re d\xe9clarative. Cela permet de conserver un code DRY et d\xe9claratif."),e.k0s(),e.j41(45,"blockquote",17)(46,"strong"),e.EFF(47,"Astuces"),e.k0s(),e.EFF(48," Les gardes sont ex\xe9cut\xe9s "),e.j41(49,"strong"),e.EFF(50,"apr\xe8s"),e.k0s(),e.EFF(51," tous les middleware, mais "),e.j41(52,"strong"),e.EFF(53,"avant"),e.k0s(),e.EFF(54," tout intercepteur ou pipe.\n"),e.k0s(),e.j41(55,"h4",18)(56,"span"),e.EFF(57,"Garde d'autorisation"),e.k0s()(),e.j41(58,"p"),e.EFF(59,"Comme nous l'avons mentionn\xe9, "),e.j41(60,"strong"),e.EFF(61,"l'autorisation"),e.k0s(),e.EFF(62," est un excellent cas d'utilisation pour les Gardes parce que des routes sp\xe9cifiques ne devraient \xeatre disponibles que lorsque l'appelant (habituellement un utilisateur authentifi\xe9 sp\xe9cifique) a les permissions suffisantes. Le "),e.j41(63,"code"),e.EFF(64,"AuthGuard"),e.k0s(),e.EFF(65," que nous allons construire maintenant suppose que l'utilisateur est authentifi\xe9 (et que, par cons\xe9quent, un jeton est attach\xe9 aux en-t\xeates de la requ\xeate). Il va extraire et valider le jeton, et utiliser l'information extraite pour d\xe9terminer si la requ\xeate peut \xeatre trait\xe9e ou non."),e.k0s(),e.j41(66,"app-copy-button",19)(67,"span",20),e.EFF(68),e.nI1(69,"extension"),e.nrm(70,"app-tabs",null,1),e.k0s(),e.j41(72,"pre")(73,"code",21),e.EFF(74,"\nimport { Injectable, CanActivate, ExecutionContext } from '@nestjs/common';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class AuthGuard implements CanActivate {\n  canActivate(\n    context: ExecutionContext,\n  ): boolean | Promise<boolean> | Observable<boolean> {\n    const request = context.switchToHttp().getRequest();\n    return validateRequest(request);\n  }\n}\n"),e.k0s()(),e.j41(75,"pre")(76,"code",21),e.EFF(77,"\nimport { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class AuthGuard {\n  async canActivate(context) {\n    const request = context.switchToHttp().getRequest();\n    return validateRequest(request);\n  }\n}\n"),e.k0s()()(),e.j41(78,"blockquote",17)(79,"strong"),e.EFF(80,"Astuce"),e.k0s(),e.EFF(81," Si vous cherchez un exemple concret de mise en \u0153uvre d'un m\xe9canisme d'authentification dans votre application, consultez "),e.j41(82,"a",22),e.EFF(83,"ce chapitre"),e.k0s(),e.EFF(84,". De m\xeame, pour un exemple d'autorisation plus sophistiqu\xe9, consultez "),e.j41(85,"a",23),e.EFF(86,"cette page"),e.k0s(),e.EFF(87,".\n"),e.k0s(),e.j41(88,"p"),e.EFF(89,"La logique \xe0 l'int\xe9rieur de la fonction "),e.j41(90,"code"),e.EFF(91,"validateRequest()"),e.k0s(),e.EFF(92," peut \xeatre aussi simple ou sophistiqu\xe9e que n\xe9cessaire. Le but principal de cet exemple est de montrer comment les gardes s'int\xe8grent dans le cycle requ\xeate/r\xe9ponse."),e.k0s(),e.j41(93,"p"),e.EFF(94,"Chaque garde doit impl\xe9menter une fonction "),e.j41(95,"code"),e.EFF(96,"canActivate()"),e.k0s(),e.EFF(97,". Cette fonction doit retourner un bool\xe9en, indiquant si la requ\xeate en cours est autoris\xe9e ou non. Elle peut retourner la r\xe9ponse de mani\xe8re synchrone ou asynchrone (via une "),e.j41(98,"code"),e.EFF(99,"Promise"),e.k0s(),e.EFF(100," ou un "),e.j41(101,"code"),e.EFF(102,"Observable"),e.k0s(),e.EFF(103,"). Nest utilise la valeur de retour pour contr\xf4ler l'action suivante :"),e.k0s(),e.j41(104,"ul")(105,"li"),e.EFF(106,"si elle renvoie "),e.j41(107,"code"),e.EFF(108,"true"),e.k0s(),e.EFF(109,", la requ\xeate sera trait\xe9e."),e.k0s(),e.j41(110,"li"),e.EFF(111,"s'il renvoie "),e.j41(112,"code"),e.EFF(113,"false"),e.k0s(),e.EFF(114,", Nest refusera la requ\xeate."),e.k0s()(),e.j41(115,"p"),e.nrm(116,"app-banner-enterprise"),e.k0s(),e.j41(117,"h4",24)(118,"span"),e.EFF(119,"Contexte d'ex\xe9cution"),e.k0s()(),e.j41(120,"p"),e.EFF(121,"La fonction "),e.j41(122,"code"),e.EFF(123,"canActivate()"),e.k0s(),e.EFF(124," prend un seul argument, l'instance "),e.j41(125,"code"),e.EFF(126,"ExecutionContext"),e.k0s(),e.EFF(127,". Le "),e.j41(128,"code"),e.EFF(129,"ExecutionContext"),e.k0s(),e.EFF(130," h\xe9rite de "),e.j41(131,"code"),e.EFF(132,"ArgumentsHost"),e.k0s(),e.EFF(133,". Nous avons vu "),e.j41(134,"code"),e.EFF(135,"ArgumentsHost"),e.k0s(),e.EFF(136," pr\xe9c\xe9demment dans le chapitre sur les filtres d'exception. Dans l'exemple ci-dessus, nous utilisons simplement les m\xeames m\xe9thodes d'aide d\xe9finies sur "),e.j41(137,"code"),e.EFF(138,"ArgumentsHost"),e.k0s(),e.EFF(139," que nous avons utilis\xe9es plus t\xf4t, pour obtenir une r\xe9f\xe9rence \xe0 l'objet "),e.j41(140,"code"),e.EFF(141,"Request"),e.k0s(),e.EFF(142,". Vous pouvez vous r\xe9f\xe9rer \xe0 la section "),e.j41(143,"strong"),e.EFF(144,"ArgumentsHost"),e.k0s(),e.EFF(145," du chapitre "),e.j41(146,"a",25),e.EFF(147,"exception filters"),e.k0s(),e.EFF(148," pour plus d'informations sur ce sujet."),e.k0s(),e.j41(149,"p"),e.EFF(150,"En \xe9tendant "),e.j41(151,"code"),e.EFF(152,"ArgumentsHost"),e.k0s(),e.EFF(153,", "),e.j41(154,"code"),e.EFF(155,"ExecutionContext"),e.k0s(),e.EFF(156," ajoute \xe9galement plusieurs nouvelles m\xe9thodes d'aide qui fournissent des d\xe9tails suppl\xe9mentaires sur le processus d'ex\xe9cution en cours. Ces d\xe9tails peuvent \xeatre utiles pour construire des gardes plus g\xe9n\xe9riques qui peuvent fonctionner \xe0 travers un large ensemble de contr\xf4leurs, de m\xe9thodes et de contextes d'ex\xe9cution. En savoir plus sur "),e.j41(157,"code"),e.EFF(158,"ExecutionContext"),e.k0s(),e.j41(159,"a",26),e.EFF(160,"ici"),e.k0s(),e.EFF(161,"."),e.k0s(),e.j41(162,"h4",27)(163,"span"),e.EFF(164,"Authentification bas\xe9e sur le r\xf4le"),e.k0s()(),e.j41(165,"p"),e.EFF(166,"Construisons une garde plus fonctionnelle qui n'autorise l'acc\xe8s qu'aux utilisateurs ayant un r\xf4le sp\xe9cifique. Nous commencerons par un mod\xe8le de garde basique, que nous d\xe9velopperons dans les sections suivantes. Pour l'instant, il permet \xe0 toutes les requ\xeates d'\xeatre trait\xe9es :"),e.k0s(),e.j41(167,"app-copy-button",19)(168,"span",20),e.EFF(169),e.nI1(170,"extension"),e.nrm(171,"app-tabs",null,2),e.k0s(),e.j41(173,"pre")(174,"code",21),e.EFF(175,"\nimport { Injectable, CanActivate, ExecutionContext } from '@nestjs/common';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class RolesGuard implements CanActivate {\n  canActivate(\n    context: ExecutionContext,\n  ): boolean | Promise<boolean> | Observable<boolean> {\n    return true;\n  }\n}\n"),e.k0s()(),e.j41(176,"pre")(177,"code",21),e.EFF(178,"\nimport { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class RolesGuard {\n  canActivate(context) {\n    return true;\n  }\n}\n"),e.k0s()()(),e.j41(179,"h4",28)(180,"span"),e.EFF(181,"Liaison des gardes"),e.k0s()(),e.j41(182,"p"),e.EFF(183,"Comme les pipes et les filtres d'exception, les gardes peuvent \xeatre limit\xe9es au "),e.j41(184,"strong"),e.EFF(185,"p\xe9rim\xe8tre du contr\xf4leur"),e.k0s(),e.EFF(186,", de la m\xe9thode, ou globaux. Ci-dessous, nous mettons en place une garde \xe0 l'\xe9chelle du contr\xf4leur en utilisant le d\xe9corateur "),e.j41(187,"code"),e.EFF(188,"@UseGuards()"),e.k0s(),e.EFF(189,". Ce d\xe9corateur peut prendre un seul argument, ou une liste d'arguments s\xe9par\xe9s par des virgules. Cela vous permet d'appliquer facilement l'ensemble appropri\xe9 de gardes en une seule d\xe9claration."),e.k0s(),e.j41(190,"app-copy-button",19)(191,"span",20),e.nrm(192,"app-tabs",null,3),e.k0s(),e.j41(194,"pre")(195,"code",21),e.EFF(196,"\n@Controller('cats')\n@UseGuards(RolesGuard)\nexport class CatsController {}\n"),e.k0s()()(),e.j41(197,"blockquote",17)(198,"strong"),e.EFF(199,"Astuce"),e.k0s(),e.EFF(200," Le d\xe9corateur "),e.j41(201,"code"),e.EFF(202,"@UseGuards()"),e.k0s(),e.EFF(203," est import\xe9 du package "),e.j41(204,"code"),e.EFF(205,"@nestjs/common"),e.k0s(),e.EFF(206,".\n"),e.k0s(),e.j41(207,"p"),e.EFF(208,"Ci-dessus, nous avons pass\xe9 la classe "),e.j41(209,"code"),e.EFF(210,"RolesGuard"),e.k0s(),e.EFF(211," (au lieu d'une instance), laissant la responsabilit\xe9 de l'instanciation au framework et permettant l'injection de d\xe9pendances. Comme pour les pipes et les filtres d'exception, nous pouvons \xe9galement passer une instance :"),e.k0s(),e.j41(212,"app-copy-button",19)(213,"span",20),e.nrm(214,"app-tabs",null,4),e.k0s(),e.j41(216,"pre")(217,"code",21),e.EFF(218,"\n@Controller('cats')\n@UseGuards(new RolesGuard())\nexport class CatsController {}\n"),e.k0s()()(),e.j41(219,"p"),e.EFF(220,"La construction ci-dessus attache la garde \xe0 chaque handler d\xe9clar\xe9 par ce contr\xf4leur. Si nous souhaitons que la garde ne s'applique qu'\xe0 une seule m\xe9thode, nous appliquons le d\xe9corateur "),e.j41(221,"code"),e.EFF(222,"@UseGuards()"),e.k0s(),e.j41(223,"strong"),e.EFF(224,"au niveau de la m\xe9thode"),e.k0s(),e.EFF(225,"."),e.k0s(),e.j41(226,"p"),e.EFF(227,"Pour mettre en place une garde globale, utilisez la m\xe9thode "),e.j41(228,"code"),e.EFF(229,"useGlobalGuards()"),e.k0s(),e.EFF(230," de l'instance de l'application Nest :"),e.k0s(),e.j41(231,"app-copy-button",19)(232,"span",20),e.nrm(233,"app-tabs",null,5),e.k0s(),e.j41(235,"pre")(236,"code",21),e.EFF(237,"\nconst app = await NestFactory.create(AppModule);\napp.useGlobalGuards(new RolesGuard());\n"),e.k0s()()(),e.j41(238,"blockquote",29)(239,"strong"),e.EFF(240,"Remarque"),e.k0s(),e.EFF(241," Dans le cas des applications hybrides, la m\xe9thode "),e.j41(242,"code"),e.EFF(243,"useGlobalGuards()"),e.k0s(),e.EFF(244," ne met pas en place les gardes pour les passerelles et les microservices par d\xe9faut (voir "),e.j41(245,"a",30),e.EFF(246,"application hybride"),e.k0s(),e.EFF(247,' pour des informations sur la fa\xe7on de changer ce comportement). Pour les applications microservices "standard" (non hybrides), '),e.j41(248,"code"),e.EFF(249,"useGlobalGuards()"),e.k0s(),e.EFF(250," monte les gardes globalement.\n"),e.k0s(),e.j41(251,"p"),e.EFF(252,"Les gardes globales sont utilis\xe9es dans toute l'application, pour chaque contr\xf4leur et chaque gestionnaire de route. En termes d'injection de d\xe9pendances, les gardes globales enregistr\xe9es depuis l'ext\xe9rieur d'un module (avec "),e.j41(253,"code"),e.EFF(254,"useGlobalGuards()"),e.k0s(),e.EFF(255," comme dans l'exemple ci-dessus) ne peuvent pas injecter de d\xe9pendances puisque cela est fait en dehors du contexte d'un module. Afin de r\xe9soudre ce probl\xe8me, vous pouvez mettre en place une garde directement depuis n'importe quel module en utilisant la construction suivante :"),e.k0s(),e.j41(256,"app-copy-button",19)(257,"span",20),e.EFF(258),e.nI1(259,"extension"),e.nrm(260,"app-tabs",null,6),e.k0s(),e.j41(262,"pre")(263,"code",21),e.EFF(264,"\nimport { Module } from '@nestjs/common';\nimport { APP_GUARD } from '@nestjs/core';\n\n@Module({\n  providers: [\n    {\n      provide: APP_GUARD,\n      useClass: RolesGuard,\n    },\n  ],\n})\nexport class AppModule {}\n"),e.k0s()()(),e.j41(265,"blockquote",17)(266,"strong"),e.EFF(267,"Astuce"),e.k0s(),e.EFF(268," Lorsque vous utilisez cette approche pour r\xe9aliser l'injection de d\xe9pendances pour le gardien, notez que, quel que soit le module dans lequel cette construction est employ\xe9e, la garde est, en fait, globale. O\xf9 cela doit-il \xeatre fait ? Choisissez le module o\xf9 la garde ("),e.j41(269,"code"),e.EFF(270,"RolesGuard"),e.k0s(),e.EFF(271," dans l'exemple ci-dessus) est d\xe9finie. De plus, "),e.j41(272,"code"),e.EFF(273,"useClass"),e.k0s(),e.EFF(274," n'est pas la seule fa\xe7on de traiter de l'enregistrement de fournisseurs personnalis\xe9s. Apprenez-en plus "),e.j41(275,"a",31),e.EFF(276,"ici"),e.k0s(),e.EFF(277,".\n"),e.k0s(),e.j41(278,"h4",32)(279,"span"),e.EFF(280,"D\xe9finition des r\xf4les par gestionnaire"),e.k0s()(),e.j41(281,"p"),e.EFF(282,"Notre "),e.j41(283,"code"),e.EFF(284,"RolesGuard"),e.k0s(),e.EFF(285," fonctionne, mais elle n'est pas encore tr\xe8s intelligente. Nous ne profitons pas encore de la caract\xe9ristique la plus importante de la garde - le [contexte d'ex\xe9cution] (/fundamentals/execution-context). Elle ne conna\xeet pas encore les r\xf4les, ni quels r\xf4les sont autoris\xe9s pour chaque gestionnaire. Le "),e.j41(286,"code"),e.EFF(287,"CatsController"),e.k0s(),e.EFF(288,", par exemple, pourrait avoir diff\xe9rents sch\xe9mas de permission pour diff\xe9rentes routes. Certaines pourraient n'\xeatre accessibles qu'\xe0 un utilisateur administrateur, et d'autres pourraient \xeatre ouvertes \xe0 tout le monde. Comment pouvons-nous faire correspondre les r\xf4les aux routes d'une mani\xe8re flexible et r\xe9utilisable ?"),e.k0s(),e.j41(289,"p"),e.EFF(290,"C'est l\xe0 que les "),e.j41(291,"strong"),e.EFF(292,"m\xe9tadonn\xe9es personnalis\xe9es"),e.k0s(),e.EFF(293," entrent en jeu (en savoir plus "),e.j41(294,"a",33),e.EFF(295,"ici"),e.k0s(),e.EFF(296,"). Nest fournit la possibilit\xe9 d'attacher des "),e.j41(297,"strong"),e.EFF(298,"m\xe9tadonn\xe9es"),e.k0s(),e.EFF(299," personnalis\xe9es aux gestionnaires de routes \xe0 travers des d\xe9corateurs cr\xe9\xe9s via la m\xe9thode statique "),e.j41(300,"code"),e.EFF(301,"Reflector#createDecorator"),e.k0s(),e.EFF(302,", ou le d\xe9corateur int\xe9gr\xe9 "),e.j41(303,"code"),e.EFF(304,"@SetMetadata()"),e.k0s(),e.EFF(305,"."),e.k0s(),e.j41(306,"p"),e.EFF(307,"Par exemple, cr\xe9ons un d\xe9corateur "),e.j41(308,"code"),e.EFF(309,"@Roles()"),e.k0s(),e.EFF(310," en utilisant la m\xe9thode "),e.j41(311,"code"),e.EFF(312,"Reflector#createDecorator"),e.k0s(),e.EFF(313," qui attachera les m\xe9tadonn\xe9es au handler. Le "),e.j41(314,"code"),e.EFF(315,"Reflector"),e.k0s(),e.EFF(316," est fourni par le framework et expos\xe9 dans le package "),e.j41(317,"code"),e.EFF(318,"@nestjs/core"),e.k0s(),e.EFF(319,"."),e.k0s(),e.j41(320,"app-copy-button",19)(321,"span",20),e.EFF(322),e.nI1(323,"extension"),e.nrm(324,"app-tabs",null,7),e.k0s(),e.j41(326,"pre")(327,"code",34),e.EFF(328,"\nimport { Reflector } from '@nestjs/core';\n\nexport const Roles = Reflector.createDecorator<string[]>();\n"),e.k0s()()(),e.j41(329,"p"),e.EFF(330,"Le d\xe9corateur "),e.j41(331,"code"),e.EFF(332,"Roles"),e.k0s(),e.EFF(333," est ici une fonction qui prend un seul argument de type "),e.j41(334,"code"),e.EFF(335,"string[]"),e.k0s(),e.EFF(336,"."),e.k0s(),e.j41(337,"p"),e.EFF(338,"Maintenant, pour utiliser ce d\xe9corateur, nous annotons simplement le handler avec lui :"),e.k0s(),e.j41(339,"app-copy-button",19)(340,"span",20),e.EFF(341),e.nI1(342,"extension"),e.nrm(343,"app-tabs",null,8),e.k0s(),e.j41(345,"pre")(346,"code",21),e.EFF(347,"\n@Post()\n@Roles(['admin'])\nasync create(@Body() createCatDto: CreateCatDto) {\n  this.catsService.create(createCatDto);\n}\n"),e.k0s()(),e.j41(348,"pre")(349,"code",21),e.EFF(350,"\n@Post()\n@Roles(['admin'])\n@Bind(Body())\nasync create(createCatDto) {\n  this.catsService.create(createCatDto);\n}\n"),e.k0s()()(),e.j41(351,"p"),e.EFF(352,"Ici, nous avons attach\xe9 les m\xe9tadonn\xe9es du d\xe9corateur "),e.j41(353,"code"),e.EFF(354,"Roles"),e.k0s(),e.EFF(355," \xe0 la m\xe9thode "),e.j41(356,"code"),e.EFF(357,"create()"),e.k0s(),e.EFF(358,", indiquant que seuls les utilisateurs ayant le r\xf4le "),e.j41(359,"code"),e.EFF(360,"admin"),e.k0s(),e.EFF(361," devraient \xeatre autoris\xe9s \xe0 acc\xe9der \xe0 cette route."),e.k0s(),e.j41(362,"p"),e.EFF(363,"Alternativement, au lieu d'utiliser la m\xe9thode "),e.j41(364,"code"),e.EFF(365,"Reflector#createDecorator"),e.k0s(),e.EFF(366,", nous pourrions utiliser le d\xe9corateur int\xe9gr\xe9 "),e.j41(367,"code"),e.EFF(368,"@SetMetadata()"),e.k0s(),e.EFF(369,". En savoir plus "),e.j41(370,"a",35),e.EFF(371,"ici"),e.k0s(),e.EFF(372,"."),e.k0s(),e.j41(373,"h4",36)(374,"span"),e.EFF(375,"Mettre en place l'ensemble"),e.k0s()(),e.j41(376,"p"),e.EFF(377,"Revenons maintenant en arri\xe8re et lions cela \xe0 notre "),e.j41(378,"code"),e.EFF(379,"RolesGuard"),e.k0s(),e.EFF(380,". Actuellement, il retourne simplement "),e.j41(381,"code"),e.EFF(382,"true"),e.k0s(),e.EFF(383," dans tous les cas, permettant \xe0 toutes les requ\xeates d'\xeatre trait\xe9es. Nous voulons rendre la valeur de retour conditionnelle en comparant les "),e.j41(384,"strong"),e.EFF(385,"r\xf4les assign\xe9s \xe0 l'utilisateur actuel"),e.k0s(),e.EFF(386," aux r\xf4les r\xe9els requis par la route en cours de traitement. Afin d'acc\xe9der au(x) r\xf4le(s) de la route (m\xe9tadonn\xe9es personnalis\xe9es), nous allons utiliser la classe d'aide "),e.j41(387,"code"),e.EFF(388,"Reflector"),e.k0s(),e.EFF(389," \xe0 nouveau, comme pr\xe9sent\xe9 ci-dessous :"),e.k0s(),e.j41(390,"app-copy-button",19)(391,"span",20),e.EFF(392),e.nI1(393,"extension"),e.nrm(394,"app-tabs",null,9),e.k0s(),e.j41(396,"pre")(397,"code",21),e.EFF(398,"\nimport { Injectable, CanActivate, ExecutionContext } from '@nestjs/common';\nimport { Reflector } from '@nestjs/core';\nimport { Roles } from './roles.decorator';\n\n@Injectable()\nexport class RolesGuard implements CanActivate {\n  constructor(private reflector: Reflector) {}\n\n  canActivate(context: ExecutionContext): boolean {\n    const roles = this.reflector.get<Roles, context.getHandler());\n    if (!roles) {\n      return true;\n    }\n    const request = context.switchToHttp().getRequest();\n    const user = request.user;\n    return matchRoles(roles, user.roles);\n  }\n}\n"),e.k0s()(),e.j41(399,"pre")(400,"code",21),e.EFF(401,"\nimport { Injectable, Dependencies } from '@nestjs/common';\nimport { Reflector } from '@nestjs/core';\nimport { Roles } from './roles.decorator';\n\n@Injectable()\n@Dependencies(Reflector)\nexport class RolesGuard {\n  constructor(reflector) {\n    this.reflector = reflector;\n  }\n\n  canActivate(context) {\n    const roles = this.reflector.get(Roles, context.getHandler());\n    if (!roles) {\n      return true;\n    }\n    const request = context.switchToHttp().getRequest();\n    const user = request.user;\n    return matchRoles(roles, user.roles);\n  }\n}\n"),e.k0s()()(),e.j41(402,"blockquote",17)(403,"strong"),e.EFF(404,"Astuce"),e.k0s(),e.EFF(405," Dans le monde de node.js, il est courant d'attacher l'utilisateur autoris\xe9 \xe0 l'objet "),e.j41(406,"code"),e.EFF(407,"request"),e.k0s(),e.EFF(408,". Ainsi, dans notre exemple de code ci-dessus, nous supposons que "),e.j41(409,"code"),e.EFF(410,"request.user"),e.k0s(),e.EFF(411," contient l'instance de l'utilisateur et les r\xf4les autoris\xe9s. Dans votre application, vous ferez probablement cette association dans votre "),e.j41(412,"strong"),e.EFF(413,"garde d'authentification"),e.k0s(),e.EFF(414," (ou middleware). Consultez "),e.j41(415,"a",22),e.EFF(416,"ce chapitre"),e.k0s(),e.EFF(417," pour plus d'informations sur ce sujet.\n"),e.k0s(),e.j41(418,"blockquote",29)(419,"strong"),e.EFF(420,"Attention"),e.k0s(),e.EFF(421," La logique \xe0 l'int\xe9rieur de la fonction "),e.j41(422,"code"),e.EFF(423,"matchRoles()"),e.k0s(),e.EFF(424," peut \xeatre aussi simple ou sophistiqu\xe9e que n\xe9cessaire. Le but principal de cet exemple est de montrer comment les gardes s'int\xe8grent dans le cycle requ\xeate/r\xe9ponse.\n"),e.k0s(),e.j41(425,"p"),e.EFF(426,"R\xe9f\xe9rez-vous \xe0 la section "),e.j41(427,"a",37),e.EFF(428,"Reflection et m\xe9tadonn\xe9es"),e.k0s(),e.EFF(429," du chapitre "),e.j41(430,"strong"),e.EFF(431,"Contexte d'ex\xe9cution"),e.k0s(),e.EFF(432," pour plus de d\xe9tails sur l'utilisation de "),e.j41(433,"code"),e.EFF(434,"Reflector"),e.k0s(),e.EFF(435," en fonction du contexte."),e.k0s(),e.j41(436,"p"),e.EFF(437,"Lorsqu'un utilisateur ne disposant pas de privil\xe8ges suffisants effectue une requ\xeate sur un point de terminaison, Nest renvoie automatiquement la r\xe9ponse suivante :"),e.k0s(),e.j41(438,"app-copy-button")(439,"pre")(440,"code",21),e.EFF(441,'\n{\n  "statusCode": 403,\n  "message": "Forbidden resource",\n  "error": "Forbidden"\n}\n'),e.k0s()()(),e.j41(442,"p"),e.EFF(443,"Notez que dans les coulisses, quand une garde retourne "),e.j41(444,"code"),e.EFF(445,"false"),e.k0s(),e.EFF(446,", le framework lance une "),e.j41(447,"code"),e.EFF(448,"ForbiddenException"),e.k0s(),e.EFF(449,". Si vous voulez retourner une r\xe9ponse d'erreur diff\xe9rente, vous devez lancer votre propre exception. Par exemple :"),e.k0s(),e.j41(450,"app-copy-button")(451,"pre")(452,"code",21),e.EFF(453,"\nthrow new UnauthorizedException();\n"),e.k0s()()(),e.j41(454,"p"),e.EFF(455,"Toute exception lev\xe9e par une garde sera trait\xe9e par la "),e.j41(456,"a",38),e.EFF(457,"couche d'exceptions"),e.k0s(),e.EFF(458," (filtre d'exceptions global et tous les filtres d'exceptions appliqu\xe9s au contexte actuel)."),e.k0s(),e.j41(459,"blockquote",17)(460,"strong"),e.EFF(461,"Astuce"),e.k0s(),e.EFF(462," Si vous cherchez un exemple concret de mise en \u0153uvre de l'autorisation, consultez "),e.j41(463,"a",23),e.EFF(464,"ce chapitre"),e.k0s(),e.EFF(465,".\n"),e.k0s()()),2&c){const b=e.sdS(71),A=e.sdS(172),l=e.sdS(261),m=e.sdS(325),p=e.sdS(344),E=e.sdS(395);e.R7$(68),e.SpI(" ",e.i5U(69,22,"auth.guard",b.isJsActive),"\n"),e.R7$(4),e.AVh("hide",b.isJsActive),e.R7$(3),e.AVh("hide",!b.isJsActive),e.R7$(94),e.SpI(" ",e.i5U(170,25,"roles.guard",A.isJsActive),"\n"),e.R7$(4),e.AVh("hide",A.isJsActive),e.R7$(3),e.AVh("hide",!A.isJsActive),e.R7$(82),e.SpI(" ",e.i5U(259,28,"app.module",l.isJsActive),"\n"),e.R7$(64),e.SpI(" ",e.i5U(323,31,"roles.decorator",m.isJsActive),"\n"),e.R7$(19),e.SpI(" ",e.i5U(342,34,"cats.controller",p.isJsActive),"\n"),e.R7$(4),e.AVh("hide",p.isJsActive),e.R7$(3),e.AVh("hide",!p.isJsActive),e.R7$(44),e.SpI(" ",e.i5U(393,37,"roles.guard",E.isJsActive),"\n"),e.R7$(4),e.AVh("hide",E.isJsActive),e.R7$(3),e.AVh("hide",!E.isJsActive)}},dependencies:[mt.Wk,zn.O,Ln.a,Ro.d,Qn.z,Zn.M],encapsulation:2,changeDetection:0})}return y})(),data:{title:"Gardes"}},{path:"exception-filters",component:et,data:{title:"Filtres d'exception"}},{path:"interceptors",component:(()=>{class y extends Xe.y{static \u0275fac=(()=>{let a;return function(f){return(a||(a=e.xGo(y)))(f||y)}})();static \u0275cmp=e.VBU({type:y,selectors:[["app-interceptors"]],features:[e.Vt3],decls:505,vars:56,consts:[["contentReference",""],["appc39488908771b95c3f13ba101dedccd0c552a331",""],["app3f918b3938f479bbb102cc1b456a82ed6b28b7f3",""],["app59dbd42f25695123c197cf100c58d2b929e406ac",""],["appc68acf72f2994247d9c4b61424b54e696b743cf7",""],["appd43ac0fb4d061746bb571666a6f9c206558355ea",""],["app4370a855c5ccd0c348bad09b7ab1041b296d3105",""],["app0aa62fd71d9690776756b89e16f4951f9a7bb337",""],["app100879b542c225ae405428e08ba1da7cb5bbb1c5",""],["app1d18a42217949e46062c87e4796431ab0f2a00e8",""],[1,"content"],[1,"github-links"],["href","https://github.com/Lou8is/docs.nestjs.fr/edit/main/content/interceptors.md","aria-label","Proposer des modifications","title","Proposer des modifications"],[1,"fas","fa-edit"],["id","intercepteurs"],["src","/assets/Interceptors_1.png",1,"illustrative-image"],["rel","nofollow","target","_blank","href","https://en.wikipedia.org/wiki/Aspect-oriented_programming"],["appAnchor","","id","principes-de-base"],["routerLink","/guards"],["href","/exception-filters#argumentshost"],["appAnchor","","id","contexte-dex\xe9cution"],["routerLink","/fundamentals/execution-context"],["appAnchor","","id","gestionnaire-dappels"],["rel","nofollow","target","_blank","href","https://github.com/ReactiveX/rxjs"],["rel","nofollow","target","_blank","href","https://en.wikipedia.org/wiki/Pointcut"],["appAnchor","","id","interception-des-aspects"],[1,"with-heading"],[1,"filename"],[1,"language-typescript"],[1,"info"],[1,"warning"],["appAnchor","","id","liaison-des-intercepteurs"],["routerLink","/pipes"],["routerLink","/fundamentals/custom-providers"],["appAnchor","","id","mappage-des-r\xe9ponses"],[1,"language-json"],["appAnchor","","id","mappage-dexception"],["appAnchor","","id","remplacement-dun-flux"],["appAnchor","","id","autres-op\xe9rateurs"]],template:function(c,f){if(1&c&&(e.j41(0,"div",10,0)(2,"div",11)(3,"a",12),e.nrm(4,"i",13),e.k0s()(),e.j41(5,"h3",14),e.EFF(6,"Intercepteurs"),e.k0s(),e.j41(7,"p"),e.EFF(8,"Un intercepteur est une classe annot\xe9e avec le d\xe9corateur "),e.j41(9,"code"),e.EFF(10,"@Injectable()"),e.k0s(),e.EFF(11," et impl\xe9mentant l'interface "),e.j41(12,"code"),e.EFF(13,"NestInterceptor"),e.k0s(),e.EFF(14,"."),e.k0s(),e.j41(15,"figure"),e.nrm(16,"img",15),e.k0s(),e.j41(17,"p"),e.EFF(18,"Les intercepteurs disposent d'un ensemble de fonctionnalit\xe9s utiles qui s'inspirent de la "),e.j41(19,"a",16),e.EFF(20,"Programmation Orient\xe9e Aspect"),e.k0s(),e.EFF(21," (POA). Ils permettent de :"),e.k0s(),e.j41(22,"ul")(23,"li"),e.EFF(24,"lier une logique suppl\xe9mentaire avant/apr\xe8s l'ex\xe9cution de la m\xe9thode"),e.k0s(),e.j41(25,"li"),e.EFF(26,"transformer le r\xe9sultat renvoy\xe9 par une fonction"),e.k0s(),e.j41(27,"li"),e.EFF(28,"transformer l'exception lanc\xe9e par une fonction"),e.k0s(),e.j41(29,"li"),e.EFF(30,"\xe9tendre le comportement de base d'une fonction"),e.k0s(),e.j41(31,"li"),e.EFF(32,"remplacer compl\xe8tement une fonction en fonction de conditions sp\xe9cifiques (par exemple, \xe0 des fins de mise en cache)"),e.k0s()(),e.j41(33,"h4",17)(34,"span"),e.EFF(35,"Principes de base"),e.k0s()(),e.j41(36,"p"),e.EFF(37,"Chaque intercepteur impl\xe9mente la m\xe9thode "),e.j41(38,"code"),e.EFF(39,"intercept()"),e.k0s(),e.EFF(40,", qui prend deux arguments. Le premier est l'instance "),e.j41(41,"code"),e.EFF(42,"ExecutionContext"),e.k0s(),e.EFF(43," (exactement le m\xeame objet que pour "),e.j41(44,"a",18),e.EFF(45,"les gardes"),e.k0s(),e.EFF(46,"). Le "),e.j41(47,"code"),e.EFF(48,"ExecutionContext"),e.k0s(),e.EFF(49," h\xe9rite de "),e.j41(50,"code"),e.EFF(51,"ArgumentsHost"),e.k0s(),e.EFF(52,". Nous avons d\xe9j\xe0 vu "),e.j41(53,"code"),e.EFF(54,"ArgumentsHost"),e.k0s(),e.EFF(55," dans le chapitre sur les filtres d'exception. L\xe0, nous avons vu que c'est une enveloppe autour des arguments qui ont \xe9t\xe9 pass\xe9s au gestionnaire original, et qui contient diff\xe9rentes listes d'arguments bas\xe9es sur le type de l'application. Vous pouvez vous r\xe9f\xe9rer aux "),e.j41(56,"a",19),e.EFF(57,"filtres d'exception"),e.k0s(),e.EFF(58," pour plus d'informations sur ce sujet."),e.k0s(),e.j41(59,"h4",20)(60,"span"),e.EFF(61,"Contexte d'ex\xe9cution"),e.k0s()(),e.j41(62,"p"),e.EFF(63,"En \xe9tendant "),e.j41(64,"code"),e.EFF(65,"ArgumentsHost"),e.k0s(),e.EFF(66,", "),e.j41(67,"code"),e.EFF(68,"ExecutionContext"),e.k0s(),e.EFF(69," ajoute \xe9galement plusieurs nouvelles m\xe9thodes d'aide qui fournissent des d\xe9tails suppl\xe9mentaires sur le processus d'ex\xe9cution en cours. Ces d\xe9tails peuvent \xeatre utiles pour construire des intercepteurs plus g\xe9n\xe9riques qui peuvent fonctionner \xe0 travers un large ensemble de contr\xf4leurs, de m\xe9thodes et de contextes d'ex\xe9cution. En savoir plus sur "),e.j41(70,"code"),e.EFF(71,"ExecutionContext"),e.k0s(),e.j41(72,"a",21),e.EFF(73,"ici"),e.k0s(),e.EFF(74,"."),e.k0s(),e.j41(75,"h4",22)(76,"span"),e.EFF(77,"Gestionnaire d'appels"),e.k0s()(),e.j41(78,"p"),e.EFF(79,"Le second argument est un "),e.j41(80,"code"),e.EFF(81,"CallHandler"),e.k0s(),e.EFF(82,". L'interface "),e.j41(83,"code"),e.EFF(84,"CallHandler"),e.k0s(),e.EFF(85," impl\xe9mente la m\xe9thode "),e.j41(86,"code"),e.EFF(87,"handle()"),e.k0s(),e.EFF(88,", que vous pouvez utiliser pour invoquer une m\xe9thode de gestionnaire de route \xe0 un moment donn\xe9 dans votre intercepteur. Si vous n'appelez pas la m\xe9thode "),e.j41(89,"code"),e.EFF(90,"handle()"),e.k0s(),e.EFF(91," dans votre impl\xe9mentation de la m\xe9thode "),e.j41(92,"code"),e.EFF(93,"intercept()"),e.k0s(),e.EFF(94,", la m\xe9thode du gestionnaire de route ne sera pas ex\xe9cut\xe9e du tout."),e.k0s(),e.j41(95,"p"),e.EFF(96,"Cette approche signifie que la m\xe9thode "),e.j41(97,"code"),e.EFF(98,"intercept()"),e.k0s(),e.j41(99,"strong"),e.EFF(100,"enveloppe"),e.k0s(),e.EFF(101," effectivement le flux de requ\xeate/r\xe9ponse. Par cons\xe9quent, vous pouvez impl\xe9menter une logique personnalis\xe9e "),e.j41(102,"strong"),e.EFF(103,"avant et apr\xe8s"),e.k0s(),e.EFF(104," l'ex\xe9cution du gestionnaire de route final. Il est clair que vous pouvez \xe9crire du code dans votre m\xe9thode "),e.j41(105,"code"),e.EFF(106,"intercept()"),e.k0s(),e.EFF(107," qui s'ex\xe9cute "),e.j41(108,"strong"),e.EFF(109,"avant"),e.k0s(),e.EFF(110," d'appeler "),e.j41(111,"code"),e.EFF(112,"handle()"),e.k0s(),e.EFF(113,", mais comment affecter ce qui se passe apr\xe8s ? Parce que la m\xe9thode "),e.j41(114,"code"),e.EFF(115,"handle()"),e.k0s(),e.EFF(116," retourne un "),e.j41(117,"code"),e.EFF(118,"Observable"),e.k0s(),e.EFF(119,", nous pouvons utiliser les puissants op\xe9rateurs "),e.j41(120,"a",23),e.EFF(121,"RxJS"),e.k0s(),e.EFF(122," pour manipuler davantage la r\xe9ponse. En utilisant la terminologie de la Programmation Orient\xe9e Aspect, l'invocation du gestionnaire de route (c'est-\xe0-dire l'appel de "),e.j41(123,"code"),e.EFF(124,"handle()"),e.k0s(),e.EFF(125,") est appel\xe9 un "),e.j41(126,"a",24),e.EFF(127,"Pointcut"),e.k0s(),e.EFF(128,", indiquant que c'est le point o\xf9 notre logique additionnelle est ins\xe9r\xe9e."),e.k0s(),e.j41(129,"p"),e.EFF(130,"Consid\xe9rons, par exemple, une requ\xeate "),e.j41(131,"code"),e.EFF(132,"POST /cats"),e.k0s(),e.EFF(133," entrante. Cette requ\xeate est destin\xe9e au gestionnaire "),e.j41(134,"code"),e.EFF(135,"create()"),e.k0s(),e.EFF(136," d\xe9fini dans le "),e.j41(137,"code"),e.EFF(138,"CatsController"),e.k0s(),e.EFF(139,". Si un intercepteur qui n'appelle pas la m\xe9thode "),e.j41(140,"code"),e.EFF(141,"handle()"),e.k0s(),e.EFF(142," est appel\xe9 n'importe o\xf9 sur le chemin, la m\xe9thode "),e.j41(143,"code"),e.EFF(144,"create()"),e.k0s(),e.EFF(145," ne sera pas ex\xe9cut\xe9e. Une fois que "),e.j41(146,"code"),e.EFF(147,"handle()"),e.k0s(),e.EFF(148," est appel\xe9e (et que son "),e.j41(149,"code"),e.EFF(150,"Observable"),e.k0s(),e.EFF(151," a \xe9t\xe9 retourn\xe9), le gestionnaire "),e.j41(152,"code"),e.EFF(153,"create()"),e.k0s(),e.EFF(154," sera d\xe9clench\xe9. Et une fois que le flux de r\xe9ponse est re\xe7u par l'interm\xe9diaire de l'observable, des op\xe9rations suppl\xe9mentaires peuvent \xeatre effectu\xe9es sur le flux, et un r\xe9sultat final renvoy\xe9 \xe0 l'appelant."),e.k0s(),e.j41(155,"p"),e.nrm(156,"app-banner-devtools"),e.k0s(),e.j41(157,"h4",25)(158,"span"),e.EFF(159,"Interception des aspects"),e.k0s()(),e.j41(160,"p"),e.EFF(161,"Le premier cas d'utilisation que nous allons examiner est l'utilisation d'un intercepteur pour enregistrer l'interaction de l'utilisateur (par exemple, stocker les appels de l'utilisateur, envoyer des \xe9v\xe9nements de mani\xe8re asynchrone ou calculer un horodatage). Nous montrons ci-dessous un simple "),e.j41(162,"code"),e.EFF(163,"LoggingInterceptor"),e.k0s(),e.EFF(164," :"),e.k0s(),e.j41(165,"app-copy-button",26)(166,"span",27),e.EFF(167),e.nI1(168,"extension"),e.nrm(169,"app-tabs",null,1),e.k0s(),e.j41(171,"pre")(172,"code",28),e.EFF(173,"\nimport { Injectable, NestInterceptor, ExecutionContext, CallHandler } from '@nestjs/common';\nimport { Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\n\n@Injectable()\nexport class LoggingInterceptor implements NestInterceptor {\n  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {\n    console.log('Before...');\n\n    const now = Date.now();\n    return next\n      .handle()\n      .pipe(\n        tap(() => console.log(`After... ${Date.now() - now}ms`)),\n      );\n  }\n}\n"),e.k0s()(),e.j41(174,"pre")(175,"code",28),e.EFF(176,"\nimport { Injectable } from '@nestjs/common';\nimport { Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\n\n@Injectable()\nexport class LoggingInterceptor {\n  intercept(context, next) {\n    console.log('Before...');\n\n    const now = Date.now();\n    return next\n      .handle()\n      .pipe(\n        tap(() => console.log(`After... ${Date.now() - now}ms`)),\n      );\n  }\n}\n"),e.k0s()()(),e.j41(177,"blockquote",29)(178,"strong"),e.EFF(179,"Astuce"),e.k0s(),e.j41(180,"code"),e.EFF(181,"NestInterceptor<T, R>"),e.k0s(),e.EFF(182," est une interface g\xe9n\xe9rique dans laquelle "),e.j41(183,"code"),e.EFF(184,"T"),e.k0s(),e.EFF(185," indique le type d'un "),e.j41(186,"code"),e.EFF(187,"Observable<T>"),e.k0s(),e.EFF(188," (supportant le flux de r\xe9ponse), et "),e.j41(189,"code"),e.EFF(190,"R"),e.k0s(),e.EFF(191," est le type de la valeur envelopp\xe9e par "),e.j41(192,"code"),e.EFF(193,"Observable<R>"),e.k0s(),e.EFF(194,".\n"),e.k0s(),e.j41(195,"blockquote",30)(196,"strong"),e.EFF(197,"Remarque"),e.k0s(),e.EFF(198," Les intercepteurs, comme les contr\xf4leurs, les fournisseurs, les gardes, et ainsi de suite, peuvent "),e.j41(199,"strong"),e.EFF(200,"injecter des d\xe9pendances"),e.k0s(),e.EFF(201," \xe0 travers leur constructeur ("),e.j41(202,"code"),e.EFF(203,"constructor"),e.k0s(),e.EFF(204,").\n"),e.k0s(),e.j41(205,"p"),e.EFF(206,"Puisque "),e.j41(207,"code"),e.EFF(208,"handle()"),e.k0s(),e.EFF(209," renvoie un "),e.j41(210,"code"),e.EFF(211,"Observable"),e.k0s(),e.EFF(212," RxJS, nous avons un large choix d'op\xe9rateurs que nous pouvons utiliser pour manipuler le flux. Dans l'exemple ci-dessus, nous avons utilis\xe9 l'op\xe9rateur "),e.j41(213,"code"),e.EFF(214,"tap()"),e.k0s(),e.EFF(215,", qui invoque notre fonction de journalisation anonyme en cas de fin gracieuse ou exceptionnelle du flux observable, mais qui n'interf\xe8re pas autrement avec le cycle de r\xe9ponse."),e.k0s(),e.j41(216,"h4",31)(217,"span"),e.EFF(218,"Liaison des intercepteurs"),e.k0s()(),e.j41(219,"p"),e.EFF(220,"Afin de mettre en place l'intercepteur, nous utilisons le d\xe9corateur "),e.j41(221,"code"),e.EFF(222,"@UseInterceptors()"),e.k0s(),e.EFF(223," import\xe9 du package "),e.j41(224,"code"),e.EFF(225,"@nestjs/common"),e.k0s(),e.EFF(226,". Comme pour les "),e.j41(227,"a",32),e.EFF(228,"pipes"),e.k0s(),e.EFF(229," et les "),e.j41(230,"a",18),e.EFF(231,"gardes"),e.k0s(),e.EFF(232,", les intercepteurs peuvent \xeatre \xe0 l'\xe9chelle du contr\xf4leur, \xe0 l'\xe9chelle de la m\xe9thode ou \xe0 l'\xe9chelle globale."),e.k0s(),e.j41(233,"app-copy-button",26)(234,"span",27),e.EFF(235),e.nI1(236,"extension"),e.nrm(237,"app-tabs",null,2),e.k0s(),e.j41(239,"pre")(240,"code",28),e.EFF(241,"\n@UseInterceptors(LoggingInterceptor)\nexport class CatsController {}\n"),e.k0s()()(),e.j41(242,"blockquote",29)(243,"strong"),e.EFF(244,"Astuce"),e.k0s(),e.EFF(245," Le d\xe9corateur "),e.j41(246,"code"),e.EFF(247,"@UseInterceptors()"),e.k0s(),e.EFF(248," est import\xe9 du package "),e.j41(249,"code"),e.EFF(250,"@nestjs/common"),e.k0s(),e.EFF(251,".\n"),e.k0s(),e.j41(252,"p"),e.EFF(253,"En utilisant la construction ci-dessus, chaque gestionnaire de route d\xe9fini dans "),e.j41(254,"code"),e.EFF(255,"CatsController"),e.k0s(),e.EFF(256," utilisera "),e.j41(257,"code"),e.EFF(258,"LoggingInterceptor"),e.k0s(),e.EFF(259,". Quand quelqu'un appelle le point de terminaison "),e.j41(260,"code"),e.EFF(261,"GET /cats"),e.k0s(),e.EFF(262,", vous verrez la sortie suivante dans votre sortie standard :"),e.k0s(),e.j41(263,"app-copy-button")(264,"pre")(265,"code",28),e.EFF(266,"\nBefore...\nAfter... 1ms\n"),e.k0s()()(),e.j41(267,"p"),e.EFF(268,"Notez que nous avons pass\xe9 la classe "),e.j41(269,"code"),e.EFF(270,"LoggingInterceptor"),e.k0s(),e.EFF(271," (au lieu d'une instance), laissant la responsabilit\xe9 de l'instanciation au framework et permettant l'injection de d\xe9pendance. Comme pour les pipes, les gardes et les filtres d'exception, nous pouvons \xe9galement passer une instance :"),e.k0s(),e.j41(272,"app-copy-button",26)(273,"span",27),e.EFF(274),e.nI1(275,"extension"),e.nrm(276,"app-tabs",null,3),e.k0s(),e.j41(278,"pre")(279,"code",28),e.EFF(280,"\n@UseInterceptors(new LoggingInterceptor())\nexport class CatsController {}\n"),e.k0s()()(),e.j41(281,"p"),e.EFF(282,"Comme mentionn\xe9, la construction ci-dessus attache l'intercepteur \xe0 chaque handler d\xe9clar\xe9 par ce contr\xf4leur. Si nous voulons restreindre la port\xe9e de l'intercepteur \xe0 une seule m\xe9thode, nous appliquons simplement le d\xe9corateur "),e.j41(283,"strong"),e.EFF(284,"au niveau de la m\xe9thode"),e.k0s(),e.EFF(285,"."),e.k0s(),e.j41(286,"p"),e.EFF(287,"Pour mettre en place un intercepteur global, nous utilisons la m\xe9thode "),e.j41(288,"code"),e.EFF(289,"useGlobalInterceptors()"),e.k0s(),e.EFF(290," de l'instance de l'application Nest :"),e.k0s(),e.j41(291,"app-copy-button")(292,"pre")(293,"code",28),e.EFF(294,"\nconst app = await NestFactory.create(AppModule);\napp.useGlobalInterceptors(new LoggingInterceptor());\n"),e.k0s()()(),e.j41(295,"p"),e.EFF(296,"Les intercepteurs globaux sont utilis\xe9s dans toute l'application, pour chaque contr\xf4leur et chaque gestionnaire de route. En termes d'injection de d\xe9pendances, les intercepteurs globaux enregistr\xe9s en dehors de tout module (avec "),e.j41(297,"code"),e.EFF(298,"useGlobalInterceptors()"),e.k0s(),e.EFF(299,", comme dans l'exemple ci-dessus) ne peuvent pas injecter de d\xe9pendances puisque cela est fait en dehors du contexte de tout module. Afin de r\xe9soudre ce probl\xe8me, vous pouvez mettre en place un intercepteur "),e.j41(300,"strong"),e.EFF(301,"directement depuis n'importe quel module"),e.k0s(),e.EFF(302," en utilisant la construction suivante :"),e.k0s(),e.j41(303,"app-copy-button",26)(304,"span",27),e.EFF(305),e.nI1(306,"extension"),e.nrm(307,"app-tabs",null,4),e.k0s(),e.j41(309,"pre")(310,"code",28),e.EFF(311,"\nimport { Module } from '@nestjs/common';\nimport { APP_INTERCEPTOR } from '@nestjs/core';\n\n@Module({\n  providers: [\n    {\n      provide: APP_INTERCEPTOR,\n      useClass: LoggingInterceptor,\n    },\n  ],\n})\nexport class AppModule {}\n"),e.k0s()()(),e.j41(312,"blockquote",29)(313,"strong"),e.EFF(314,"Astuce"),e.k0s(),e.EFF(315," Lorsque vous utilisez cette approche pour r\xe9aliser l'injection de d\xe9pendances pour l'intercepteur, notez que, quel que soit le module dans lequel cette construction est employ\xe9e, l'intercepteur est, en fait, global. O\xf9 cela doit-il \xeatre fait ? Choisissez le module o\xf9 l'intercepteur ("),e.j41(316,"code"),e.EFF(317,"LoggingInterceptor"),e.k0s(),e.EFF(318," dans l'exemple ci-dessus) est d\xe9fini. De plus, "),e.j41(319,"code"),e.EFF(320,"useClass"),e.k0s(),e.EFF(321," n'est pas la seule fa\xe7on de g\xe9rer l'enregistrement de fournisseurs personnalis\xe9s. Apprenez-en plus "),e.j41(322,"a",33),e.EFF(323,"ici"),e.k0s(),e.EFF(324,".\n"),e.k0s(),e.j41(325,"h4",34)(326,"span"),e.EFF(327,"Mappage des r\xe9ponses"),e.k0s()(),e.j41(328,"p"),e.EFF(329,"Nous savons d\xe9j\xe0 que "),e.j41(330,"code"),e.EFF(331,"handle()"),e.k0s(),e.EFF(332," retourne un "),e.j41(333,"code"),e.EFF(334,"Observable"),e.k0s(),e.EFF(335,". Le flux contient la valeur "),e.j41(336,"strong"),e.EFF(337,"retourn\xe9e"),e.k0s(),e.EFF(338," par le gestionnaire de route, et nous pouvons donc facilement le modifier en utilisant l'op\xe9rateur "),e.j41(339,"code"),e.EFF(340,"map()"),e.k0s(),e.EFF(341," de RxJS."),e.k0s(),e.j41(342,"blockquote",30)(343,"strong"),e.EFF(344,"Attention"),e.k0s(),e.EFF(345," La fonction de mappage des r\xe9ponses ne fonctionne pas avec la strat\xe9gie de r\xe9ponse sp\xe9cifique \xe0 la biblioth\xe8que (l'utilisation directe de l'objet "),e.j41(346,"code"),e.EFF(347,"@Res()"),e.k0s(),e.EFF(348," est interdite).\n"),e.k0s(),e.j41(349,"p"),e.EFF(350,"Cr\xe9ons le "),e.j41(351,"code"),e.EFF(352,"TransformInterceptor"),e.k0s(),e.EFF(353,", qui va modifier chaque r\xe9ponse d'une mani\xe8re triviale pour d\xe9montrer le processus. Il utilisera l'op\xe9rateur "),e.j41(354,"code"),e.EFF(355,"map()"),e.k0s(),e.EFF(356," de RxJS pour assigner l'objet de la r\xe9ponse \xe0 la propri\xe9t\xe9 "),e.j41(357,"code"),e.EFF(358,"data"),e.k0s(),e.EFF(359," d'un objet nouvellement cr\xe9\xe9, renvoyant le nouvel objet au client."),e.k0s(),e.j41(360,"app-copy-button",26)(361,"span",27),e.EFF(362),e.nI1(363,"extension"),e.nrm(364,"app-tabs",null,5),e.k0s(),e.j41(366,"pre")(367,"code",28),e.EFF(368,"\nimport { Injectable, NestInterceptor, ExecutionContext, CallHandler } from '@nestjs/common';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nexport interface Response<T> {\n  data: T;\n}\n\n@Injectable()\nexport class TransformInterceptor<T> implements NestInterceptor<T, Response<T>> {\n  intercept(context: ExecutionContext, next: CallHandler): Observable<Response<T>> {\n    return next.handle().pipe(map(data => ({ data })));\n  }\n}\n"),e.k0s()(),e.j41(369,"pre")(370,"code",28),e.EFF(371,"\nimport { Injectable } from '@nestjs/common';\nimport { map } from 'rxjs/operators';\n\n@Injectable()\nexport class TransformInterceptor {\n  intercept(context, next) {\n    return next.handle().pipe(map(data => ({ data })));\n  }\n}\n"),e.k0s()()(),e.j41(372,"blockquote",29)(373,"strong"),e.EFF(374,"Astuce"),e.k0s(),e.EFF(375," Les intercepteurs Nest fonctionnent avec les m\xe9thodes "),e.j41(376,"code"),e.EFF(377,"intercept()"),e.k0s(),e.EFF(378," synchrones et asynchrones. Vous pouvez simplement passer la m\xe9thode \xe0 "),e.j41(379,"code"),e.EFF(380,"async"),e.k0s(),e.EFF(381," si n\xe9cessaire.\n"),e.k0s(),e.j41(382,"p"),e.EFF(383,"Avec la construction ci-dessus, lorsque quelqu'un appelle le endpoint "),e.j41(384,"code"),e.EFF(385,"GET /cats"),e.k0s(),e.EFF(386,", la r\xe9ponse ressemblerait \xe0 ce qui suit (en supposant que le gestionnaire de route renvoie un tableau vide "),e.j41(387,"code"),e.EFF(388,"[]"),e.k0s(),e.EFF(389,") :"),e.k0s(),e.j41(390,"pre")(391,"code",35),e.EFF(392,'\n{\n  "data": []\n}\n'),e.k0s()(),e.j41(393,"p"),e.EFF(394,"Les intercepteurs sont tr\xe8s utiles pour cr\xe9er des solutions r\xe9utilisables \xe0 des besoins qui se manifestent dans l'ensemble d'une application.\nPar exemple, imaginons que nous ayons besoin de transformer chaque occurrence d'une valeur "),e.j41(395,"code"),e.EFF(396,"null"),e.k0s(),e.EFF(397," en une cha\xeene vide "),e.j41(398,"code"),e.EFF(399,"''"),e.k0s(),e.EFF(400,". Nous pouvons le faire en utilisant une ligne de code et lier l'intercepteur globalement afin qu'il soit automatiquement utilis\xe9 par chaque gestionnaire enregistr\xe9."),e.k0s(),e.j41(401,"app-copy-button",26)(402,"span",27),e.nrm(403,"app-tabs",null,6),e.k0s(),e.j41(405,"pre")(406,"code",28),e.EFF(407,"\nimport { Injectable, NestInterceptor, ExecutionContext, CallHandler } from '@nestjs/common';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n@Injectable()\nexport class ExcludeNullInterceptor implements NestInterceptor {\n  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {\n    return next\n      .handle()\n      .pipe(map(value => value === null ? '' : value ));\n  }\n}\n"),e.k0s()(),e.j41(408,"pre")(409,"code",28),e.EFF(410,"\nimport { Injectable } from '@nestjs/common';\nimport { map } from 'rxjs/operators';\n\n@Injectable()\nexport class ExcludeNullInterceptor {\n  intercept(context, next) {\n    return next\n      .handle()\n      .pipe(map(value => value === null ? '' : value ));\n  }\n}\n"),e.k0s()()(),e.j41(411,"h4",36)(412,"span"),e.EFF(413,"Mappage d'exception"),e.k0s()(),e.j41(414,"p"),e.EFF(415,"Un autre cas d'utilisation int\xe9ressant est de profiter de l'op\xe9rateur "),e.j41(416,"code"),e.EFF(417,"catchError()"),e.k0s(),e.EFF(418," de RxJS pour surcharger les exceptions lanc\xe9es :"),e.k0s(),e.j41(419,"app-copy-button",26)(420,"span",27),e.EFF(421),e.nI1(422,"extension"),e.nrm(423,"app-tabs",null,7),e.k0s(),e.j41(425,"pre")(426,"code",28),e.EFF(427,"\nimport {\n  Injectable,\n  NestInterceptor,\n  ExecutionContext,\n  BadGatewayException,\n  CallHandler,\n} from '@nestjs/common';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable()\nexport class ErrorsInterceptor implements NestInterceptor {\n  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {\n    return next\n      .handle()\n      .pipe(\n        catchError(err => throwError(() => new BadGatewayException())),\n      );\n  }\n}\n"),e.k0s()(),e.j41(428,"pre")(429,"code",28),e.EFF(430,"\nimport { Injectable, BadGatewayException } from '@nestjs/common';\nimport { throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable()\nexport class ErrorsInterceptor {\n  intercept(context, next) {\n    return next\n      .handle()\n      .pipe(\n        catchError(err => throwError(() => new BadGatewayException())),\n      );\n  }\n}\n"),e.k0s()()(),e.j41(431,"h4",37)(432,"span"),e.EFF(433,"Remplacement d'un flux"),e.k0s()(),e.j41(434,"p"),e.EFF(435,"Il y a plusieurs raisons pour lesquelles nous pouvons parfois vouloir \xe9viter compl\xe8tement d'appeler le gestionnaire et renvoyer une valeur diff\xe9rente \xe0 la place. Un exemple \xe9vident est la mise en place d'un cache pour am\xe9liorer le temps de r\xe9ponse. Examinons un "),e.j41(436,"strong"),e.EFF(437,"intercepteur de cache"),e.k0s(),e.EFF(438," simple qui renvoie sa r\xe9ponse \xe0 partir d'un cache. Dans un exemple r\xe9aliste, nous voudrions prendre en compte d'autres facteurs comme le TTL, l'invalidation du cache, la taille du cache, etc. Mais cela d\xe9passe le cadre de cette discussion. Nous fournirons ici un exemple de base qui d\xe9montre le concept principal."),e.k0s(),e.j41(439,"app-copy-button",26)(440,"span",27),e.EFF(441),e.nI1(442,"extension"),e.nrm(443,"app-tabs",null,8),e.k0s(),e.j41(445,"pre")(446,"code",28),e.EFF(447,"\nimport { Injectable, NestInterceptor, ExecutionContext, CallHandler } from '@nestjs/common';\nimport { Observable, of } from 'rxjs';\n\n@Injectable()\nexport class CacheInterceptor implements NestInterceptor {\n  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {\n    const isCached = true;\n    if (isCached) {\n      return of([]);\n    }\n    return next.handle();\n  }\n}\n"),e.k0s()(),e.j41(448,"pre")(449,"code",28),e.EFF(450,"\nimport { Injectable } from '@nestjs/common';\nimport { of } from 'rxjs';\n\n@Injectable()\nexport class CacheInterceptor {\n  intercept(context, next) {\n    const isCached = true;\n    if (isCached) {\n      return of([]);\n    }\n    return next.handle();\n  }\n}\n"),e.k0s()()(),e.j41(451,"p"),e.EFF(452,"Notre "),e.j41(453,"code"),e.EFF(454,"CacheInterceptor"),e.k0s(),e.EFF(455," a une variable "),e.j41(456,"code"),e.EFF(457,"isCached"),e.k0s(),e.EFF(458," cod\xe9e en dur et une r\xe9ponse "),e.j41(459,"code"),e.EFF(460,"[]"),e.k0s(),e.EFF(461," cod\xe9e en dur \xe9galement. Le point cl\xe9 \xe0 noter est que nous retournons ici un nouveau flux, cr\xe9\xe9 par l'op\xe9rateur RxJS "),e.j41(462,"code"),e.EFF(463,"of()"),e.k0s(),e.EFF(464,", donc le gestionnaire de route "),e.j41(465,"strong"),e.EFF(466,"ne sera pas appel\xe9"),e.k0s(),e.EFF(467," du tout. Quand quelqu'un appelle un endpoint qui utilise "),e.j41(468,"code"),e.EFF(469,"CacheInterceptor"),e.k0s(),e.EFF(470,", la r\xe9ponse (un tableau vide cod\xe9 en dur) sera retourn\xe9e imm\xe9diatement. Afin de cr\xe9er une solution g\xe9n\xe9rique, vous pouvez tirer parti de "),e.j41(471,"code"),e.EFF(472,"Reflector"),e.k0s(),e.EFF(473," et cr\xe9er un d\xe9corateur personnalis\xe9. Le "),e.j41(474,"code"),e.EFF(475,"Reflector"),e.k0s(),e.EFF(476," est bien d\xe9crit dans le chapitre "),e.j41(477,"a",18),e.EFF(478,"gardes"),e.k0s(),e.EFF(479,"."),e.k0s(),e.j41(480,"h4",38)(481,"span"),e.EFF(482,"Autres op\xe9rateurs"),e.k0s()(),e.j41(483,"p"),e.EFF(484,"La possibilit\xe9 de manipuler le flux \xe0 l'aide d'op\xe9rateurs RxJS nous offre de nombreuses possibilit\xe9s. Consid\xe9rons un autre cas d'utilisation courant. Imaginez que vous souhaitiez g\xe9rer les "),e.j41(485,"strong"),e.EFF(486,"timeouts"),e.k0s(),e.EFF(487," sur les requ\xeates de route. Lorsque votre point d'acc\xe8s ne renvoie rien apr\xe8s un certain temps, vous voulez terminer avec une r\xe9ponse d'erreur. La construction suivante permet de le faire :"),e.k0s(),e.j41(488,"app-copy-button",26)(489,"span",27),e.EFF(490),e.nI1(491,"extension"),e.nrm(492,"app-tabs",null,9),e.k0s(),e.j41(494,"pre")(495,"code",28),e.EFF(496,"\nimport { Injectable, NestInterceptor, ExecutionContext, CallHandler, RequestTimeoutException } from '@nestjs/common';\nimport { Observable, throwError, TimeoutError } from 'rxjs';\nimport { catchError, timeout } from 'rxjs/operators';\n\n@Injectable()\nexport class TimeoutInterceptor implements NestInterceptor {\n  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {\n    return next.handle().pipe(\n      timeout(5000),\n      catchError(err => {\n        if (err instanceof TimeoutError) {\n          return throwError(() => new RequestTimeoutException());\n        }\n        return throwError(() => err);\n      }),\n    );\n  };\n};\n"),e.k0s()(),e.j41(497,"pre")(498,"code",28),e.EFF(499,"\nimport { Injectable, RequestTimeoutException } from '@nestjs/common';\nimport { Observable, throwError, TimeoutError } from 'rxjs';\nimport { catchError, timeout } from 'rxjs/operators';\n\n@Injectable()\nexport class TimeoutInterceptor {\n  intercept(context, next) {\n    return next.handle().pipe(\n      timeout(5000),\n      catchError(err => {\n        if (err instanceof TimeoutError) {\n          return throwError(() => new RequestTimeoutException());\n        }\n        return throwError(() => err);\n      }),\n    );\n  };\n};\n"),e.k0s()()(),e.j41(500,"p"),e.EFF(501,"Apr\xe8s 5 secondes, le traitement de la requ\xeate sera annul\xe9. Vous pouvez \xe9galement ajouter une logique personnalis\xe9e avant de lancer "),e.j41(502,"code"),e.EFF(503,"RequestTimeoutException"),e.k0s(),e.EFF(504," (par exemple, lib\xe9rer des ressources)."),e.k0s()()),2&c){const b=e.sdS(170),A=e.sdS(238),l=e.sdS(277),m=e.sdS(308),p=e.sdS(365),E=e.sdS(404),_=e.sdS(424),x=e.sdS(444),S=e.sdS(493);e.R7$(167),e.SpI(" ",e.i5U(168,32,"logging.interceptor",b.isJsActive),"\n"),e.R7$(4),e.AVh("hide",b.isJsActive),e.R7$(3),e.AVh("hide",!b.isJsActive),e.R7$(61),e.SpI(" ",e.i5U(236,35,"cats.controller",A.isJsActive),"\n"),e.R7$(39),e.SpI(" ",e.i5U(275,38,"cats.controller",l.isJsActive),"\n"),e.R7$(31),e.SpI(" ",e.i5U(306,41,"app.module",m.isJsActive),"\n"),e.R7$(57),e.SpI(" ",e.i5U(363,44,"transform.interceptor",p.isJsActive),"\n"),e.R7$(4),e.AVh("hide",p.isJsActive),e.R7$(3),e.AVh("hide",!p.isJsActive),e.R7$(36),e.AVh("hide",E.isJsActive),e.R7$(3),e.AVh("hide",!E.isJsActive),e.R7$(13),e.SpI(" ",e.i5U(422,47,"errors.interceptor",_.isJsActive),"\n"),e.R7$(4),e.AVh("hide",_.isJsActive),e.R7$(3),e.AVh("hide",!_.isJsActive),e.R7$(13),e.SpI(" ",e.i5U(442,50,"cache.interceptor",x.isJsActive),"\n"),e.R7$(4),e.AVh("hide",x.isJsActive),e.R7$(3),e.AVh("hide",!x.isJsActive),e.R7$(42),e.SpI(" ",e.i5U(491,53,"timeout.interceptor",S.isJsActive),"\n"),e.R7$(4),e.AVh("hide",S.isJsActive),e.R7$(3),e.AVh("hide",!S.isJsActive)}},dependencies:[mt.Wk,zn.O,Ln.a,hs._,Qn.z,Zn.M],encapsulation:2,changeDetection:0})}return y})(),data:{title:"Intercepteurs"}},{path:"custom-decorators",component:Zr,data:{title:"D\xe9corateurs personnalis\xe9s"}},{path:"standalone-applications",component:pn,data:{title:"Applications ind\xe9pendantes"}},{path:"application-context",redirectTo:"standalone-applications"},{path:"discover/companies",component:Po,data:{title:"D\xe9couvrir - Qui utilise Nest ?"}},{path:"migration-guide",component:(()=>{class y extends Xe.y{static \u0275fac=(()=>{let a;return function(f){return(a||(a=e.xGo(y)))(f||y)}})();static \u0275cmp=e.VBU({type:y,selectors:[["app-migration"]],features:[e.Vt3],decls:109,vars:0,consts:[["contentReference",""],[1,"content"],[1,"github-links"],["href","https://github.com/Lou8is/docs.nestjs.fr/edit/main/content/migration.md","aria-label","Proposer des modifications","title","Proposer des modifications"],[1,"fas","fa-edit"],["id","guide-de-migration"],["rel","nofollow","target","_blank","href","https://trilon.io/blog/nestjs-10-is-now-available"],["rel","nofollow","target","_blank","href","https://github.com/nestjs/nest/releases/tag/v10.0.0"],["appAnchor","","id","mise-\xe0-jour-des-packages"],["rel","nofollow","target","_blank","href","https://npmjs.com/package/npm-check-updates"],["appAnchor","","id","module-de-cache"],["routerLink","/techniques/caching"],["appAnchor","","id","niveaux-de-journalisation"],["rel","nofollow","target","_blank","href","https://github.com/nestjs/nest/pull/11036/files"],["appAnchor","","id","d\xe9pr\xe9ciations"],["appAnchor","","id","plugins-cli-et-typescript--48"],["rel","nofollow","target","_blank","href","https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-8.html#decorators-are-placed-on-modifiers-on-typescripts-syntax-trees"],["appAnchor","","id","abandon-du-support-de-nodejs-v12"],["rel","nofollow","target","_blank","href","https://twitter.com/nodejs/status/1524081123579596800"]],template:function(c,f){1&c&&(e.j41(0,"div",1,0)(2,"div",2)(3,"a",3),e.nrm(4,"i",4),e.k0s()(),e.j41(5,"h3",5),e.EFF(6,"Guide de migration"),e.k0s(),e.j41(7,"p"),e.EFF(8,"Cet article fournit un ensemble de lignes directrices pour la migration de la version 9 de Nest vers la version 10.\nPour en savoir plus sur les nouvelles fonctionnalit\xe9s de la version 10, consultez cet "),e.j41(9,"a",6),e.EFF(10,"article"),e.k0s(),e.EFF(11,".\nIl y a eu quelques changements tr\xe8s mineurs qui ne devraient pas affecter la plupart des utilisateurs - vous pouvez en trouver la liste compl\xe8te "),e.j41(12,"a",7),e.EFF(13,"ici"),e.k0s(),e.EFF(14,"."),e.k0s(),e.j41(15,"h4",8)(16,"span"),e.EFF(17,"Mise \xe0 jour des packages"),e.k0s()(),e.j41(18,"p"),e.EFF(19,"Bien que vous puissiez mettre \xe0 jour vos packages manuellement, nous vous recommandons d'utiliser "),e.j41(20,"a",9),e.EFF(21,"ncu (npm check updates)"),e.k0s(),e.EFF(22,"."),e.k0s(),e.j41(23,"h4",10)(24,"span"),e.EFF(25,"Module de cache"),e.k0s()(),e.j41(26,"p"),e.EFF(27,"Le "),e.j41(28,"code"),e.EFF(29,"CacheModule"),e.k0s(),e.EFF(30," a \xe9t\xe9 supprim\xe9 du package "),e.j41(31,"code"),e.EFF(32,"@nestjs/common"),e.k0s(),e.EFF(33," et est maintenant disponible en tant que package autonome - "),e.j41(34,"code"),e.EFF(35,"@nestjs/cache-manager"),e.k0s(),e.EFF(36,". Ce changement a \xe9t\xe9 fait pour \xe9viter des d\xe9pendances inutiles dans le package "),e.j41(37,"code"),e.EFF(38,"@nestjs/common"),e.k0s(),e.EFF(39,". Vous pouvez en savoir plus sur le package "),e.j41(40,"code"),e.EFF(41,"@nestjs/cache-manager"),e.k0s(),e.j41(42,"a",11),e.EFF(43,"ici"),e.k0s(),e.EFF(44,"."),e.k0s(),e.j41(45,"h4",12)(46,"span"),e.EFF(47,"Niveaux de journalisation"),e.k0s()(),e.j41(48,"p"),e.EFF(49,"Les valeurs des niveaux de log "),e.j41(50,"code"),e.EFF(51,"verbose"),e.k0s(),e.EFF(52," et "),e.j41(53,"code"),e.EFF(54,"debug"),e.k0s(),e.EFF(55," ont \xe9t\xe9 \xe9chang\xe9es (voir "),e.j41(56,"a",13)(57,"a",13),e.EFF(58,"PR"),e.k0s()(),e.EFF(59,"). Le niveau "),e.j41(60,"code"),e.EFF(61,"debug"),e.k0s(),e.EFF(62," est maintenant fix\xe9 \xe0 "),e.j41(63,"code"),e.EFF(64,"1"),e.k0s(),e.EFF(65,", tandis que "),e.j41(66,"code"),e.EFF(67,"verbose"),e.k0s(),e.EFF(68," est fix\xe9 \xe0 "),e.j41(69,"code"),e.EFF(70,"0"),e.k0s(),e.EFF(71,"."),e.k0s(),e.j41(72,"h4",14)(73,"span"),e.EFF(74,"D\xe9pr\xe9ciations"),e.k0s()(),e.j41(75,"p"),e.EFF(76,"Toutes les m\xe9thodes et modules obsol\xe8tes ont \xe9t\xe9 supprim\xe9s."),e.k0s(),e.j41(77,"h4",15)(78,"span"),e.EFF(79,"Plugins CLI et TypeScript >= 4.8"),e.k0s()(),e.j41(80,"p"),e.EFF(81,"Les plugins NestJS CLI (disponibles pour les packages "),e.j41(82,"code"),e.EFF(83,"@nestjs/swagger"),e.k0s(),e.EFF(84," et "),e.j41(85,"code"),e.EFF(86,"@nestjs/graphql"),e.k0s(),e.EFF(87,") n\xe9cessiteront d\xe9sormais TypeScript >= v4.8 et donc les versions plus anciennes de TypeScript ne seront plus support\xe9es. La raison de ce changement est que "),e.j41(88,"a",16),e.EFF(89,"TypeScript v4.8 a introduit plusieurs changements importants"),e.k0s(),e.EFF(90," dans son arbre syntaxique abstrait (AST) que nous utilisons pour g\xe9n\xe9rer automatiquement les sch\xe9mas OpenAPI et GraphQL."),e.k0s(),e.j41(91,"h4",17)(92,"span"),e.EFF(93,"Abandon du support de Node.js v12"),e.k0s()(),e.j41(94,"p"),e.EFF(95,"\xc0 partir de NestJS 10, nous ne supportons plus Node.js v12, car "),e.j41(96,"a",18),e.EFF(97,"v12 est devenu EOL"),e.k0s(),e.EFF(98," le 30 avril 2022 (EOL signifie End Of Life, litt\xe9ralement fin de vie). Cela signifie que NestJS 10 n\xe9cessite Node.js v16 ou plus. Cette d\xe9cision a \xe9t\xe9 prise pour nous permettre de fixer enfin la cible \xe0 "),e.j41(99,"code"),e.EFF(100,"ES2021"),e.k0s(),e.EFF(101," dans notre configuration TypeScript, au lieu d'envoyer des polyfills comme nous le faisions dans le pass\xe9."),e.k0s(),e.j41(102,"p"),e.EFF(103,"A partir de maintenant, chaque package officiel de NestJS sera compil\xe9 en "),e.j41(104,"code"),e.EFF(105,"ES2021"),e.k0s(),e.EFF(106," par d\xe9faut, ce qui devrait se traduire par une taille de biblioth\xe8que plus petite et parfois m\xeame par des performances (l\xe9g\xe8rement) meilleures."),e.k0s(),e.j41(107,"p"),e.EFF(108,"Il est \xe9galement fortement recommand\xe9 d'utiliser la derni\xe8re version LTS (Long-Time Support, litt\xe9ralement Support Longue-Dur\xe9e)."),e.k0s()())},dependencies:[mt.Wk,Ln.a],encapsulation:2,changeDetection:0})}return y})(),data:{title:"Guide de migration - FAQ"}},{path:"deployment",component:(()=>{class y extends Xe.y{static \u0275fac=(()=>{let a;return function(f){return(a||(a=e.xGo(y)))(f||y)}})();static \u0275cmp=e.VBU({type:y,selectors:[["app-deployment"]],features:[e.Vt3],decls:522,vars:0,consts:[["contentReference",""],[1,"content"],[1,"github-links"],["href","https://github.com/Lou8is/docs.nestjs.fr/edit/main/content/deployment.md","aria-label","Proposer des modifications","title","Proposer des modifications"],[1,"fas","fa-edit"],["id","deployment"],["appAnchor","","id","prerequisites"],[1,"info"],["rel","nofollow","target","_blank","href","https://mau.nestjs.com/","title","Deploy Nest"],[1,"language-bash"],["appAnchor","","id","building-your-application"],["appAnchor","","id","production-environment"],["rel","nofollow","target","_blank","href","https://aws.amazon.com/"],["rel","nofollow","target","_blank","href","https://azure.microsoft.com/"],["rel","nofollow","target","_blank","href","https://cloud.google.com/"],["rel","nofollow","target","_blank","href","https://www.hetzner.com/"],["routerLink","todo"],["appAnchor","","id","node_envproduction"],["appAnchor","","id","running-your-application"],["appAnchor","","id","health-checks"],["routerLink","/recipes/terminus"],["appAnchor","","id","logging"],["appAnchor","","id","scaling-up-or-out"],["rel","nofollow","target","_blank","href","https://www.docker.com/"],["rel","nofollow","target","_blank","href","https://kubernetes.io/"],["rel","nofollow","target","_blank","href","https://aws.amazon.com/elasticloadbalancing/"],["rel","nofollow","target","_blank","href","https://azure.microsoft.com/en-us/services/load-balancer/"],["appAnchor","","id","some-other-tips"],["rel","nofollow","target","_blank","href","https://prometheus.io/"],["rel","nofollow","target","_blank","href","https://newrelic.com/"],["rel","nofollow","target","_blank","href","https://aws.amazon.com/cloudwatch/"],["routerLink","/security/rate-limiting"],["rel","nofollow","target","_blank","href","https://aws.amazon.com/waf/"],["appAnchor","","id","dockerizing-your-application"],["rel","nofollow","target","_blank","href","https://www.docker.com/get-started"],["rel","nofollow","target","_blank","href","https://hub.docker.com/_/node"],["rel","nofollow","target","_blank","href","https://hub.docker.com/"],["rel","nofollow","target","_blank","href","https://aws.amazon.com/ecr/"],["rel","nofollow","target","_blank","href","https://cloud.google.com/container-registry"],["appAnchor","","id","easy-deployment-with-mau"],["src","/assets/mau-metrics.png"]],template:function(c,f){1&c&&(e.j41(0,"div",1,0)(2,"div",2)(3,"a",3),e.nrm(4,"i",4),e.k0s()(),e.j41(5,"h3",5),e.EFF(6,"Deployment"),e.k0s(),e.j41(7,"p"),e.EFF(8,"When you're ready to deploy your NestJS application to production, there are key steps you can take to ensure it runs as efficiently as possible. In this guide, we'll explore essential tips and best practices to help you deploy your NestJS application successfully."),e.k0s(),e.j41(9,"h4",6)(10,"span"),e.EFF(11,"Prerequisites"),e.k0s()(),e.j41(12,"p"),e.EFF(13,"Before deploying your NestJS application, ensure you have:"),e.k0s(),e.j41(14,"ul")(15,"li"),e.EFF(16,"A working NestJS application that is ready for deployment."),e.k0s(),e.j41(17,"li"),e.EFF(18,"Access to a deployment platform or server where you can host your application."),e.k0s(),e.j41(19,"li"),e.EFF(20,"All necessary environment variables set up for your application."),e.k0s(),e.j41(21,"li"),e.EFF(22,"Any required services, like a database, set up and ready to go."),e.k0s(),e.j41(23,"li"),e.EFF(24,"At least an LTS version of Node.js installed on your deployment platform."),e.k0s()(),e.j41(25,"blockquote",7)(26,"strong"),e.EFF(27,"Hint"),e.k0s(),e.EFF(28," If you are looking for a cloud-based platform to deploy your NestJS application, check out "),e.j41(29,"a",8),e.EFF(30,"Mau"),e.k0s(),e.EFF(31,", our official platform for deploying NestJS applications on AWS. Avec Mau, le d\xe9ploiement de votre application NestJS est aussi simple que de cliquer sur quelques boutons et d'ex\xe9cuter une seule commande :\n"),e.j41(32,"pre")(33,"code",9),e.EFF(34,"\n$ npm install -g @nestjs/mau\n$ mau deploy\n"),e.k0s()(),e.j41(35,"p"),e.EFF(36,"Une fois le d\xe9ploiement termin\xe9, votre application NestJS sera op\xe9rationnelle sur AWS en quelques secondes !"),e.k0s()(),e.j41(37,"h4",10)(38,"span"),e.EFF(39,"Building your application"),e.k0s()(),e.j41(40,"p"),e.EFF(41,"To build your NestJS application, you need to compile your TypeScript code into JavaScript. This process generates a "),e.j41(42,"code"),e.EFF(43,"dist"),e.k0s(),e.EFF(44," directory containing the compiled files. You can build your application by running the following command:"),e.k0s(),e.j41(45,"pre")(46,"code",9),e.EFF(47,"\n$ npm run build\n"),e.k0s()(),e.j41(48,"p"),e.EFF(49,"This command typically runs the "),e.j41(50,"code"),e.EFF(51,"nest build"),e.k0s(),e.EFF(52," command under the hood, which is basically a wrapper around the TypeScript compiler with some additional features (assets copying, etc.). In case you have a custom build script, you can run it directly. Also, for NestJS CLI mono-repos, make sure to pass the name of the project to build as an argument ("),e.j41(53,"code"),e.EFF(54,"npm run build my-app"),e.k0s(),e.EFF(55,")."),e.k0s(),e.j41(56,"p"),e.EFF(57,"Upon successful compilation, you should see a "),e.j41(58,"code"),e.EFF(59,"dist"),e.k0s(),e.EFF(60," directory in your project root containing the compiled files, with the entry point being "),e.j41(61,"code"),e.EFF(62,"main.js"),e.k0s(),e.EFF(63,". If you have any "),e.j41(64,"code"),e.EFF(65,".ts"),e.k0s(),e.EFF(66," files located in the root directory of your project (and your "),e.j41(67,"code"),e.EFF(68,"tsconfig.json"),e.k0s(),e.EFF(69," configured to compile them), they will be copied to the "),e.j41(70,"code"),e.EFF(71,"dist"),e.k0s(),e.EFF(72," directory as well, modifying the directory structure a bit (instead of "),e.j41(73,"code"),e.EFF(74,"dist/main.js"),e.k0s(),e.EFF(75,", you will have "),e.j41(76,"code"),e.EFF(77,"dist/src/main.js"),e.k0s(),e.EFF(78," so keep that in mind when configuring your server)."),e.k0s(),e.j41(79,"h4",11)(80,"span"),e.EFF(81,"Production environment"),e.k0s()(),e.j41(82,"p"),e.EFF(83,"Your production environment is where your application will be accessible to external users. This could be a cloud-based platform like "),e.j41(84,"a",12),e.EFF(85,"AWS"),e.k0s(),e.EFF(86," (with EC2, ECS, etc.), "),e.j41(87,"a",13),e.EFF(88,"Azure"),e.k0s(),e.EFF(89,", or "),e.j41(90,"a",14),e.EFF(91,"Google Cloud"),e.k0s(),e.EFF(92,", or even a dedicated server you manage, such as "),e.j41(93,"a",15),e.EFF(94,"Hetzner"),e.k0s(),e.EFF(95,"."),e.k0s(),e.j41(96,"p"),e.EFF(97,"To simplify the deployment process and avoid manual setup, you can use a service like "),e.j41(98,"a",8),e.EFF(99,"Mau"),e.k0s(),e.EFF(100,", our official platform for deploying NestJS applications on AWS. For more details, check out "),e.j41(101,"a",16),e.EFF(102,"this section"),e.k0s(),e.EFF(103,"."),e.k0s(),e.j41(104,"p"),e.EFF(105,"Some of the pros of using a "),e.j41(106,"strong"),e.EFF(107,"cloud-based platform"),e.k0s(),e.EFF(108," or service like "),e.j41(109,"a",8),e.EFF(110,"Mau"),e.k0s(),e.EFF(111," include:"),e.k0s(),e.j41(112,"ul")(113,"li"),e.EFF(114,"Scalability: Easily scale your application as your user base grows."),e.k0s(),e.j41(115,"li"),e.EFF(116,"Security: Benefit from built-in security features and compliance certifications."),e.k0s(),e.j41(117,"li"),e.EFF(118,"Monitoring: Monitor your application's performance and health in real-time."),e.k0s(),e.j41(119,"li"),e.EFF(120,"Reliability: Ensure your application is always available with high uptime guarantees."),e.k0s()(),e.j41(121,"p"),e.EFF(122,"On the other hand, cloud-based platforms are typically more expensive than self-hosting, and you may have less control over the underlying infrastructure. Simple VPS can be a good choice if you're looking for a more cost-effective solution and have the technical expertise to manage the server yourself, but keep in mind that you'll need to handle tasks like server maintenance, security, and backups manually."),e.k0s(),e.j41(123,"h4",17)(124,"span"),e.EFF(125,"NODE_ENV=production"),e.k0s()(),e.j41(126,"p"),e.EFF(127,"While there's technically no difference between development and production in Node.js and NestJS, it's a good practice to set the "),e.j41(128,"code"),e.EFF(129,"NODE_ENV"),e.k0s(),e.EFF(130," environment variable to "),e.j41(131,"code"),e.EFF(132,"production"),e.k0s(),e.EFF(133," when running your application in a production environment, as some libraries in the ecosystem may behave differently based on this variable (e.g., enabling or disabling debugging output, etc.)."),e.k0s(),e.j41(134,"p"),e.EFF(135,"You can set the "),e.j41(136,"code"),e.EFF(137,"NODE_ENV"),e.k0s(),e.EFF(138," environment variable when starting your application like so:"),e.k0s(),e.j41(139,"pre")(140,"code",9),e.EFF(141,"\n$ NODE_ENV=production node dist/main.js\n"),e.k0s()(),e.j41(142,"p"),e.EFF(143,"Or just set it in your cloud provider's/Mau dashboard."),e.k0s(),e.j41(144,"h4",18)(145,"span"),e.EFF(146,"Running your application"),e.k0s()(),e.j41(147,"p"),e.EFF(148,"To run your NestJS application in production, just use the following command:"),e.k0s(),e.j41(149,"pre")(150,"code",9),e.EFF(151,"\n$ node dist/main.js # Adjust this based on your entry point location\n"),e.k0s()(),e.j41(152,"p"),e.EFF(153,"This command starts your application, which will listen on the specified port (usually "),e.j41(154,"code"),e.EFF(155,"3000"),e.k0s(),e.EFF(156," by default). Ensure that this matches the port you\u2019ve configured in your application."),e.k0s(),e.j41(157,"p"),e.EFF(158,"Alternatively, you can use the "),e.j41(159,"code"),e.EFF(160,"nest start"),e.k0s(),e.EFF(161," command. This command is a wrapper around "),e.j41(162,"code"),e.EFF(163,"node dist/main.js"),e.k0s(),e.EFF(164,", but it has one key difference: it automatically runs "),e.j41(165,"code"),e.EFF(166,"nest build"),e.k0s(),e.EFF(167," before starting the application, so you don\u2019t need to manually execute "),e.j41(168,"code"),e.EFF(169,"npm run build"),e.k0s(),e.EFF(170,"."),e.k0s(),e.j41(171,"h4",19)(172,"span"),e.EFF(173,"Health checks"),e.k0s()(),e.j41(174,"p"),e.EFF(175,"Health checks are essential for monitoring the health and status of your NestJS application in production. By setting up a health check endpoint, you can regularly verify that your app is running as expected and respond to issues before they become critical."),e.k0s(),e.j41(176,"p"),e.EFF(177,"In NestJS, you can easily implement health checks using the "),e.j41(178,"strong"),e.EFF(179,"@nestjs/terminus"),e.k0s(),e.EFF(180," package, which provides a powerful tool for adding health checks, including database connections, external services, and custom checks."),e.k0s(),e.j41(181,"p"),e.EFF(182,"Check out "),e.j41(183,"a",20),e.EFF(184,"this guide"),e.k0s(),e.EFF(185," to learn how to implement health checks in your NestJS application, and ensure your app is always monitored and responsive."),e.k0s(),e.j41(186,"h4",21)(187,"span"),e.EFF(188,"Logging"),e.k0s()(),e.j41(189,"p"),e.EFF(190,"Logging is essential for any production-ready application. It helps track errors, monitor behavior, and troubleshoot issues. In NestJS, you can easily manage logging with the built-in logger or opt for external libraries if you need more advanced features."),e.k0s(),e.j41(191,"p"),e.EFF(192,"Best practices for logging:"),e.k0s(),e.j41(193,"ul")(194,"li"),e.EFF(195,"Log Errors, Not Exceptions: Focus on logging detailed error messages to speed up debugging and issue resolution."),e.k0s(),e.j41(196,"li"),e.EFF(197,"Avoid Sensitive Data: Never log sensitive information like passwords or tokens to protect security."),e.k0s(),e.j41(198,"li"),e.EFF(199,"Use Correlation IDs: In distributed systems, include unique identifiers (like correlation IDs) in your logs to trace requests across different services."),e.k0s(),e.j41(200,"li"),e.EFF(201,"Use Log Levels: Categorize logs by severity (e.g., "),e.j41(202,"code"),e.EFF(203,"info"),e.k0s(),e.EFF(204,", "),e.j41(205,"code"),e.EFF(206,"warn"),e.k0s(),e.EFF(207,", "),e.j41(208,"code"),e.EFF(209,"error"),e.k0s(),e.EFF(210,") and disable debug or verbose logs in production to reduce noise."),e.k0s()(),e.j41(211,"blockquote",7)(212,"strong"),e.EFF(213,"Hint"),e.k0s(),e.EFF(214," If you're using "),e.j41(215,"a",12),e.EFF(216,"AWS"),e.k0s(),e.EFF(217," (with "),e.j41(218,"a",8),e.EFF(219,"Mau"),e.k0s(),e.EFF(220," or directly), consider JSON logging to make it easier to parse and analyze your logs.\n"),e.k0s(),e.j41(221,"p"),e.EFF(222,"For distributed applications, using a centralized logging service like ElasticSearch, Loggly, or Datadog can be incredibly useful. These tools offer powerful features like log aggregation, search, and visualization, making it easier to monitor and analyze your application's performance and behavior."),e.k0s(),e.j41(223,"h4",22)(224,"span"),e.EFF(225,"Scaling up or out"),e.k0s()(),e.j41(226,"p"),e.EFF(227,"Scaling your NestJS application effectively is crucial for handling increased traffic and ensuring optimal performance. There are two primary strategies for scaling: "),e.j41(228,"strong"),e.EFF(229,"vertical scaling"),e.k0s(),e.EFF(230," and "),e.j41(231,"strong"),e.EFF(232,"horizontal scaling"),e.k0s(),e.EFF(233,". Understanding these approaches will help you design your application to manage load efficiently."),e.k0s(),e.j41(234,"p")(235,"strong"),e.EFF(236,"Vertical scaling"),e.k0s(),e.EFF(237,', often referred to as "scaling up" involves increasing the resources of a single server to enhance its performance. This could mean adding more CPU, RAM, or storage to your existing machine. Here are some key points to consider:'),e.k0s(),e.j41(238,"ul")(239,"li"),e.EFF(240,"Simplicity: Vertical scaling is generally simpler to implement since you only need to upgrade your existing server rather than manage multiple instances."),e.k0s(),e.j41(241,"li"),e.EFF(242,"Limitations: There are physical limits to how much you can scale a single machine. Once you reach the maximum capacity, you may need to consider other options."),e.k0s(),e.j41(243,"li"),e.EFF(244,"Cost-Effectiveness: For applications with moderate traffic, vertical scaling can be cost-effective, as it reduces the need for additional infrastructure."),e.k0s()(),e.j41(245,"p"),e.EFF(246,"Example: If your NestJS app is hosted on a virtual machine and you notice that it\u2019s running slowly during peak hours, you can upgrade your VM to a larger instance with more resources. To upgrade your VM, just navigate to your current provider's dashboard and select a larger instance type."),e.k0s(),e.j41(247,"p")(248,"strong"),e.EFF(249,"Horizontal scaling"),e.k0s(),e.EFF(250,', or "scaling out" involves adding more servers or instances to distribute the load. This strategy is widely used in cloud environments and is essential for applications expecting high traffic. Here are the benefits and considerations:'),e.k0s(),e.j41(251,"ul")(252,"li"),e.EFF(253,"Increased Capacity: By adding more instances of your application, you can handle a larger number of concurrent users without degrading performance."),e.k0s(),e.j41(254,"li"),e.EFF(255,"Redundancy: Horizontal scaling offers redundancy, as the failure of one server won't bring down your entire application. Traffic can be redistributed among the remaining servers."),e.k0s(),e.j41(256,"li"),e.EFF(257,"Load Balancing: To manage multiple instances effectively, use load balancers (like Nginx or AWS Elastic Load Balancing) to distribute incoming traffic evenly across your servers."),e.k0s()(),e.j41(258,"p"),e.EFF(259,"Example: For a NestJS application experiencing high traffic, you can deploy multiple instances of your app in a cloud environment and use a load balancer to route requests, ensuring that no single instance becomes a bottleneck."),e.k0s(),e.j41(260,"p"),e.EFF(261,"This process is straightforward with containerization technologies like "),e.j41(262,"a",23),e.EFF(263,"Docker"),e.k0s(),e.EFF(264," and container orchestration platforms such as "),e.j41(265,"a",24),e.EFF(266,"Kubernetes"),e.k0s(),e.EFF(267,". Additionally, you can leverage cloud-specific load balancers like "),e.j41(268,"a",25),e.EFF(269,"AWS Elastic Load Balancing"),e.k0s(),e.EFF(270," or "),e.j41(271,"a",26),e.EFF(272,"Azure Load Balancer"),e.k0s(),e.EFF(273," to distribute traffic across your application instances."),e.k0s(),e.j41(274,"blockquote",7)(275,"strong"),e.EFF(276,"Hint"),e.k0s(),e.j41(277,"a",8),e.EFF(278,"Mau"),e.k0s(),e.EFF(279," offers built-in support for horizontal scaling on AWS, allowing you to easily deploy multiple instances of your NestJS application and manage them with just a few clicks.\n"),e.k0s(),e.j41(280,"h4",27)(281,"span"),e.EFF(282,"Some other tips"),e.k0s()(),e.j41(283,"p"),e.EFF(284,"There are a few more tips to keep in mind when deploying your NestJS application:"),e.k0s(),e.j41(285,"ul")(286,"li")(287,"strong"),e.EFF(288,"Security"),e.k0s(),e.EFF(289,': Ensure your application is secure and protected from common threats like SQL injection, XSS, etc. See the "Security" category for more details.'),e.k0s(),e.j41(290,"li")(291,"strong"),e.EFF(292,"Monitoring"),e.k0s(),e.EFF(293,": Use monitoring tools like "),e.j41(294,"a",28),e.EFF(295,"Prometheus"),e.k0s(),e.EFF(296," or "),e.j41(297,"a",29),e.EFF(298,"New Relic"),e.k0s(),e.EFF(299," to track your application's performance and health. If you're using a cloud provider/Mau, they may offer built-in monitoring services (like "),e.j41(300,"a",30),e.EFF(301,"AWS CloudWatch"),e.k0s(),e.EFF(302," etc.)"),e.k0s(),e.j41(303,"li")(304,"strong"),e.EFF(305,"Do not hardcode environment variables"),e.k0s(),e.EFF(306,": Avoid hardcoding sensitive information like API keys, passwords, or tokens in your code. Use environment variables or a secrets manager to store and access these values securely."),e.k0s(),e.j41(307,"li")(308,"strong"),e.EFF(309,"Backups"),e.k0s(),e.EFF(310,": Regularly back up your data to prevent data loss in case of an incident."),e.k0s(),e.j41(311,"li")(312,"strong"),e.EFF(313,"Automate deployments"),e.k0s(),e.EFF(314,": Use CI/CD pipelines to automate your deployment process and ensure consistency across environments."),e.k0s(),e.j41(315,"li")(316,"strong"),e.EFF(317,"Rate limiting"),e.k0s(),e.EFF(318,": Implement rate limiting to prevent abuse and protect your application from DDoS attacks. Check out "),e.j41(319,"a",31),e.EFF(320,"Rate limiting chapter"),e.k0s(),e.EFF(321," for more details, or use a service like "),e.j41(322,"a",32),e.EFF(323,"AWS WAF"),e.k0s(),e.EFF(324," for advanced protection."),e.k0s()(),e.j41(325,"h4",33)(326,"span"),e.EFF(327,"Dockerizing your application"),e.k0s()(),e.j41(328,"p")(329,"a",23),e.EFF(330,"Docker"),e.k0s(),e.EFF(331," is a platform that uses containerization to allow developers to package applications along with their dependencies into a standardized unit called a container. Containers are lightweight, portable, and isolated, making them ideal for deploying applications in various environments, from local development to production."),e.k0s(),e.j41(332,"p"),e.EFF(333,"Benefits of Dockerizing your NestJS application:"),e.k0s(),e.j41(334,"ul")(335,"li"),e.EFF(336,'Consistency: Docker ensures that your application runs the same way on any machine, eliminating the "it works on my machine" problem.'),e.k0s(),e.j41(337,"li"),e.EFF(338,"Isolation: Each container runs in its isolated environment, preventing conflicts between dependencies."),e.k0s(),e.j41(339,"li"),e.EFF(340,"Scalability: Docker makes it easy to scale your application by running multiple containers across different machines or cloud instances."),e.k0s(),e.j41(341,"li"),e.EFF(342,"Portability: Containers can be easily moved between environments, making it simple to deploy your application on different platforms."),e.k0s()(),e.j41(343,"p"),e.EFF(344,"To install Docker, follow the instructions on the "),e.j41(345,"a",34),e.EFF(346,"official website"),e.k0s(),e.EFF(347,". Once Docker is installed, you can create a "),e.j41(348,"code"),e.EFF(349,"Dockerfile"),e.k0s(),e.EFF(350," in your NestJS project to define the steps for building your container image."),e.k0s(),e.j41(351,"p"),e.EFF(352,"The "),e.j41(353,"code"),e.EFF(354,"Dockerfile"),e.k0s(),e.EFF(355," is a text file that contains the instructions Docker uses to build your container image."),e.k0s(),e.j41(356,"p"),e.EFF(357,"Here's a sample Dockerfile for a NestJS application:"),e.k0s(),e.j41(358,"pre")(359,"code",9),e.EFF(360,'\n# Use the official Node.js image as the base image\nFROM node:20\n\n# Set the working directory inside the container\nWORKDIR /usr/src/app\n\n# Copy package.json and package-lock.json to the working directory\nCOPY package*.json ./\n\n# Install the application dependencies\nRUN npm install\n\n# Copy the rest of the application files\nCOPY . .\n\n# Build the NestJS application\nRUN npm run build\n\n# Expose the application port\nEXPOSE 3000\n\n# Command to run the application\nCMD ["node", "dist/main"]\n'),e.k0s()(),e.j41(361,"blockquote",7)(362,"strong"),e.EFF(363,"Hint"),e.k0s(),e.EFF(364," Make sure to replace "),e.j41(365,"code"),e.EFF(366,"node:20"),e.k0s(),e.EFF(367," with the appropriate Node.js version you're using in your project. You can find the available Node.js Docker images on the "),e.j41(368,"a",35),e.EFF(369,"official Docker Hub repository"),e.k0s(),e.EFF(370,".\n"),e.k0s(),e.j41(371,"p"),e.EFF(372,"This is a basic Dockerfile that sets up a Node.js environment, installs the application dependencies, builds the NestJS application, and runs it. You can customize this file based on your project requirements (e.g., use different base images, optimize the build process, only install production dependencies, etc.)."),e.k0s(),e.j41(373,"p"),e.EFF(374,"Let's also create a "),e.j41(375,"code"),e.EFF(376,".dockerignore"),e.k0s(),e.EFF(377," file to specify which files and directories Docker should ignore when building the image. Create a "),e.j41(378,"code"),e.EFF(379,".dockerignore"),e.k0s(),e.EFF(380," file in your project root:"),e.k0s(),e.j41(381,"pre")(382,"code",9),e.EFF(383,"\nnode_modules\ndist\n*.log\n*.md\n.git\n"),e.k0s()(),e.j41(384,"p"),e.EFF(385,"This file ensures that unnecessary files are not included in the container image, keeping it lightweight. Now that you have your Dockerfile set up, you can build your Docker image. Open your terminal, navigate to your project directory, and run the following command:"),e.k0s(),e.j41(386,"pre")(387,"code",9),e.EFF(388,"\ndocker build -t my-nestjs-app .\n"),e.k0s()(),e.j41(389,"p"),e.EFF(390,"In this command:"),e.k0s(),e.j41(391,"ul")(392,"li")(393,"code"),e.EFF(394,"-t my-nestjs-app"),e.k0s(),e.EFF(395,": Tags the image with the name "),e.j41(396,"code"),e.EFF(397,"my-nestjs-app"),e.k0s(),e.EFF(398,"."),e.k0s(),e.j41(399,"li")(400,"code"),e.EFF(401,"."),e.k0s(),e.EFF(402,": Indicates the current directory as the build context."),e.k0s()(),e.j41(403,"p"),e.EFF(404,"After building the image, you can run it as a container. Execute the following command:"),e.k0s(),e.j41(405,"pre")(406,"code",9),e.EFF(407,"\ndocker run -p 3000:3000 my-nestjs-app\n"),e.k0s()(),e.j41(408,"p"),e.EFF(409,"In this command:"),e.k0s(),e.j41(410,"ul")(411,"li")(412,"code"),e.EFF(413,"-p 3000:3000"),e.k0s(),e.EFF(414,": Maps port 3000 on your host machine to port 3000 in the container."),e.k0s(),e.j41(415,"li")(416,"code"),e.EFF(417,"my-nestjs-app"),e.k0s(),e.EFF(418,": Specifies the image to run."),e.k0s()(),e.j41(419,"p"),e.EFF(420,"Your NestJS application should now be running inside a Docker container."),e.k0s(),e.j41(421,"p"),e.EFF(422,"If you want to deploy your Docker image to a cloud provider or share it with others, you'll need to push it to a Docker registry (like "),e.j41(423,"a",36),e.EFF(424,"Docker Hub"),e.k0s(),e.EFF(425,", "),e.j41(426,"a",37),e.EFF(427,"AWS ECR"),e.k0s(),e.EFF(428,", or "),e.j41(429,"a",38),e.EFF(430,"Google Container Registry"),e.k0s(),e.EFF(431,")."),e.k0s(),e.j41(432,"p"),e.EFF(433,"Once you decide on a registry, you can push your image by following these steps:"),e.k0s(),e.j41(434,"pre")(435,"code",9),e.EFF(436,"\ndocker login # Log in to your Docker registry\ndocker tag my-nestjs-app your-dockerhub-username/my-nestjs-app # Tag your image\ndocker push your-dockerhub-username/my-nestjs-app # Push your image\n"),e.k0s()(),e.j41(437,"p"),e.EFF(438,"Replace "),e.j41(439,"code"),e.EFF(440,"your-dockerhub-username"),e.k0s(),e.EFF(441," with your Docker Hub username or the appropriate registry URL. After pushing your image, you can pull it on any machine and run it as a container."),e.k0s(),e.j41(442,"p"),e.EFF(443,"Cloud providers like AWS, Azure, and Google Cloud offer managed container services that simplify deploying and managing containers at scale. These services provide features like auto-scaling, load balancing, and monitoring, making it easier to run your NestJS application in production."),e.k0s(),e.j41(444,"h4",39)(445,"span"),e.EFF(446,"Easy deployment with Mau"),e.k0s()(),e.j41(447,"p")(448,"a",8),e.EFF(449,"Mau"),e.k0s(),e.EFF(450," is our official platform for deploying NestJS applications on "),e.j41(451,"a",12),e.EFF(452,"AWS"),e.k0s(),e.EFF(453,". If you're not ready to manage your infrastructure manually (or just want to save time), Mau is the perfect solution for you."),e.k0s(),e.j41(454,"p"),e.EFF(455,"With Mau, provisioning and maintaining your infrastructure is as simple as clicking just a few buttons. Mau is designed to be simple and intuitive, so you can focus on building your applications and not worry about the underlying infrastructure. Under the hood, we use "),e.j41(456,"strong"),e.EFF(457,"Amazon Web Services"),e.k0s(),e.EFF(458," to provide you with a powerful and reliable platform, while abstracting away all the complexity of AWS. We take care of all the heavy lifting for you, so you can focus on building your applications and growing your business."),e.k0s(),e.j41(459,"p")(460,"a",8),e.EFF(461,"Mau"),e.k0s(),e.EFF(462," is perfect for startups, small-to-medium businesses, large enterprises, and developers who want to get up and running quickly without having to spend a lot of time on learning and managing infrastructure. It's incredibly easy to use, and you can have your infrastructure up and running in minutes. It also leverages AWS behind the scenes, giving you all the advantages of AWS without the hassle of managing its complexities."),e.k0s(),e.j41(463,"figure"),e.nrm(464,"img",40),e.k0s(),e.j41(465,"p"),e.EFF(466,"With "),e.j41(467,"a",8),e.EFF(468,"Mau"),e.k0s(),e.EFF(469,", you can:"),e.k0s(),e.j41(470,"ul")(471,"li"),e.EFF(472,"Deploy your NestJS applications with just a few clicks (APIs, microservices, etc.)."),e.k0s(),e.j41(473,"li"),e.EFF(474,"Provision "),e.j41(475,"strong"),e.EFF(476,"databases"),e.k0s(),e.EFF(477," such as:"),e.j41(478,"ul")(479,"li"),e.EFF(480,"PostgreSQL"),e.k0s(),e.j41(481,"li"),e.EFF(482,"MySQL"),e.k0s(),e.j41(483,"li"),e.EFF(484,"MongoDB (DocumentDB)"),e.k0s(),e.j41(485,"li"),e.EFF(486,"Redis"),e.k0s(),e.j41(487,"li"),e.EFF(488,"more"),e.k0s()()(),e.j41(489,"li"),e.EFF(490,"Set up broker services like:"),e.j41(491,"ul")(492,"li"),e.EFF(493,"RabbitMQ"),e.k0s(),e.j41(494,"li"),e.EFF(495,"Kafka"),e.k0s(),e.j41(496,"li"),e.EFF(497,"NATS"),e.k0s()()(),e.j41(498,"li"),e.EFF(499,"Deploy scheduled tasks ("),e.j41(500,"strong"),e.EFF(501,"CRON jobs"),e.k0s(),e.EFF(502,") and background workers."),e.k0s(),e.j41(503,"li"),e.EFF(504,"Deploy lambda functions and serverless applications."),e.k0s(),e.j41(505,"li"),e.EFF(506,"Setup "),e.j41(507,"strong"),e.EFF(508,"CI/CD pipelines"),e.k0s(),e.EFF(509," for automated deployments."),e.k0s(),e.j41(510,"li"),e.EFF(511,"And much more!"),e.k0s()(),e.j41(512,"p"),e.EFF(513,"To deploy your NestJS application with Mau, just run the following command:"),e.k0s(),e.j41(514,"pre")(515,"code",9),e.EFF(516,"\n$ npm install -g @nestjs/mau\n$ mau deploy\n"),e.k0s()(),e.j41(517,"p"),e.EFF(518,"Sign up today and "),e.j41(519,"a",8),e.EFF(520,"Deploy with Mau"),e.k0s(),e.EFF(521," to get your NestJS applications up and running on AWS in minutes!"),e.k0s()())},dependencies:[mt.Wk,Ln.a],encapsulation:2,changeDetection:0})}return y})(),data:{title:"Deployment"}},{path:"support",component:(()=>{class y extends Xe.y{static \u0275fac=(()=>{let a;return function(f){return(a||(a=e.xGo(y)))(f||y)}})();static \u0275cmp=e.VBU({type:y,selectors:[["app-support"]],features:[e.Vt3],decls:42,vars:0,consts:[["contentReference",""],[1,"content"],[1,"github-links"],["href","https://github.com/Lou8is/docs.nestjs.fr/edit/main/content/support.md","aria-label","Proposer des modifications","title","Proposer des modifications"],[1,"fas","fa-edit"],["id","soutien"],["appAnchor","","id","comment-pouvez-vous-nous-aider-"],["rel","nofollow","target","_blank","href","https://opencollective.com/nest"],["rel","nofollow","target","_blank","href","https://paypal.me/kamilmysliwiec"],["href","mailto:mail@kamilmysliwiec.com"]],template:function(c,f){1&c&&(e.j41(0,"div",1,0)(2,"div",2)(3,"a",3),e.nrm(4,"i",4),e.k0s()(),e.j41(5,"h3",5),e.EFF(6,"Soutien"),e.k0s(),e.j41(7,"p"),e.EFF(8,"Nest est un projet open source sous licence MIT dont le d\xe9veloppement continu est rendu possible gr\xe2ce au soutien de la communaut\xe9. Ce framework est le r\xe9sultat d'un long chemin, rempli de nuits blanches, de travail "),e.j41(9,"strong"),e.EFF(10,"apr\xe8s les heures"),e.k0s(),e.EFF(11,", et de week-ends bien remplis."),e.k0s(),e.j41(12,"h4",6)(13,"span"),e.EFF(14,"Comment pouvez-vous nous aider ?"),e.k0s()(),e.j41(15,"p"),e.EFF(16,"Nest n'a pas de grande entreprise qui s'assoit derri\xe8re et qui paie continuellement pour les heures pass\xe9es sur le d\xe9veloppement. Je me fie enti\xe8rement \xe0 la "),e.j41(17,"strong"),e.EFF(18,"bont\xe9"),e.k0s(),e.EFF(19," \u2764\ufe0f des gens. Cependant, j'aimerais rendre ce framework encore plus "),e.j41(20,"strong"),e.EFF(21,"puissant"),e.k0s(),e.EFF(22,", pour qu'il se concentre enti\xe8rement sur la livraison de bonnes solutions qui rendent le processus de d\xe9veloppement agr\xe9able : Afin de m'aider, j'ai mis en place quelques plateformes de soutien :"),e.k0s(),e.j41(23,"ul")(24,"li"),e.EFF(25,"devenir un backer ou un sponsor sur "),e.j41(26,"a",7),e.EFF(27,"OpenCollective"),e.k0s()(),e.j41(28,"li"),e.EFF(29,"utilisez "),e.j41(30,"a",8),e.EFF(31,"PayPal"),e.k0s(),e.EFF(32," pour envoyer un don unique"),e.k0s(),e.j41(33,"li"),e.EFF(34,"ou me contacter directement : "),e.j41(35,"a",9),e.EFF(36,"mail@kamilmysliwiec.com"),e.k0s()()(),e.j41(37,"p"),e.EFF(38,"Si vous \xeates tomb\xe9 amoureux de Nest, ou si vous dirigez une entreprise qui utilise Nest, envisagez de sponsoriser son d\xe9veloppement pour vous assurer que le projet sur lequel votre produit s'appuie est "),e.j41(39,"strong"),e.EFF(40,"activement maintenu"),e.k0s(),e.EFF(41," et am\xe9lior\xe9. De plus, votre soutien pourrait m'aider \xe0 travailler davantage sur le contenu qui profite \xe0 l'ensemble de la communaut\xe9 Nest, en \xe9crivant des articles de blog \xe9ducatifs ou en enregistrant des vid\xe9os."),e.k0s()())},dependencies:[Ln.a],encapsulation:2,changeDetection:0})}return y})(),data:{title:"Support"}},{path:"consulting",component:Vn,resolve:{url:"externalUrlRedirectResolver"},canActivate:[y=>(window.location.href=y.data.externalUrl,!0)],data:{externalUrl:"https://enterprise.nestjs.com"}},{path:"enterprise",redirectTo:"consulting"},{path:"enterprise",component:Vn,data:{title:"Official Support"}},{path:"fundamentals",loadChildren:()=>C.e(823).then(C.bind(C,4823)).then(y=>y.FundamentalsModule)},{path:"techniques",loadChildren:()=>C.e(945).then(C.bind(C,6945)).then(y=>y.TechniquesModule)},{path:"security",loadChildren:()=>Promise.all([C.e(76),C.e(2)]).then(C.bind(C,2)).then(y=>y.SecurityModule)},{path:"graphql",loadChildren:()=>C.e(916).then(C.bind(C,8916)).then(y=>y.GraphqlModule)},{path:"websockets",loadChildren:()=>C.e(65).then(C.bind(C,3065)).then(y=>y.WebsocketsModule)},{path:"microservices",loadChildren:()=>C.e(557).then(C.bind(C,4557)).then(y=>y.MicroservicesModule)},{path:"recipes",loadChildren:()=>Promise.all([C.e(76),C.e(377)]).then(C.bind(C,3377)).then(y=>y.RecipesModule)},{path:"faq",loadChildren:()=>C.e(395).then(C.bind(C,395)).then(y=>y.FaqModule)},{path:"cli",loadChildren:()=>C.e(713).then(C.bind(C,4713)).then(y=>y.CliModule)},{path:"openapi",loadChildren:()=>C.e(61).then(C.bind(C,7061)).then(y=>y.OpenApiModule)},{path:"devtools",loadChildren:()=>C.e(410).then(C.bind(C,6410)).then(y=>y.DevtoolsModule)}]},{path:"**",redirectTo:"",pathMatch:"full"}];let Uo=(()=>{class y{static \u0275fac=function(c){return new(c||y)};static \u0275mod=e.$C({type:y});static \u0275inj=e.G2t({imports:[mt.iI.forRoot(Br,{scrollPositionRestoration:"enabled",anchorScrolling:"enabled",preloadingStrategy:mt.Kp,onSameUrlNavigation:"reload"}),mt.iI]})}return y})(),Pi=(()=>{class y{titleService;metaService;router;activatedRoute;robotsElement;constructor(a,c,f,b){this.titleService=a,this.metaService=c,this.router=f,this.activatedRoute=b}ngOnInit(){var a=this;return(0,qe.A)(function*(){a.router.events.pipe((0,vo.p)(c=>c instanceof mt.wF)).subscribe(c=>{a.updateTitle(),a.updateMeta(c)})})()}updateTitle(){const a=this.activatedRoute.snapshot.firstChild;if(!a)return;let c=a.firstChild;c=c.firstChild?c.firstChild:c;const{data:{title:f}}=c;this.titleService.setTitle((f||"Documentation")+" | NestJS - Un framework Node.js progressif")}updateMeta(a){a&&a.url&&(a.url.includes("crud-utilities")&&!this.robotsElement?this.robotsElement=this.metaService.addTag({name:"robots",content:"noindex"}):this.robotsElement&&(this.metaService.removeTagElement(this.robotsElement),this.robotsElement=void 0))}static \u0275fac=function(c){return new(c||y)(e.rXU(g.hE),e.rXU(g.W8),e.rXU(mt.Ix),e.rXU(mt.nX))};static \u0275cmp=e.VBU({type:y,selectors:[["app-root"]],decls:1,vars:0,template:function(c,f){1&c&&e.nrm(0,"router-outlet")},dependencies:[mt.n3],encapsulation:2,changeDetection:0})}return y})();var ta=C(445);let na=(()=>{class y{static \u0275fac=function(c){return new(c||y)};static \u0275mod=e.$C({type:y,bootstrap:[Pi]});static \u0275inj=e.G2t({providers:[(0,$.$R)((0,$.Sx)())],imports:[g.Bb,Ft,Uo,ta.G]})}return y})();g.sG().bootstrapModule(na)},981:()=>{!function(Te){var ne="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",C={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},g={bash:C,environment:{pattern:RegExp("\\$"+ne),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+ne),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};Te.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+ne),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:g},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:C}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:g},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:g.entity}}],environment:{pattern:RegExp("\\$?"+ne),alias:"constant"},variable:g.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},C.inside=Te.languages.bash;for(var e=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],$=g.variable[1].inside,O=0;O<e.length;O++)$[e[O]]=Te.languages.bash[e[O]];Te.languages.sh=Te.languages.bash,Te.languages.shell=Te.languages.bash}(Prism)},1582:()=>{Prism.languages.graphql={comment:/#.*/,description:{pattern:/(?:"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*")(?=\s*[a-z_])/i,greedy:!0,alias:"string",inside:{"language-markdown":{pattern:/(^"(?:"")?)(?!\1)[\s\S]+(?=\1$)/,lookbehind:!0,inside:Prism.languages.markdown}}},string:{pattern:/"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:/\b(?:false|true)\b/,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/\b[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,greedy:!0},"atom-input":{pattern:/\b[A-Z]\w*Input\b/,alias:"class-name"},scalar:/\b(?:Boolean|Float|ID|Int|String)\b/,constant:/\b[A-Z][A-Z_\d]*\b/,"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+|&\s*|:\s*|\[)[A-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-mutation":{pattern:/(\bmutation\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-query":{pattern:/(\bquery\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},keyword:/\b(?:directive|enum|extend|fragment|implements|input|interface|mutation|on|query|repeatable|scalar|schema|subscription|type|union)\b/,operator:/[!=|&]|\.{3}/,"property-query":/\w+(?=\s*\()/,object:/\w+(?=\s*\{)/,punctuation:/[!(){}\[\]:=,]/,property:/\w+/},Prism.hooks.add("after-tokenize",function(ne){if("graphql"===ne.language)for(var C=ne.tokens.filter(function(Y){return"string"!=typeof Y&&"comment"!==Y.type&&"scalar"!==Y.type}),g=0;g<C.length;){var G=C[g++];if("keyword"===G.type&&"mutation"===G.content){var re=[];if($(["definition-mutation","punctuation"])&&"("===e(1).content){g+=2;var be=O(/^\($/,/^\)$/);if(-1===be)continue;for(;g<be;g++){var he=e(0);"variable"===he.type&&(R(he,"variable-input"),re.push(he.content))}g=be+1}if($(["punctuation","property-query"])&&"{"===e(0).content&&(g++,R(e(0),"property-mutation"),re.length>0)){var le=O(/^\{$/,/^\}$/);if(-1===le)continue;for(var X=g;X<le;X++){var te=C[X];"variable"===te.type&&re.indexOf(te.content)>=0&&R(te,"variable-input")}}}}function e(Y){return C[g+Y]}function $(Y,W){W=W||0;for(var Ee=0;Ee<Y.length;Ee++){var ee=e(Ee+W);if(!ee||ee.type!==Y[Ee])return!1}return!0}function O(Y,W){for(var Ee=1,ee=g;ee<C.length;ee++){var Q=C[ee],me=Q.content;if("punctuation"===Q.type&&"string"==typeof me)if(Y.test(me))Ee++;else if(W.test(me)&&0==--Ee)return ee}return-1}function R(Y,W){var Ee=Y.alias;Ee?Array.isArray(Ee)||(Y.alias=Ee=[Ee]):Y.alias=Ee=[],Ee.push(W)}})},3809:()=>{Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},Prism.languages.webmanifest=Prism.languages.json},9628:()=>{!function(Te){Te.languages.typescript=Te.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),Te.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete Te.languages.typescript.parameter,delete Te.languages.typescript["literal-property"];var ne=Te.languages.extend("typescript",{});delete ne["class-name"],Te.languages.typescript["class-name"].inside=ne,Te.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:ne}}}}),Te.languages.ts=Te.languages.typescript}(Prism)},7240:()=>{!function(Te){var ne=/[*&][^\s[\]{},]+/,C=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,g="(?:"+C.source+"(?:[ \t]+"+ne.source+")?|"+ne.source+"(?:[ \t]+"+C.source+")?)",e=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source}),$=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function O(R,G){G=(G||"").replace(/m/g,"")+"m";var re=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,function(){return g}).replace(/<<value>>/g,function(){return R});return RegExp(re,G)}Te.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,function(){return g})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,function(){return g}).replace(/<<key>>/g,function(){return"(?:"+e+"|"+$+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:O(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:O(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:O(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:O($),lookbehind:!0,greedy:!0},number:{pattern:O(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:C,important:ne,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},Te.languages.yml=Te.languages.yaml}(Prism)},8295:Te=>{var C=function(g){var e=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,$=0,O={},R={manual:g.Prism&&g.Prism.manual,disableWorkerMessageHandler:g.Prism&&g.Prism.disableWorkerMessageHandler,util:{encode:function ee(Q){return Q instanceof G?new G(Q.type,ee(Q.content),Q.alias):Array.isArray(Q)?Q.map(ee):Q.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(ee){return Object.prototype.toString.call(ee).slice(8,-1)},objId:function(ee){return ee.__id||Object.defineProperty(ee,"__id",{value:++$}),ee.__id},clone:function ee(Q,me){var Me,Ie;switch(me=me||{},R.util.type(Q)){case"Object":if(Ie=R.util.objId(Q),me[Ie])return me[Ie];for(var de in me[Ie]=Me={},Q)Q.hasOwnProperty(de)&&(Me[de]=ee(Q[de],me));return Me;case"Array":return Ie=R.util.objId(Q),me[Ie]?me[Ie]:(me[Ie]=Me=[],Q.forEach(function(se,J){Me[J]=ee(se,me)}),Me);default:return Q}},getLanguage:function(ee){for(;ee;){var Q=e.exec(ee.className);if(Q)return Q[1].toLowerCase();ee=ee.parentElement}return"none"},setLanguage:function(ee,Q){ee.className=ee.className.replace(RegExp(e,"gi"),""),ee.classList.add("language-"+Q)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(Me){var ee=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(Me.stack)||[])[1];if(ee){var Q=document.getElementsByTagName("script");for(var me in Q)if(Q[me].src==ee)return Q[me]}return null}},isActive:function(ee,Q,me){for(var Me="no-"+Q;ee;){var Ie=ee.classList;if(Ie.contains(Q))return!0;if(Ie.contains(Me))return!1;ee=ee.parentElement}return!!me}},languages:{plain:O,plaintext:O,text:O,txt:O,extend:function(ee,Q){var me=R.util.clone(R.languages[ee]);for(var Me in Q)me[Me]=Q[Me];return me},insertBefore:function(ee,Q,me,Me){var Ie=(Me=Me||R.languages)[ee],de={};for(var se in Ie)if(Ie.hasOwnProperty(se)){if(se==Q)for(var J in me)me.hasOwnProperty(J)&&(de[J]=me[J]);me.hasOwnProperty(se)||(de[se]=Ie[se])}var Oe=Me[ee];return Me[ee]=de,R.languages.DFS(R.languages,function(je,Ae){Ae===Oe&&je!=ee&&(this[je]=de)}),de},DFS:function ee(Q,me,Me,Ie){Ie=Ie||{};var de=R.util.objId;for(var se in Q)if(Q.hasOwnProperty(se)){me.call(Q,se,Q[se],Me||se);var J=Q[se],Oe=R.util.type(J);"Object"!==Oe||Ie[de(J)]?"Array"===Oe&&!Ie[de(J)]&&(Ie[de(J)]=!0,ee(J,me,se,Ie)):(Ie[de(J)]=!0,ee(J,me,null,Ie))}}},plugins:{},highlightAll:function(ee,Q){R.highlightAllUnder(document,ee,Q)},highlightAllUnder:function(ee,Q,me){var Me={callback:me,container:ee,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};R.hooks.run("before-highlightall",Me),Me.elements=Array.prototype.slice.apply(Me.container.querySelectorAll(Me.selector)),R.hooks.run("before-all-elements-highlight",Me);for(var de,Ie=0;de=Me.elements[Ie++];)R.highlightElement(de,!0===Q,Me.callback)},highlightElement:function(ee,Q,me){var Me=R.util.getLanguage(ee),Ie=R.languages[Me];R.util.setLanguage(ee,Me);var de=ee.parentElement;de&&"pre"===de.nodeName.toLowerCase()&&R.util.setLanguage(de,Me);var J={element:ee,language:Me,grammar:Ie,code:ee.textContent};function Oe(Ae){J.highlightedCode=Ae,R.hooks.run("before-insert",J),J.element.innerHTML=J.highlightedCode,R.hooks.run("after-highlight",J),R.hooks.run("complete",J),me&&me.call(J.element)}if(R.hooks.run("before-sanity-check",J),(de=J.element.parentElement)&&"pre"===de.nodeName.toLowerCase()&&!de.hasAttribute("tabindex")&&de.setAttribute("tabindex","0"),!J.code)return R.hooks.run("complete",J),void(me&&me.call(J.element));if(R.hooks.run("before-highlight",J),J.grammar)if(Q&&g.Worker){var je=new Worker(R.filename);je.onmessage=function(Ae){Oe(Ae.data)},je.postMessage(JSON.stringify({language:J.language,code:J.code,immediateClose:!0}))}else Oe(R.highlight(J.code,J.grammar,J.language));else Oe(R.util.encode(J.code))},highlight:function(ee,Q,me){var Me={code:ee,grammar:Q,language:me};if(R.hooks.run("before-tokenize",Me),!Me.grammar)throw new Error('The language "'+Me.language+'" has no grammar.');return Me.tokens=R.tokenize(Me.code,Me.grammar),R.hooks.run("after-tokenize",Me),G.stringify(R.util.encode(Me.tokens),Me.language)},tokenize:function(ee,Q){var me=Q.rest;if(me){for(var Me in me)Q[Me]=me[Me];delete Q.rest}var Ie=new he;return le(Ie,Ie.head,ee),be(ee,Ie,Q,Ie.head,0),function te(ee){for(var Q=[],me=ee.head.next;me!==ee.tail;)Q.push(me.value),me=me.next;return Q}(Ie)},hooks:{all:{},add:function(ee,Q){var me=R.hooks.all;me[ee]=me[ee]||[],me[ee].push(Q)},run:function(ee,Q){var me=R.hooks.all[ee];if(me&&me.length)for(var Ie,Me=0;Ie=me[Me++];)Ie(Q)}},Token:G};function G(ee,Q,me,Me){this.type=ee,this.content=Q,this.alias=me,this.length=0|(Me||"").length}function re(ee,Q,me,Me){ee.lastIndex=Q;var Ie=ee.exec(me);if(Ie&&Me&&Ie[1]){var de=Ie[1].length;Ie.index+=de,Ie[0]=Ie[0].slice(de)}return Ie}function be(ee,Q,me,Me,Ie,de){for(var se in me)if(me.hasOwnProperty(se)&&me[se]){var J=me[se];J=Array.isArray(J)?J:[J];for(var Oe=0;Oe<J.length;++Oe){if(de&&de.cause==se+","+Oe)return;var je=J[Oe],Ae=je.inside,Ve=!!je.lookbehind,it=!!je.greedy,gt=je.alias;if(it&&!je.pattern.global){var ze=je.pattern.toString().match(/[imsuy]*$/)[0];je.pattern=RegExp(je.pattern.source,ze+"g")}for(var kt=je.pattern||je,Ye=Me.next,pt=Ie;Ye!==Q.tail&&!(de&&pt>=de.reach);pt+=Ye.value.length,Ye=Ye.next){var ht=Ye.value;if(Q.length>ee.length)return;if(!(ht instanceof G)){var Kt,Pt=1;if(it){if(!(Kt=re(kt,pt,ee,Ve))||Kt.index>=ee.length)break;var ge=Kt.index,oe=Kt.index+Kt[0].length,ae=pt;for(ae+=Ye.value.length;ge>=ae;)ae+=(Ye=Ye.next).value.length;if(pt=ae-=Ye.value.length,Ye.value instanceof G)continue;for(var fe=Ye;fe!==Q.tail&&(ae<oe||"string"==typeof fe.value);fe=fe.next)Pt++,ae+=fe.value.length;Pt--,ht=ee.slice(pt,ae),Kt.index-=pt}else if(!(Kt=re(kt,0,ht,Ve)))continue;var De=Kt[0],xe=ht.slice(0,ge=Kt.index),Qe=ht.slice(ge+De.length),Ct=pt+ht.length;de&&Ct>de.reach&&(de.reach=Ct);var We=Ye.prev;if(xe&&(We=le(Q,We,xe),pt+=xe.length),X(Q,We,Pt),Ye=le(Q,We,new G(se,Ae?R.tokenize(De,Ae):De,gt,De)),Qe&&le(Q,Ye,Qe),Pt>1){var Vt={cause:se+","+Oe,reach:Ct};be(ee,Q,me,Ye.prev,pt,Vt),de&&Vt.reach>de.reach&&(de.reach=Vt.reach)}}}}}}function he(){var ee={value:null,prev:null,next:null},Q={value:null,prev:ee,next:null};ee.next=Q,this.head=ee,this.tail=Q,this.length=0}function le(ee,Q,me){var Me=Q.next,Ie={value:me,prev:Q,next:Me};return Q.next=Ie,Me.prev=Ie,ee.length++,Ie}function X(ee,Q,me){for(var Me=Q.next,Ie=0;Ie<me&&Me!==ee.tail;Ie++)Me=Me.next;Q.next=Me,Me.prev=Q,ee.length-=Ie}if(g.Prism=R,G.stringify=function ee(Q,me){if("string"==typeof Q)return Q;if(Array.isArray(Q)){var Me="";return Q.forEach(function(Oe){Me+=ee(Oe,me)}),Me}var Ie={type:Q.type,content:ee(Q.content,me),tag:"span",classes:["token",Q.type],attributes:{},language:me},de=Q.alias;de&&(Array.isArray(de)?Array.prototype.push.apply(Ie.classes,de):Ie.classes.push(de)),R.hooks.run("wrap",Ie);var se="";for(var J in Ie.attributes)se+=" "+J+'="'+(Ie.attributes[J]||"").replace(/"/g,"&quot;")+'"';return"<"+Ie.tag+' class="'+Ie.classes.join(" ")+'"'+se+">"+Ie.content+"</"+Ie.tag+">"},!g.document)return g.addEventListener&&(R.disableWorkerMessageHandler||g.addEventListener("message",function(ee){var Q=JSON.parse(ee.data),me=Q.language,Ie=Q.immediateClose;g.postMessage(R.highlight(Q.code,R.languages[me],me)),Ie&&g.close()},!1)),R;var Y=R.util.currentScript();function W(){R.manual||R.highlightAll()}if(Y&&(R.filename=Y.src,Y.hasAttribute("data-manual")&&(R.manual=!0)),!R.manual){var Ee=document.readyState;"loading"===Ee||"interactive"===Ee&&Y&&Y.defer?document.addEventListener("DOMContentLoaded",W):window.requestAnimationFrame?window.requestAnimationFrame(W):window.setTimeout(W,16)}return R}(typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{});Te.exports&&(Te.exports=C),typeof global<"u"&&(global.Prism=C),C.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},C.languages.markup.tag.inside["attr-value"].inside.entity=C.languages.markup.entity,C.languages.markup.doctype.inside["internal-subset"].inside=C.languages.markup,C.hooks.add("wrap",function(g){"entity"===g.type&&(g.attributes.title=g.content.replace(/&amp;/,"&"))}),Object.defineProperty(C.languages.markup.tag,"addInlined",{value:function(e,$){var O={};O["language-"+$]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:C.languages[$]},O.cdata=/^<!\[CDATA\[|\]\]>$/i;var R={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:O}};R["language-"+$]={pattern:/[\s\S]+/,inside:C.languages[$]};var G={};G[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:R},C.languages.insertBefore("markup","cdata",G)}}),Object.defineProperty(C.languages.markup.tag,"addAttribute",{value:function(g,e){C.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+g+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:C.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),C.languages.html=C.languages.markup,C.languages.mathml=C.languages.markup,C.languages.svg=C.languages.markup,C.languages.xml=C.languages.extend("markup",{}),C.languages.ssml=C.languages.xml,C.languages.atom=C.languages.xml,C.languages.rss=C.languages.xml,function(g){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;g.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},g.languages.css.atrule.inside.rest=g.languages.css;var $=g.languages.markup;$&&($.tag.addInlined("style","css"),$.tag.addAttribute("style","css"))}(C),C.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},C.languages.javascript=C.languages.extend("clike",{"class-name":[C.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),C.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,C.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:C.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:C.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:C.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:C.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:C.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),C.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:C.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),C.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),C.languages.markup&&(C.languages.markup.tag.addInlined("script","javascript"),C.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),C.languages.js=C.languages.javascript,function(){if(!(typeof C>"u"||typeof document>"u")){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var O={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},R="data-src-status",G="loading",he="pre[data-src]:not(["+R+'="loaded"]):not(['+R+'="'+G+'"])';C.hooks.add("before-highlightall",function(Y){Y.selector+=", "+he}),C.hooks.add("before-sanity-check",function(Y){var W=Y.element;if(W.matches(he)){Y.code="",W.setAttribute(R,G);var Ee=W.appendChild(document.createElement("CODE"));Ee.textContent="Loading\u2026";var ee=W.getAttribute("data-src"),Q=Y.language;if("none"===Q){var me=(/\.(\w+)$/.exec(ee)||[,"none"])[1];Q=O[me]||me}C.util.setLanguage(Ee,Q),C.util.setLanguage(W,Q);var Me=C.plugins.autoloader;Me&&Me.loadLanguages(Q),function le(Y,W,Ee){var ee=new XMLHttpRequest;ee.open("GET",Y,!0),ee.onreadystatechange=function(){4==ee.readyState&&(ee.status<400&&ee.responseText?W(ee.responseText):Ee(ee.status>=400?function(Y,W){return"\u2716 Error "+Y+" while fetching file: "+W}(ee.status,ee.statusText):"\u2716 Error: File does not exist or is empty"))},ee.send(null)}(ee,function(Ie){W.setAttribute(R,"loaded");var de=function X(Y){var W=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(Y||"");if(W){var Ee=Number(W[1]),Q=W[3];return W[2]?Q?[Ee,Number(Q)]:[Ee,void 0]:[Ee,Ee]}}(W.getAttribute("data-range"));if(de){var se=Ie.split(/\r\n?|\n/g),J=de[0],Oe=null==de[1]?se.length:de[1];J<0&&(J+=se.length),J=Math.max(0,Math.min(J-1,se.length)),Oe<0&&(Oe+=se.length),Oe=Math.max(0,Math.min(Oe,se.length)),Ie=se.slice(J,Oe).join("\n"),W.hasAttribute("data-start")||W.setAttribute("data-start",String(J+1))}Ee.textContent=Ie,C.highlightElement(Ee)},function(Ie){W.setAttribute(R,"failed"),Ee.textContent=Ie})}}),C.plugins.fileHighlight={highlight:function(W){for(var Q,Ee=(W||document).querySelectorAll(he),ee=0;Q=Ee[ee++];)C.highlightElement(Q)}};var te=!1;C.fileHighlight=function(){te||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),te=!0),C.plugins.fileHighlight.highlight.apply(this,arguments)}}}()},4412:(Te,ne,C)=>{"use strict";C.d(ne,{t:()=>e});var g=C(1413);class e extends g.B{constructor(O){super(),this._value=O}get value(){return this.getValue()}_subscribe(O){const R=super._subscribe(O);return!R.closed&&O.next(this._value),R}getValue(){const{hasError:O,thrownError:R,_value:G}=this;if(O)throw R;return this._throwIfClosed(),G}next(O){super.next(this._value=O)}}},1985:(Te,ne,C)=>{"use strict";C.d(ne,{c:()=>be});var g=C(7707),e=C(8359),$=C(3494),O=C(1203),R=C(1026),G=C(8071),re=C(9786);let be=(()=>{class te{constructor(W){W&&(this._subscribe=W)}lift(W){const Ee=new te;return Ee.source=this,Ee.operator=W,Ee}subscribe(W,Ee,ee){const Q=function X(te){return te&&te instanceof g.vU||function le(te){return te&&(0,G.T)(te.next)&&(0,G.T)(te.error)&&(0,G.T)(te.complete)}(te)&&(0,e.Uv)(te)}(W)?W:new g.Ms(W,Ee,ee);return(0,re.Y)(()=>{const{operator:me,source:Me}=this;Q.add(me?me.call(Q,Me):Me?this._subscribe(Q):this._trySubscribe(Q))}),Q}_trySubscribe(W){try{return this._subscribe(W)}catch(Ee){W.error(Ee)}}forEach(W,Ee){return new(Ee=he(Ee))((ee,Q)=>{const me=new g.Ms({next:Me=>{try{W(Me)}catch(Ie){Q(Ie),me.unsubscribe()}},error:Q,complete:ee});this.subscribe(me)})}_subscribe(W){var Ee;return null===(Ee=this.source)||void 0===Ee?void 0:Ee.subscribe(W)}[$.s](){return this}pipe(...W){return(0,O.m)(W)(this)}toPromise(W){return new(W=he(W))((Ee,ee)=>{let Q;this.subscribe(me=>Q=me,me=>ee(me),()=>Ee(Q))})}}return te.create=Y=>new te(Y),te})();function he(te){var Y;return null!==(Y=te??R.$.Promise)&&void 0!==Y?Y:Promise}},1413:(Te,ne,C)=>{"use strict";C.d(ne,{B:()=>re});var g=C(1985),e=C(8359);const O=(0,C(1853).L)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var R=C(7908),G=C(9786);let re=(()=>{class he extends g.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(X){const te=new be(this,this);return te.operator=X,te}_throwIfClosed(){if(this.closed)throw new O}next(X){(0,G.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(X)}})}error(X){(0,G.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=X;const{observers:te}=this;for(;te.length;)te.shift().error(X)}})}complete(){(0,G.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:X}=this;for(;X.length;)X.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var X;return(null===(X=this.observers)||void 0===X?void 0:X.length)>0}_trySubscribe(X){return this._throwIfClosed(),super._trySubscribe(X)}_subscribe(X){return this._throwIfClosed(),this._checkFinalizedStatuses(X),this._innerSubscribe(X)}_innerSubscribe(X){const{hasError:te,isStopped:Y,observers:W}=this;return te||Y?e.Kn:(this.currentObservers=null,W.push(X),new e.yU(()=>{this.currentObservers=null,(0,R.o)(W,X)}))}_checkFinalizedStatuses(X){const{hasError:te,thrownError:Y,isStopped:W}=this;te?X.error(Y):W&&X.complete()}asObservable(){const X=new g.c;return X.source=this,X}}return he.create=(le,X)=>new be(le,X),he})();class be extends re{constructor(le,X){super(),this.destination=le,this.source=X}next(le){var X,te;null===(te=null===(X=this.destination)||void 0===X?void 0:X.next)||void 0===te||te.call(X,le)}error(le){var X,te;null===(te=null===(X=this.destination)||void 0===X?void 0:X.error)||void 0===te||te.call(X,le)}complete(){var le,X;null===(X=null===(le=this.destination)||void 0===le?void 0:le.complete)||void 0===X||X.call(le)}_subscribe(le){var X,te;return null!==(te=null===(X=this.source)||void 0===X?void 0:X.subscribe(le))&&void 0!==te?te:e.Kn}}},7707:(Te,ne,C)=>{"use strict";C.d(ne,{Ms:()=>ee,vU:()=>te});var g=C(8071),e=C(8359),$=C(1026),O=C(5334),R=C(5343);const G=he("C",void 0,void 0);function he(de,se,J){return{kind:de,value:se,error:J}}var le=C(9270),X=C(9786);class te extends e.yU{constructor(se){super(),this.isStopped=!1,se?(this.destination=se,(0,e.Uv)(se)&&se.add(this)):this.destination=Ie}static create(se,J,Oe){return new ee(se,J,Oe)}next(se){this.isStopped?Me(function be(de){return he("N",de,void 0)}(se),this):this._next(se)}error(se){this.isStopped?Me(function re(de){return he("E",void 0,de)}(se),this):(this.isStopped=!0,this._error(se))}complete(){this.isStopped?Me(G,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(se){this.destination.next(se)}_error(se){try{this.destination.error(se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Y=Function.prototype.bind;function W(de,se){return Y.call(de,se)}class Ee{constructor(se){this.partialObserver=se}next(se){const{partialObserver:J}=this;if(J.next)try{J.next(se)}catch(Oe){Q(Oe)}}error(se){const{partialObserver:J}=this;if(J.error)try{J.error(se)}catch(Oe){Q(Oe)}else Q(se)}complete(){const{partialObserver:se}=this;if(se.complete)try{se.complete()}catch(J){Q(J)}}}class ee extends te{constructor(se,J,Oe){let je;if(super(),(0,g.T)(se)||!se)je={next:se??void 0,error:J??void 0,complete:Oe??void 0};else{let Ae;this&&$.$.useDeprecatedNextContext?(Ae=Object.create(se),Ae.unsubscribe=()=>this.unsubscribe(),je={next:se.next&&W(se.next,Ae),error:se.error&&W(se.error,Ae),complete:se.complete&&W(se.complete,Ae)}):je=se}this.destination=new Ee(je)}}function Q(de){$.$.useDeprecatedSynchronousErrorHandling?(0,X.l)(de):(0,O.m)(de)}function Me(de,se){const{onStoppedNotification:J}=$.$;J&&le.f.setTimeout(()=>J(de,se))}const Ie={closed:!0,next:R.l,error:function me(de){throw de},complete:R.l}},8359:(Te,ne,C)=>{"use strict";C.d(ne,{Kn:()=>G,yU:()=>R,Uv:()=>re});var g=C(8071);const $=(0,C(1853).L)(he=>function(X){he(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((te,Y)=>`${Y+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X});var O=C(7908);class R{constructor(le){this.initialTeardown=le,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let le;if(!this.closed){this.closed=!0;const{_parentage:X}=this;if(X)if(this._parentage=null,Array.isArray(X))for(const W of X)W.remove(this);else X.remove(this);const{initialTeardown:te}=this;if((0,g.T)(te))try{te()}catch(W){le=W instanceof $?W.errors:[W]}const{_finalizers:Y}=this;if(Y){this._finalizers=null;for(const W of Y)try{be(W)}catch(Ee){le=le??[],Ee instanceof $?le=[...le,...Ee.errors]:le.push(Ee)}}if(le)throw new $(le)}}add(le){var X;if(le&&le!==this)if(this.closed)be(le);else{if(le instanceof R){if(le.closed||le._hasParent(this))return;le._addParent(this)}(this._finalizers=null!==(X=this._finalizers)&&void 0!==X?X:[]).push(le)}}_hasParent(le){const{_parentage:X}=this;return X===le||Array.isArray(X)&&X.includes(le)}_addParent(le){const{_parentage:X}=this;this._parentage=Array.isArray(X)?(X.push(le),X):X?[X,le]:le}_removeParent(le){const{_parentage:X}=this;X===le?this._parentage=null:Array.isArray(X)&&(0,O.o)(X,le)}remove(le){const{_finalizers:X}=this;X&&(0,O.o)(X,le),le instanceof R&&le._removeParent(this)}}R.EMPTY=(()=>{const he=new R;return he.closed=!0,he})();const G=R.EMPTY;function re(he){return he instanceof R||he&&"closed"in he&&(0,g.T)(he.remove)&&(0,g.T)(he.add)&&(0,g.T)(he.unsubscribe)}function be(he){(0,g.T)(he)?he():he.unsubscribe()}},1026:(Te,ne,C)=>{"use strict";C.d(ne,{$:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(Te,ne,C)=>{"use strict";C.d(ne,{z:()=>le});var g=C(1985),e=C(3073),$=C(6648),O=C(3669),R=C(6450),G=C(9326),re=C(8496),be=C(4360),he=C(5225);function le(...Y){const W=(0,G.lI)(Y),Ee=(0,G.ms)(Y),{args:ee,keys:Q}=(0,e.D)(Y);if(0===ee.length)return(0,$.H)([],W);const me=new g.c(function X(Y,W,Ee=O.D){return ee=>{te(W,()=>{const{length:Q}=Y,me=new Array(Q);let Me=Q,Ie=Q;for(let de=0;de<Q;de++)te(W,()=>{const se=(0,$.H)(Y[de],W);let J=!1;se.subscribe((0,be._)(ee,Oe=>{me[de]=Oe,J||(J=!0,Ie--),Ie||ee.next(Ee(me.slice()))},()=>{--Me||ee.complete()}))},ee)},ee)}}(ee,W,Q?Me=>(0,re.e)(Q,Me):O.D));return Ee?me.pipe((0,R.I)(Ee)):me}function te(Y,W,Ee){Y?(0,he.N)(Ee,Y,W):W()}},8793:(Te,ne,C)=>{"use strict";C.d(ne,{x:()=>R});var g=C(6365),$=C(9326),O=C(6648);function R(...G){return function e(){return(0,g.U)(1)}()((0,O.H)(G,(0,$.lI)(G)))}},983:(Te,ne,C)=>{"use strict";C.d(ne,{w:()=>e});const e=new(C(1985).c)(R=>R.complete())},6648:(Te,ne,C)=>{"use strict";C.d(ne,{H:()=>Oe});var g=C(8750),e=C(5225),$=C(9974),O=C(4360);function R(je,Ae=0){return(0,$.N)((Ve,it)=>{Ve.subscribe((0,O._)(it,gt=>(0,e.N)(it,je,()=>it.next(gt),Ae),()=>(0,e.N)(it,je,()=>it.complete(),Ae),gt=>(0,e.N)(it,je,()=>it.error(gt),Ae)))})}function G(je,Ae=0){return(0,$.N)((Ve,it)=>{it.add(je.schedule(()=>Ve.subscribe(it),Ae))})}var he=C(1985),X=C(4761),te=C(8071);function W(je,Ae){if(!je)throw new Error("Iterable cannot be null");return new he.c(Ve=>{(0,e.N)(Ve,Ae,()=>{const it=je[Symbol.asyncIterator]();(0,e.N)(Ve,Ae,()=>{it.next().then(gt=>{gt.done?Ve.complete():Ve.next(gt.value)})},0,!0)})})}var Ee=C(5055),ee=C(9858),Q=C(7441),me=C(5397),Me=C(7953),Ie=C(591),de=C(5196);function Oe(je,Ae){return Ae?function J(je,Ae){if(null!=je){if((0,Ee.l)(je))return function re(je,Ae){return(0,g.Tg)(je).pipe(G(Ae),R(Ae))}(je,Ae);if((0,Q.X)(je))return function le(je,Ae){return new he.c(Ve=>{let it=0;return Ae.schedule(function(){it===je.length?Ve.complete():(Ve.next(je[it++]),Ve.closed||this.schedule())})})}(je,Ae);if((0,ee.y)(je))return function be(je,Ae){return(0,g.Tg)(je).pipe(G(Ae),R(Ae))}(je,Ae);if((0,Me.T)(je))return W(je,Ae);if((0,me.x)(je))return function Y(je,Ae){return new he.c(Ve=>{let it;return(0,e.N)(Ve,Ae,()=>{it=je[X.l](),(0,e.N)(Ve,Ae,()=>{let gt,ze;try{({value:gt,done:ze}=it.next())}catch(kt){return void Ve.error(kt)}ze?Ve.complete():Ve.next(gt)},0,!0)}),()=>(0,te.T)(it?.return)&&it.return()})}(je,Ae);if((0,de.U)(je))return function se(je,Ae){return W((0,de.C)(je),Ae)}(je,Ae)}throw(0,Ie.L)(je)}(je,Ae):(0,g.Tg)(je)}},8750:(Te,ne,C)=>{"use strict";C.d(ne,{Tg:()=>Y});var g=C(1635),e=C(7441),$=C(9858),O=C(1985),R=C(5055),G=C(7953),re=C(591),be=C(5397),he=C(5196),le=C(8071),X=C(5334),te=C(3494);function Y(de){if(de instanceof O.c)return de;if(null!=de){if((0,R.l)(de))return function W(de){return new O.c(se=>{const J=de[te.s]();if((0,le.T)(J.subscribe))return J.subscribe(se);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(de);if((0,e.X)(de))return function Ee(de){return new O.c(se=>{for(let J=0;J<de.length&&!se.closed;J++)se.next(de[J]);se.complete()})}(de);if((0,$.y)(de))return function ee(de){return new O.c(se=>{de.then(J=>{se.closed||(se.next(J),se.complete())},J=>se.error(J)).then(null,X.m)})}(de);if((0,G.T)(de))return me(de);if((0,be.x)(de))return function Q(de){return new O.c(se=>{for(const J of de)if(se.next(J),se.closed)return;se.complete()})}(de);if((0,he.U)(de))return function Me(de){return me((0,he.C)(de))}(de)}throw(0,re.L)(de)}function me(de){return new O.c(se=>{(function Ie(de,se){var J,Oe,je,Ae;return(0,g.sH)(this,void 0,void 0,function*(){try{for(J=(0,g.xN)(de);!(Oe=yield J.next()).done;)if(se.next(Oe.value),se.closed)return}catch(Ve){je={error:Ve}}finally{try{Oe&&!Oe.done&&(Ae=J.return)&&(yield Ae.call(J))}finally{if(je)throw je.error}}se.complete()})})(de,se).catch(J=>se.error(J))})}},7673:(Te,ne,C)=>{"use strict";C.d(ne,{of:()=>$});var g=C(9326),e=C(6648);function $(...O){const R=(0,g.lI)(O);return(0,e.H)(O,R)}},8810:(Te,ne,C)=>{"use strict";C.d(ne,{$:()=>$});var g=C(1985),e=C(8071);function $(O,R){const G=(0,e.T)(O)?O:()=>O,re=be=>be.error(G());return new g.c(R?be=>R.schedule(re,0,be):re)}},4360:(Te,ne,C)=>{"use strict";C.d(ne,{_:()=>e});var g=C(7707);function e(O,R,G,re,be){return new $(O,R,G,re,be)}class $ extends g.vU{constructor(R,G,re,be,he,le){super(R),this.onFinalize=he,this.shouldUnsubscribe=le,this._next=G?function(X){try{G(X)}catch(te){R.error(te)}}:super._next,this._error=be?function(X){try{be(X)}catch(te){R.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(X){R.error(X)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var R;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:G}=this;super.unsubscribe(),!G&&(null===(R=this.onFinalize)||void 0===R||R.call(this))}}}},9437:(Te,ne,C)=>{"use strict";C.d(ne,{W:()=>O});var g=C(8750),e=C(4360),$=C(9974);function O(R){return(0,$.N)((G,re)=>{let le,be=null,he=!1;be=G.subscribe((0,e._)(re,void 0,void 0,X=>{le=(0,g.Tg)(R(X,O(R)(G))),be?(be.unsubscribe(),be=null,le.subscribe(re)):he=!0})),he&&(be.unsubscribe(),be=null,le.subscribe(re))})}},274:(Te,ne,C)=>{"use strict";C.d(ne,{H:()=>$});var g=C(1397),e=C(8071);function $(O,R){return(0,e.T)(R)?(0,g.Z)(O,R,1):(0,g.Z)(O,1)}},152:(Te,ne,C)=>{"use strict";C.d(ne,{B:()=>O});var g=C(3888),e=C(9974),$=C(4360);function O(R,G=g.E){return(0,e.N)((re,be)=>{let he=null,le=null,X=null;const te=()=>{if(he){he.unsubscribe(),he=null;const W=le;le=null,be.next(W)}};function Y(){const W=X+R,Ee=G.now();if(Ee<W)return he=this.schedule(void 0,W-Ee),void be.add(he);te()}re.subscribe((0,$._)(be,W=>{le=W,X=G.now(),he||(he=G.schedule(Y,R),be.add(he))},()=>{te(),be.complete()},void 0,()=>{le=he=null}))})}},5964:(Te,ne,C)=>{"use strict";C.d(ne,{p:()=>$});var g=C(9974),e=C(4360);function $(O,R){return(0,g.N)((G,re)=>{let be=0;G.subscribe((0,e._)(re,he=>O.call(R,he,be++)&&re.next(he)))})}},980:(Te,ne,C)=>{"use strict";C.d(ne,{j:()=>e});var g=C(9974);function e($){return(0,g.N)((O,R)=>{try{O.subscribe(R)}finally{R.add($)}})}},6354:(Te,ne,C)=>{"use strict";C.d(ne,{T:()=>$});var g=C(9974),e=C(4360);function $(O,R){return(0,g.N)((G,re)=>{let be=0;G.subscribe((0,e._)(re,he=>{re.next(O.call(R,he,be++))}))})}},6365:(Te,ne,C)=>{"use strict";C.d(ne,{U:()=>$});var g=C(1397),e=C(3669);function $(O=1/0){return(0,g.Z)(e.D,O)}},1397:(Te,ne,C)=>{"use strict";C.d(ne,{Z:()=>be});var g=C(6354),e=C(8750),$=C(9974),O=C(5225),R=C(4360),re=C(8071);function be(he,le,X=1/0){return(0,re.T)(le)?be((te,Y)=>(0,g.T)((W,Ee)=>le(te,W,Y,Ee))((0,e.Tg)(he(te,Y))),X):("number"==typeof le&&(X=le),(0,$.N)((te,Y)=>function G(he,le,X,te,Y,W,Ee,ee){const Q=[];let me=0,Me=0,Ie=!1;const de=()=>{Ie&&!Q.length&&!me&&le.complete()},se=Oe=>me<te?J(Oe):Q.push(Oe),J=Oe=>{W&&le.next(Oe),me++;let je=!1;(0,e.Tg)(X(Oe,Me++)).subscribe((0,R._)(le,Ae=>{Y?.(Ae),W?se(Ae):le.next(Ae)},()=>{je=!0},void 0,()=>{if(je)try{for(me--;Q.length&&me<te;){const Ae=Q.shift();Ee?(0,O.N)(le,Ee,()=>J(Ae)):J(Ae)}de()}catch(Ae){le.error(Ae)}}))};return he.subscribe((0,R._)(le,se,()=>{Ie=!0,de()})),()=>{ee?.()}}(te,Y,he,X)))}},9172:(Te,ne,C)=>{"use strict";C.d(ne,{Z:()=>O});var g=C(8793),e=C(9326),$=C(9974);function O(...R){const G=(0,e.lI)(R);return(0,$.N)((re,be)=>{(G?(0,g.x)(R,re,G):(0,g.x)(R,re)).subscribe(be)})}},5558:(Te,ne,C)=>{"use strict";C.d(ne,{n:()=>O});var g=C(8750),e=C(9974),$=C(4360);function O(R,G){return(0,e.N)((re,be)=>{let he=null,le=0,X=!1;const te=()=>X&&!he&&be.complete();re.subscribe((0,$._)(be,Y=>{he?.unsubscribe();let W=0;const Ee=le++;(0,g.Tg)(R(Y,Ee)).subscribe(he=(0,$._)(be,ee=>be.next(G?G(Y,ee,Ee,W++):ee),()=>{he=null,te()}))},()=>{X=!0,te()}))})}},6697:(Te,ne,C)=>{"use strict";C.d(ne,{s:()=>O});var g=C(983),e=C(9974),$=C(4360);function O(R){return R<=0?()=>g.w:(0,e.N)((G,re)=>{let be=0;G.subscribe((0,$._)(re,he=>{++be<=R&&(re.next(he),R<=be&&re.complete())}))})}},6977:(Te,ne,C)=>{"use strict";C.d(ne,{Q:()=>R});var g=C(9974),e=C(4360),$=C(8750),O=C(5343);function R(G){return(0,g.N)((re,be)=>{(0,$.Tg)(G).subscribe((0,e._)(be,()=>be.complete(),O.l)),!be.closed&&re.subscribe(be)})}},8141:(Te,ne,C)=>{"use strict";C.d(ne,{M:()=>R});var g=C(8071),e=C(9974),$=C(4360),O=C(3669);function R(G,re,be){const he=(0,g.T)(G)||re||be?{next:G,error:re,complete:be}:G;return he?(0,e.N)((le,X)=>{var te;null===(te=he.subscribe)||void 0===te||te.call(he);let Y=!0;le.subscribe((0,$._)(X,W=>{var Ee;null===(Ee=he.next)||void 0===Ee||Ee.call(he,W),X.next(W)},()=>{var W;Y=!1,null===(W=he.complete)||void 0===W||W.call(he),X.complete()},W=>{var Ee;Y=!1,null===(Ee=he.error)||void 0===Ee||Ee.call(he,W),X.error(W)},()=>{var W,Ee;Y&&(null===(W=he.unsubscribe)||void 0===W||W.call(he)),null===(Ee=he.finalize)||void 0===Ee||Ee.call(he)}))}):O.D}},3888:(Te,ne,C)=>{"use strict";C.d(ne,{b:()=>le,E:()=>he});var g=C(8359);class e extends g.yU{constructor(te,Y){super()}schedule(te,Y=0){return this}}const $={setInterval(X,te,...Y){const{delegate:W}=$;return W?.setInterval?W.setInterval(X,te,...Y):setInterval(X,te,...Y)},clearInterval(X){const{delegate:te}=$;return(te?.clearInterval||clearInterval)(X)},delegate:void 0};var O=C(7908);const G={now:()=>(G.delegate||Date).now(),delegate:void 0};class re{constructor(te,Y=re.now){this.schedulerActionCtor=te,this.now=Y}schedule(te,Y=0,W){return new this.schedulerActionCtor(this,te).schedule(W,Y)}}re.now=G.now;const he=new class be extends re{constructor(te,Y=re.now){super(te,Y),this.actions=[],this._active=!1}flush(te){const{actions:Y}=this;if(this._active)return void Y.push(te);let W;this._active=!0;do{if(W=te.execute(te.state,te.delay))break}while(te=Y.shift());if(this._active=!1,W){for(;te=Y.shift();)te.unsubscribe();throw W}}}(class R extends e{constructor(te,Y){super(te,Y),this.scheduler=te,this.work=Y,this.pending=!1}schedule(te,Y=0){var W;if(this.closed)return this;this.state=te;const Ee=this.id,ee=this.scheduler;return null!=Ee&&(this.id=this.recycleAsyncId(ee,Ee,Y)),this.pending=!0,this.delay=Y,this.id=null!==(W=this.id)&&void 0!==W?W:this.requestAsyncId(ee,this.id,Y),this}requestAsyncId(te,Y,W=0){return $.setInterval(te.flush.bind(te,this),W)}recycleAsyncId(te,Y,W=0){if(null!=W&&this.delay===W&&!1===this.pending)return Y;null!=Y&&$.clearInterval(Y)}execute(te,Y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const W=this._execute(te,Y);if(W)return W;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,Y){let Ee,W=!1;try{this.work(te)}catch(ee){W=!0,Ee=ee||new Error("Scheduled action threw falsy error")}if(W)return this.unsubscribe(),Ee}unsubscribe(){if(!this.closed){const{id:te,scheduler:Y}=this,{actions:W}=Y;this.work=this.state=this.scheduler=null,this.pending=!1,(0,O.o)(W,this),null!=te&&(this.id=this.recycleAsyncId(Y,te,null)),this.delay=null,super.unsubscribe()}}}),le=he},9270:(Te,ne,C)=>{"use strict";C.d(ne,{f:()=>g});const g={setTimeout(e,$,...O){const{delegate:R}=g;return R?.setTimeout?R.setTimeout(e,$,...O):setTimeout(e,$,...O)},clearTimeout(e){const{delegate:$}=g;return($?.clearTimeout||clearTimeout)(e)},delegate:void 0}},4761:(Te,ne,C)=>{"use strict";C.d(ne,{l:()=>e});const e=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Te,ne,C)=>{"use strict";C.d(ne,{s:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Te,ne,C)=>{"use strict";C.d(ne,{G:()=>e});const e=(0,C(1853).L)($=>function(){$(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(Te,ne,C)=>{"use strict";C.d(ne,{lI:()=>R,ms:()=>O});var g=C(8071),e=C(9470);function $(re){return re[re.length-1]}function O(re){return(0,g.T)($(re))?re.pop():void 0}function R(re){return(0,e.m)($(re))?re.pop():void 0}},3073:(Te,ne,C)=>{"use strict";C.d(ne,{D:()=>R});const{isArray:g}=Array,{getPrototypeOf:e,prototype:$,keys:O}=Object;function R(re){if(1===re.length){const be=re[0];if(g(be))return{args:be,keys:null};if(function G(re){return re&&"object"==typeof re&&e(re)===$}(be)){const he=O(be);return{args:he.map(le=>be[le]),keys:he}}}return{args:re,keys:null}}},7908:(Te,ne,C)=>{"use strict";function g(e,$){if(e){const O=e.indexOf($);0<=O&&e.splice(O,1)}}C.d(ne,{o:()=>g})},1853:(Te,ne,C)=>{"use strict";function g(e){const O=e(R=>{Error.call(R),R.stack=(new Error).stack});return O.prototype=Object.create(Error.prototype),O.prototype.constructor=O,O}C.d(ne,{L:()=>g})},8496:(Te,ne,C)=>{"use strict";function g(e,$){return e.reduce((O,R,G)=>(O[R]=$[G],O),{})}C.d(ne,{e:()=>g})},9786:(Te,ne,C)=>{"use strict";C.d(ne,{Y:()=>$,l:()=>O});var g=C(1026);let e=null;function $(R){if(g.$.useDeprecatedSynchronousErrorHandling){const G=!e;if(G&&(e={errorThrown:!1,error:null}),R(),G){const{errorThrown:re,error:be}=e;if(e=null,re)throw be}}else R()}function O(R){g.$.useDeprecatedSynchronousErrorHandling&&e&&(e.errorThrown=!0,e.error=R)}},5225:(Te,ne,C)=>{"use strict";function g(e,$,O,R=0,G=!1){const re=$.schedule(function(){O(),G?e.add(this.schedule(null,R)):this.unsubscribe()},R);if(e.add(re),!G)return re}C.d(ne,{N:()=>g})},3669:(Te,ne,C)=>{"use strict";function g(e){return e}C.d(ne,{D:()=>g})},7441:(Te,ne,C)=>{"use strict";C.d(ne,{X:()=>g});const g=e=>e&&"number"==typeof e.length&&"function"!=typeof e},7953:(Te,ne,C)=>{"use strict";C.d(ne,{T:()=>e});var g=C(8071);function e($){return Symbol.asyncIterator&&(0,g.T)($?.[Symbol.asyncIterator])}},8071:(Te,ne,C)=>{"use strict";function g(e){return"function"==typeof e}C.d(ne,{T:()=>g})},5055:(Te,ne,C)=>{"use strict";C.d(ne,{l:()=>$});var g=C(3494),e=C(8071);function $(O){return(0,e.T)(O[g.s])}},5397:(Te,ne,C)=>{"use strict";C.d(ne,{x:()=>$});var g=C(4761),e=C(8071);function $(O){return(0,e.T)(O?.[g.l])}},4402:(Te,ne,C)=>{"use strict";C.d(ne,{A:()=>$});var g=C(1985),e=C(8071);function $(O){return!!O&&(O instanceof g.c||(0,e.T)(O.lift)&&(0,e.T)(O.subscribe))}},9858:(Te,ne,C)=>{"use strict";C.d(ne,{y:()=>e});var g=C(8071);function e($){return(0,g.T)($?.then)}},5196:(Te,ne,C)=>{"use strict";C.d(ne,{C:()=>$,U:()=>O});var g=C(1635),e=C(8071);function $(R){return(0,g.AQ)(this,arguments,function*(){const re=R.getReader();try{for(;;){const{value:be,done:he}=yield(0,g.N3)(re.read());if(he)return yield(0,g.N3)(void 0);yield yield(0,g.N3)(be)}}finally{re.releaseLock()}})}function O(R){return(0,e.T)(R?.getReader)}},9470:(Te,ne,C)=>{"use strict";C.d(ne,{m:()=>e});var g=C(8071);function e($){return $&&(0,g.T)($.schedule)}},9974:(Te,ne,C)=>{"use strict";C.d(ne,{N:()=>$,S:()=>e});var g=C(8071);function e(O){return(0,g.T)(O?.lift)}function $(O){return R=>{if(e(R))return R.lift(function(G){try{return O(G,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Te,ne,C)=>{"use strict";C.d(ne,{I:()=>O});var g=C(6354);const{isArray:e}=Array;function O(R){return(0,g.T)(G=>function $(R,G){return e(G)?R(...G):R(G)}(R,G))}},5343:(Te,ne,C)=>{"use strict";function g(){}C.d(ne,{l:()=>g})},1203:(Te,ne,C)=>{"use strict";C.d(ne,{F:()=>e,m:()=>$});var g=C(3669);function e(...O){return $(O)}function $(O){return 0===O.length?g.D:1===O.length?O[0]:function(G){return O.reduce((re,be)=>be(re),G)}}},5334:(Te,ne,C)=>{"use strict";C.d(ne,{m:()=>$});var g=C(1026),e=C(9270);function $(O){e.f.setTimeout(()=>{const{onUnhandledError:R}=g.$;if(!R)throw O;R(O)})}},591:(Te,ne,C)=>{"use strict";function g(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}C.d(ne,{L:()=>g})},1844:(Te,ne,C)=>{"use strict";C.d(ne,{QP:()=>Ve,DY:()=>Oe});var g=C(4438);function R(ze){return Array.isArray(ze)?ze:[ze]}var he=C(1413),le=C(4572),X=C(8793),te=C(1985),Y=C(6697),W=C(5964),ee=C(152),Q=C(6354),me=C(9172),Me=C(6977),Ie=C(6860);const se=new Set;let J,Oe=(()=>{class ze{constructor(Ye,pt){this._platform=Ye,this._nonce=pt,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ae}matchMedia(Ye){return(this._platform.WEBKIT||this._platform.BLINK)&&function je(ze,kt){if(!se.has(ze))try{J||(J=document.createElement("style"),kt&&J.setAttribute("nonce",kt),J.setAttribute("type","text/css"),document.head.appendChild(J)),J.sheet&&(J.sheet.insertRule(`@media ${ze} {body{ }}`,0),se.add(ze))}catch(Ye){console.error(Ye)}}(Ye,this._nonce),this._matchMedia(Ye)}static#e=this.\u0275fac=function(pt){return new(pt||ze)(g.KVO(Ie.OD),g.KVO(g.BIS,8))};static#t=this.\u0275prov=g.jDH({token:ze,factory:ze.\u0275fac,providedIn:"root"})}return ze})();function Ae(ze){return{matches:"all"===ze||""===ze,media:ze,addListener:()=>{},removeListener:()=>{}}}let Ve=(()=>{class ze{constructor(Ye,pt){this._mediaMatcher=Ye,this._zone=pt,this._queries=new Map,this._destroySubject=new he.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Ye){return it(R(Ye)).some(ht=>this._registerQuery(ht).mql.matches)}observe(Ye){const ht=it(R(Ye)).map(Kt=>this._registerQuery(Kt).observable);let Pt=(0,le.z)(ht);return Pt=(0,X.x)(Pt.pipe((0,Y.s)(1)),Pt.pipe(function Ee(ze){return(0,W.p)((kt,Ye)=>ze<=Ye)}(1),(0,ee.B)(0))),Pt.pipe((0,Q.T)(Kt=>{const oe={matches:!1,breakpoints:{}};return Kt.forEach(({matches:ae,query:fe})=>{oe.matches=oe.matches||ae,oe.breakpoints[fe]=ae}),oe}))}_registerQuery(Ye){if(this._queries.has(Ye))return this._queries.get(Ye);const pt=this._mediaMatcher.matchMedia(Ye),Pt={observable:new te.c(Kt=>{const oe=ae=>this._zone.run(()=>Kt.next(ae));return pt.addListener(oe),()=>{pt.removeListener(oe)}}).pipe((0,me.Z)(pt),(0,Q.T)(({matches:Kt})=>({query:Ye,matches:Kt})),(0,Me.Q)(this._destroySubject)),mql:pt};return this._queries.set(Ye,Pt),Pt}static#e=this.\u0275fac=function(pt){return new(pt||ze)(g.KVO(Oe),g.KVO(g.SKi))};static#t=this.\u0275prov=g.jDH({token:ze,factory:ze.\u0275fac,providedIn:"root"})}return ze})();function it(ze){return ze.map(kt=>kt.split(",")).reduce((kt,Ye)=>kt.concat(Ye)).map(kt=>kt.trim())}},6860:(Te,ne,C)=>{"use strict";C.d(ne,{BQ:()=>X,OD:()=>O,v8:()=>se});var g=C(4438),e=C(177);let $;try{$=typeof Intl<"u"&&Intl.v8BreakIterator}catch{$=!1}let he,O=(()=>{class J{constructor(je){this._platformId=je,this.isBrowser=this._platformId?(0,e.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!$)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(Ae){return new(Ae||J)(g.KVO(g.Agw))};static#t=this.\u0275prov=g.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}return J})();function X(J){return function le(){if(null==he&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>he=!0}))}finally{he=he||!1}return he}()?J:!!J.capture}function se(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},177:(Te,ne,C)=>{"use strict";C.d(ne,{AJ:()=>Ds,MD:()=>as,N0:()=>Mo,QT:()=>$,Sm:()=>ee,Sq:()=>U,UE:()=>zr,VF:()=>R,Vy:()=>Ws,Xr:()=>wi,ZD:()=>O,_b:()=>ws,aZ:()=>me,bT:()=>Se,fw:()=>Q,hb:()=>W,hj:()=>he,qQ:()=>re,vh:()=>co});var g=C(4438);let e=null;function $(){return e}function O(F){e??=F}class R{}const re=new g.nKC("");let be=(()=>{class F{historyGo(w){throw new Error("")}static#e=this.\u0275fac=function(I){return new(I||F)};static#t=this.\u0275prov=g.jDH({token:F,factory:()=>(0,g.WQX)(le),providedIn:"platform"})}return F})();const he=new g.nKC("");let le=(()=>{class F extends be{constructor(){super(),this._doc=(0,g.WQX)(re),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(w){const I=$().getGlobalEventTarget(this._doc,"window");return I.addEventListener("popstate",w,!1),()=>I.removeEventListener("popstate",w)}onHashChange(w){const I=$().getGlobalEventTarget(this._doc,"window");return I.addEventListener("hashchange",w,!1),()=>I.removeEventListener("hashchange",w)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(w){this._location.pathname=w}pushState(w,I,N){this._history.pushState(w,I,N)}replaceState(w,I,N){this._history.replaceState(w,I,N)}forward(){this._history.forward()}back(){this._history.back()}historyGo(w=0){this._history.go(w)}getState(){return this._history.state}static#e=this.\u0275fac=function(I){return new(I||F)};static#t=this.\u0275prov=g.jDH({token:F,factory:()=>new F,providedIn:"platform"})}return F})();function X(F,M){if(0==F.length)return M;if(0==M.length)return F;let w=0;return F.endsWith("/")&&w++,M.startsWith("/")&&w++,2==w?F+M.substring(1):1==w?F+M:F+"/"+M}function te(F){const M=F.match(/#|\?|$/),w=M&&M.index||F.length;return F.slice(0,w-("/"===F[w-1]?1:0))+F.slice(w)}function Y(F){return F&&"?"!==F[0]?"?"+F:F}let W=(()=>{class F{historyGo(w){throw new Error("")}static#e=this.\u0275fac=function(I){return new(I||F)};static#t=this.\u0275prov=g.jDH({token:F,factory:()=>(0,g.WQX)(ee),providedIn:"root"})}return F})();const Ee=new g.nKC("");let ee=(()=>{class F extends W{constructor(w,I){super(),this._platformLocation=w,this._removeListenerFns=[],this._baseHref=I??this._platformLocation.getBaseHrefFromDOM()??(0,g.WQX)(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(w){this._removeListenerFns.push(this._platformLocation.onPopState(w),this._platformLocation.onHashChange(w))}getBaseHref(){return this._baseHref}prepareExternalUrl(w){return X(this._baseHref,w)}path(w=!1){const I=this._platformLocation.pathname+Y(this._platformLocation.search),N=this._platformLocation.hash;return N&&w?`${I}${N}`:I}pushState(w,I,N,ue){const ke=this.prepareExternalUrl(N+Y(ue));this._platformLocation.pushState(w,I,ke)}replaceState(w,I,N,ue){const ke=this.prepareExternalUrl(N+Y(ue));this._platformLocation.replaceState(w,I,ke)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(w=0){this._platformLocation.historyGo?.(w)}static#e=this.\u0275fac=function(I){return new(I||F)(g.KVO(be),g.KVO(Ee,8))};static#t=this.\u0275prov=g.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})(),Q=(()=>{class F extends W{constructor(w,I){super(),this._platformLocation=w,this._baseHref="",this._removeListenerFns=[],null!=I&&(this._baseHref=I)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(w){this._removeListenerFns.push(this._platformLocation.onPopState(w),this._platformLocation.onHashChange(w))}getBaseHref(){return this._baseHref}path(w=!1){const I=this._platformLocation.hash??"#";return I.length>0?I.substring(1):I}prepareExternalUrl(w){const I=X(this._baseHref,w);return I.length>0?"#"+I:I}pushState(w,I,N,ue){let ke=this.prepareExternalUrl(N+Y(ue));0==ke.length&&(ke=this._platformLocation.pathname),this._platformLocation.pushState(w,I,ke)}replaceState(w,I,N,ue){let ke=this.prepareExternalUrl(N+Y(ue));0==ke.length&&(ke=this._platformLocation.pathname),this._platformLocation.replaceState(w,I,ke)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(w=0){this._platformLocation.historyGo?.(w)}static#e=this.\u0275fac=function(I){return new(I||F)(g.KVO(be),g.KVO(Ee,8))};static#t=this.\u0275prov=g.jDH({token:F,factory:F.\u0275fac})}return F})(),me=(()=>{class F{constructor(w){this._subject=new g.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=w;const I=this._locationStrategy.getBaseHref();this._basePath=function se(F){if(new RegExp("^(https?:)?//").test(F)){const[,w]=F.split(/\/\/[^\/]+/);return w}return F}(te(de(I))),this._locationStrategy.onPopState(N=>{this._subject.emit({url:this.path(!0),pop:!0,state:N.state,type:N.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(w=!1){return this.normalize(this._locationStrategy.path(w))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(w,I=""){return this.path()==this.normalize(w+Y(I))}normalize(w){return F.stripTrailingSlash(function Ie(F,M){if(!F||!M.startsWith(F))return M;const w=M.substring(F.length);return""===w||["/",";","?","#"].includes(w[0])?w:M}(this._basePath,de(w)))}prepareExternalUrl(w){return w&&"/"!==w[0]&&(w="/"+w),this._locationStrategy.prepareExternalUrl(w)}go(w,I="",N=null){this._locationStrategy.pushState(N,"",w,I),this._notifyUrlChangeListeners(this.prepareExternalUrl(w+Y(I)),N)}replaceState(w,I="",N=null){this._locationStrategy.replaceState(N,"",w,I),this._notifyUrlChangeListeners(this.prepareExternalUrl(w+Y(I)),N)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(w=0){this._locationStrategy.historyGo?.(w)}onUrlChange(w){return this._urlChangeListeners.push(w),this._urlChangeSubscription??=this.subscribe(I=>{this._notifyUrlChangeListeners(I.url,I.state)}),()=>{const I=this._urlChangeListeners.indexOf(w);this._urlChangeListeners.splice(I,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(w="",I){this._urlChangeListeners.forEach(N=>N(w,I))}subscribe(w,I,N){return this._subject.subscribe({next:w,error:I,complete:N})}static#e=this.normalizeQueryParams=Y;static#t=this.joinWithSlash=X;static#n=this.stripTrailingSlash=te;static#r=this.\u0275fac=function(I){return new(I||F)(g.KVO(W))};static#s=this.\u0275prov=g.jDH({token:F,factory:()=>function Me(){return new me((0,g.KVO)(W))}(),providedIn:"root"})}return F})();function de(F){return F.replace(/\/index.html$/,"")}var Ae=function(F){return F[F.Format=0]="Format",F[F.Standalone=1]="Standalone",F}(Ae||{}),Ve=function(F){return F[F.Narrow=0]="Narrow",F[F.Abbreviated=1]="Abbreviated",F[F.Wide=2]="Wide",F[F.Short=3]="Short",F}(Ve||{}),it=function(F){return F[F.Short=0]="Short",F[F.Medium=1]="Medium",F[F.Long=2]="Long",F[F.Full=3]="Full",F}(it||{});const gt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ae(F,M){return jt((0,g.H5H)(F)[g.KH2.DateFormat],M)}function fe(F,M){return jt((0,g.H5H)(F)[g.KH2.TimeFormat],M)}function ge(F,M){return jt((0,g.H5H)(F)[g.KH2.DateTimeFormat],M)}function De(F,M){const w=(0,g.H5H)(F),I=w[g.KH2.NumberSymbols][M];if(typeof I>"u"){if(M===gt.CurrencyDecimal)return w[g.KH2.NumberSymbols][gt.Decimal];if(M===gt.CurrencyGroup)return w[g.KH2.NumberSymbols][gt.Group]}return I}function Jt(F){if(!F[g.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${F[g.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function jt(F,M){for(let w=M;w>-1;w--)if(typeof F[w]<"u")return F[w];throw new Error("Locale data API: locale data undefined")}function Tn(F){const[M,w]=F.split(":");return{hours:+M,minutes:+w}}const qr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Tr={},Fi=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var _r=function(F){return F[F.Short=0]="Short",F[F.ShortGMT=1]="ShortGMT",F[F.Long=2]="Long",F[F.Extended=3]="Extended",F}(_r||{}),St=function(F){return F[F.FullYear=0]="FullYear",F[F.Month=1]="Month",F[F.Date=2]="Date",F[F.Hours=3]="Hours",F[F.Minutes=4]="Minutes",F[F.Seconds=5]="Seconds",F[F.FractionalSeconds=6]="FractionalSeconds",F[F.Day=7]="Day",F}(St||{}),Et=function(F){return F[F.DayPeriods=0]="DayPeriods",F[F.Days=1]="Days",F[F.Months=2]="Months",F[F.Eras=3]="Eras",F}(Et||{});function $r(F,M,w,I){let N=function vt(F){if(on(F))return F;if("number"==typeof F&&!isNaN(F))return new Date(F);if("string"==typeof F){if(F=F.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(F)){const[N,ue=1,ke=1]=F.split("-").map(Ge=>+Ge);return Kn(N,ue-1,ke)}const w=parseFloat(F);if(!isNaN(F-w))return new Date(w);let I;if(I=F.match(qr))return function ft(F){const M=new Date(0);let w=0,I=0;const N=F[8]?M.setUTCFullYear:M.setFullYear,ue=F[8]?M.setUTCHours:M.setHours;F[9]&&(w=Number(F[9]+F[10]),I=Number(F[9]+F[11])),N.call(M,Number(F[1]),Number(F[2])-1,Number(F[3]));const ke=Number(F[4]||0)-w,Ge=Number(F[5]||0)-I,Ut=Number(F[6]||0),un=Math.floor(1e3*parseFloat("0."+(F[7]||0)));return ue.call(M,ke,Ge,Ut,un),M}(I)}const M=new Date(F);if(!on(M))throw new Error(`Unable to convert "${F}" into a date`);return M}(F);M=mn(w,M)||M;let Ge,ke=[];for(;M;){if(Ge=Fi.exec(M),!Ge){ke.push(M);break}{ke=ke.concat(Ge.slice(1));const Ht=ke.pop();if(!Ht)break;M=Ht}}let Ut=N.getTimezoneOffset();I&&(Ut=V(I,Ut),N=function $e(F,M,w){const I=w?-1:1,N=F.getTimezoneOffset();return function Fe(F,M){return(F=new Date(F.getTime())).setMinutes(F.getMinutes()+M),F}(F,I*(V(M,N)-N))}(N,I,!0));let un="";return ke.forEach(Ht=>{const It=function P(F){if(K[F])return K[F];let M;switch(F){case"G":case"GG":case"GGG":M=_t(Et.Eras,Ve.Abbreviated);break;case"GGGG":M=_t(Et.Eras,Ve.Wide);break;case"GGGGG":M=_t(Et.Eras,Ve.Narrow);break;case"y":M=Zt(St.FullYear,1,0,!1,!0);break;case"yy":M=Zt(St.FullYear,2,0,!0,!0);break;case"yyy":M=Zt(St.FullYear,3,0,!1,!0);break;case"yyyy":M=Zt(St.FullYear,4,0,!1,!0);break;case"Y":M=ie(1);break;case"YY":M=ie(2,!0);break;case"YYY":M=ie(3);break;case"YYYY":M=ie(4);break;case"M":case"L":M=Zt(St.Month,1,1);break;case"MM":case"LL":M=Zt(St.Month,2,1);break;case"MMM":M=_t(Et.Months,Ve.Abbreviated);break;case"MMMM":M=_t(Et.Months,Ve.Wide);break;case"MMMMM":M=_t(Et.Months,Ve.Narrow);break;case"LLL":M=_t(Et.Months,Ve.Abbreviated,Ae.Standalone);break;case"LLLL":M=_t(Et.Months,Ve.Wide,Ae.Standalone);break;case"LLLLL":M=_t(Et.Months,Ve.Narrow,Ae.Standalone);break;case"w":M=nr(1);break;case"ww":M=nr(2);break;case"W":M=nr(1,!0);break;case"d":M=Zt(St.Date,1);break;case"dd":M=Zt(St.Date,2);break;case"c":case"cc":M=Zt(St.Day,1);break;case"ccc":M=_t(Et.Days,Ve.Abbreviated,Ae.Standalone);break;case"cccc":M=_t(Et.Days,Ve.Wide,Ae.Standalone);break;case"ccccc":M=_t(Et.Days,Ve.Narrow,Ae.Standalone);break;case"cccccc":M=_t(Et.Days,Ve.Short,Ae.Standalone);break;case"E":case"EE":case"EEE":M=_t(Et.Days,Ve.Abbreviated);break;case"EEEE":M=_t(Et.Days,Ve.Wide);break;case"EEEEE":M=_t(Et.Days,Ve.Narrow);break;case"EEEEEE":M=_t(Et.Days,Ve.Short);break;case"a":case"aa":case"aaa":M=_t(Et.DayPeriods,Ve.Abbreviated);break;case"aaaa":M=_t(Et.DayPeriods,Ve.Wide);break;case"aaaaa":M=_t(Et.DayPeriods,Ve.Narrow);break;case"b":case"bb":case"bbb":M=_t(Et.DayPeriods,Ve.Abbreviated,Ae.Standalone,!0);break;case"bbbb":M=_t(Et.DayPeriods,Ve.Wide,Ae.Standalone,!0);break;case"bbbbb":M=_t(Et.DayPeriods,Ve.Narrow,Ae.Standalone,!0);break;case"B":case"BB":case"BBB":M=_t(Et.DayPeriods,Ve.Abbreviated,Ae.Format,!0);break;case"BBBB":M=_t(Et.DayPeriods,Ve.Wide,Ae.Format,!0);break;case"BBBBB":M=_t(Et.DayPeriods,Ve.Narrow,Ae.Format,!0);break;case"h":M=Zt(St.Hours,1,-12);break;case"hh":M=Zt(St.Hours,2,-12);break;case"H":M=Zt(St.Hours,1);break;case"HH":M=Zt(St.Hours,2);break;case"m":M=Zt(St.Minutes,1);break;case"mm":M=Zt(St.Minutes,2);break;case"s":M=Zt(St.Seconds,1);break;case"ss":M=Zt(St.Seconds,2);break;case"S":M=Zt(St.FractionalSeconds,1);break;case"SS":M=Zt(St.FractionalSeconds,2);break;case"SSS":M=Zt(St.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":M=ct(_r.Short);break;case"ZZZZZ":M=ct(_r.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":M=ct(_r.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":M=ct(_r.Long);break;default:return null}return K[F]=M,M}(Ht);un+=It?It(N,w,Ut):"''"===Ht?"'":Ht.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),un}function Kn(F,M,w){const I=new Date(0);return I.setFullYear(F,M,w),I.setHours(0,0,0),I}function mn(F,M){const w=function kt(F){return(0,g.H5H)(F)[g.KH2.LocaleId]}(F);if(Tr[w]??={},Tr[w][M])return Tr[w][M];let I="";switch(M){case"shortDate":I=ae(F,it.Short);break;case"mediumDate":I=ae(F,it.Medium);break;case"longDate":I=ae(F,it.Long);break;case"fullDate":I=ae(F,it.Full);break;case"shortTime":I=fe(F,it.Short);break;case"mediumTime":I=fe(F,it.Medium);break;case"longTime":I=fe(F,it.Long);break;case"fullTime":I=fe(F,it.Full);break;case"short":const N=mn(F,"shortTime"),ue=mn(F,"shortDate");I=Tt(ge(F,it.Short),[N,ue]);break;case"medium":const ke=mn(F,"mediumTime"),Ge=mn(F,"mediumDate");I=Tt(ge(F,it.Medium),[ke,Ge]);break;case"long":const Ut=mn(F,"longTime"),un=mn(F,"longDate");I=Tt(ge(F,it.Long),[Ut,un]);break;case"full":const Ht=mn(F,"fullTime"),It=mn(F,"fullDate");I=Tt(ge(F,it.Full),[Ht,It])}return I&&(Tr[w][M]=I),I}function Tt(F,M){return M&&(F=F.replace(/\{([^}]+)}/g,function(w,I){return null!=M&&I in M?M[I]:w})),F}function Fn(F,M,w="-",I,N){let ue="";(F<0||N&&F<=0)&&(N?F=1-F:(F=-F,ue=w));let ke=String(F);for(;ke.length<M;)ke="0"+ke;return I&&(ke=ke.slice(ke.length-M)),ue+ke}function Zt(F,M,w=0,I=!1,N=!1){return function(ue,ke){let Ge=function qt(F,M){switch(F){case St.FullYear:return M.getFullYear();case St.Month:return M.getMonth();case St.Date:return M.getDate();case St.Hours:return M.getHours();case St.Minutes:return M.getMinutes();case St.Seconds:return M.getSeconds();case St.FractionalSeconds:return M.getMilliseconds();case St.Day:return M.getDay();default:throw new Error(`Unknown DateType value "${F}".`)}}(F,ue);if((w>0||Ge>-w)&&(Ge+=w),F===St.Hours)0===Ge&&-12===w&&(Ge=12);else if(F===St.FractionalSeconds)return function On(F,M){return Fn(F,3).substring(0,M)}(Ge,M);const Ut=De(ke,gt.MinusSign);return Fn(Ge,M,Ut,I,N)}}function _t(F,M,w=Ae.Format,I=!1){return function(N,ue){return function jr(F,M,w,I,N,ue){switch(w){case Et.Months:return function ht(F,M,w){const I=(0,g.H5H)(F),ue=jt([I[g.KH2.MonthsFormat],I[g.KH2.MonthsStandalone]],M);return jt(ue,w)}(M,N,I)[F.getMonth()];case Et.Days:return function pt(F,M,w){const I=(0,g.H5H)(F),ue=jt([I[g.KH2.DaysFormat],I[g.KH2.DaysStandalone]],M);return jt(ue,w)}(M,N,I)[F.getDay()];case Et.DayPeriods:const ke=F.getHours(),Ge=F.getMinutes();if(ue){const un=function ar(F){const M=(0,g.H5H)(F);return Jt(M),(M[g.KH2.ExtraData][2]||[]).map(I=>"string"==typeof I?Tn(I):[Tn(I[0]),Tn(I[1])])}(M),Ht=function Nt(F,M,w){const I=(0,g.H5H)(F);Jt(I);const ue=jt([I[g.KH2.ExtraData][0],I[g.KH2.ExtraData][1]],M)||[];return jt(ue,w)||[]}(M,N,I),It=un.findIndex(ln=>{if(Array.isArray(ln)){const[ot,Ce]=ln,qe=ke>=ot.hours&&Ge>=ot.minutes,Xt=ke<Ce.hours||ke===Ce.hours&&Ge<Ce.minutes;if(ot.hours<Ce.hours){if(qe&&Xt)return!0}else if(qe||Xt)return!0}else if(ln.hours===ke&&ln.minutes===Ge)return!0;return!1});if(-1!==It)return Ht[It]}return function Ye(F,M,w){const I=(0,g.H5H)(F),ue=jt([I[g.KH2.DayPeriodsFormat],I[g.KH2.DayPeriodsStandalone]],M);return jt(ue,w)}(M,N,I)[ke<12?0:1];case Et.Eras:return function Pt(F,M){return jt((0,g.H5H)(F)[g.KH2.Eras],M)}(M,I)[F.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${w}`)}}(N,ue,F,M,w,I)}}function ct(F){return function(M,w,I){const N=-1*I,ue=De(w,gt.MinusSign),ke=N>0?Math.floor(N/60):Math.ceil(N/60);switch(F){case _r.Short:return(N>=0?"+":"")+Fn(ke,2,ue)+Fn(Math.abs(N%60),2,ue);case _r.ShortGMT:return"GMT"+(N>=0?"+":"")+Fn(ke,1,ue);case _r.Long:return"GMT"+(N>=0?"+":"")+Fn(ke,2,ue)+":"+Fn(Math.abs(N%60),2,ue);case _r.Extended:return 0===I?"Z":(N>=0?"+":"")+Fn(ke,2,ue)+":"+Fn(Math.abs(N%60),2,ue);default:throw new Error(`Unknown zone width "${F}"`)}}}const ns=0,zt=4;function rs(F){const M=F.getDay(),w=0===M?-3:zt-M;return Kn(F.getFullYear(),F.getMonth(),F.getDate()+w)}function nr(F,M=!1){return function(w,I){let N;if(M){const ue=new Date(w.getFullYear(),w.getMonth(),1).getDay()-1,ke=w.getDate();N=1+Math.floor((ke+ue)/7)}else{const ue=rs(w),ke=function Hr(F){const M=Kn(F,ns,1).getDay();return Kn(F,0,1+(M<=zt?zt:zt+7)-M)}(ue.getFullYear()),Ge=ue.getTime()-ke.getTime();N=1+Math.round(Ge/6048e5)}return Fn(N,F,De(I,gt.MinusSign))}}function ie(F,M=!1){return function(w,I){return Fn(rs(w).getFullYear(),F,De(I,gt.MinusSign),M)}}const K={};function V(F,M){F=F.replace(/:/g,"");const w=Date.parse("Jan 01, 1970 00:00:00 "+F)/6e4;return isNaN(w)?M:w}function on(F){return F instanceof Date&&!isNaN(F.valueOf())}function ws(F,M){M=encodeURIComponent(M);for(const w of F.split(";")){const I=w.indexOf("="),[N,ue]=-1==I?[w,""]:[w.slice(0,I),w.slice(I+1)];if(N.trim()===M)return decodeURIComponent(ue)}return null}class q{constructor(M,w,I,N){this.$implicit=M,this.ngForOf=w,this.index=I,this.count=N}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let U=(()=>{class F{set ngForOf(w){this._ngForOf=w,this._ngForOfDirty=!0}set ngForTrackBy(w){this._trackByFn=w}get ngForTrackBy(){return this._trackByFn}constructor(w,I,N){this._viewContainer=w,this._template=I,this._differs=N,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(w){w&&(this._template=w)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const w=this._ngForOf;!this._differ&&w&&(this._differ=this._differs.find(w).create(this.ngForTrackBy))}if(this._differ){const w=this._differ.diff(this._ngForOf);w&&this._applyChanges(w)}}_applyChanges(w){const I=this._viewContainer;w.forEachOperation((N,ue,ke)=>{if(null==N.previousIndex)I.createEmbeddedView(this._template,new q(N.item,this._ngForOf,-1,-1),null===ke?void 0:ke);else if(null==ke)I.remove(null===ue?void 0:ue);else if(null!==ue){const Ge=I.get(ue);I.move(Ge,ke),ce(Ge,N)}});for(let N=0,ue=I.length;N<ue;N++){const Ge=I.get(N).context;Ge.index=N,Ge.count=ue,Ge.ngForOf=this._ngForOf}w.forEachIdentityChange(N=>{ce(I.get(N.currentIndex),N)})}static ngTemplateContextGuard(w,I){return!0}static#e=this.\u0275fac=function(I){return new(I||F)(g.rXU(g.c1b),g.rXU(g.C4Q),g.rXU(g._q3))};static#t=this.\u0275dir=g.FsC({type:F,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return F})();function ce(F,M){F.context.$implicit=M.item}let Se=(()=>{class F{constructor(w,I){this._viewContainer=w,this._context=new Ne,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=I}set ngIf(w){this._context.$implicit=this._context.ngIf=w,this._updateView()}set ngIfThen(w){at("ngIfThen",w),this._thenTemplateRef=w,this._thenViewRef=null,this._updateView()}set ngIfElse(w){at("ngIfElse",w),this._elseTemplateRef=w,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(w,I){return!0}static#e=this.\u0275fac=function(I){return new(I||F)(g.rXU(g.c1b),g.rXU(g.C4Q))};static#t=this.\u0275dir=g.FsC({type:F,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return F})();class Ne{constructor(){this.$implicit=null,this.ngIf=null}}function at(F,M){if(M&&!M.createEmbeddedView)throw new Error(`${F} must be a TemplateRef, but received '${(0,g.Tbb)(M)}'.`)}const Go=new g.nKC(""),yi=new g.nKC("");let co=(()=>{class F{constructor(w,I,N){this.locale=w,this.defaultTimezone=I,this.defaultOptions=N}transform(w,I,N,ue){if(null==w||""===w||w!=w)return null;try{return $r(w,I??this.defaultOptions?.dateFormat??"mediumDate",ue||this.locale,N??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(ke){throw function Ke(F,M){return new g.wOt(2100,!1)}()}}static#e=this.\u0275fac=function(I){return new(I||F)(g.rXU(g.xe9,16),g.rXU(Go,24),g.rXU(yi,24))};static#t=this.\u0275pipe=g.EJ8({name:"date",type:F,pure:!0,standalone:!0})}return F})(),as=(()=>{class F{static#e=this.\u0275fac=function(I){return new(I||F)};static#t=this.\u0275mod=g.$C({type:F});static#n=this.\u0275inj=g.G2t({})}return F})();const Ds="browser",po="server";function zr(F){return F===Ds}function Ws(F){return F===po}let wi=(()=>{class F{static#e=this.\u0275prov=(0,g.jDH)({token:F,providedIn:"root",factory:()=>zr((0,g.WQX)(g.Agw))?new Ks((0,g.WQX)(re),window):new Is})}return F})();class Ks{constructor(M,w){this.document=M,this.window=w,this.offset=()=>[0,0]}setOffset(M){this.offset=Array.isArray(M)?()=>M:M}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(M){this.window.scrollTo(M[0],M[1])}scrollToAnchor(M){const w=function ki(F,M){const w=F.getElementById(M)||F.getElementsByName(M)[0];if(w)return w;if("function"==typeof F.createTreeWalker&&F.body&&"function"==typeof F.body.attachShadow){const I=F.createTreeWalker(F.body,NodeFilter.SHOW_ELEMENT);let N=I.currentNode;for(;N;){const ue=N.shadowRoot;if(ue){const ke=ue.getElementById(M)||ue.querySelector(`[name="${M}"]`);if(ke)return ke}N=I.nextNode()}}return null}(this.document,M);w&&(this.scrollToElement(w),w.focus())}setHistoryScrollRestoration(M){this.window.history.scrollRestoration=M}scrollToElement(M){const w=M.getBoundingClientRect(),I=w.left+this.window.pageXOffset,N=w.top+this.window.pageYOffset,ue=this.offset();this.window.scrollTo(I-ue[0],N-ue[1])}}class Is{setOffset(M){}getScrollPosition(){return[0,0]}scrollToPosition(M){}scrollToAnchor(M){}setHistoryScrollRestoration(M){}}class Mo{}},1626:(Te,ne,C)=>{"use strict";C.d(ne,{$R:()=>$e,Qq:()=>ge,Sx:()=>on});var g=C(467),e=C(4438),$=C(7673),O=C(1985),R=C(6648),G=C(274),re=C(5964),be=C(6354),he=C(980),le=C(5558),X=C(177);class te{}class Y{}class W{constructor(q){this.normalizedNames=new Map,this.lazyUpdate=null,q?"string"==typeof q?this.lazyInit=()=>{this.headers=new Map,q.split("\n").forEach(U=>{const ce=U.indexOf(":");if(ce>0){const pe=U.slice(0,ce),Se=pe.toLowerCase(),Ne=U.slice(ce+1).trim();this.maybeSetNormalizedName(pe,Se),this.headers.has(Se)?this.headers.get(Se).push(Ne):this.headers.set(Se,[Ne])}})}:typeof Headers<"u"&&q instanceof Headers?(this.headers=new Map,q.forEach((U,ce)=>{this.setHeaderEntries(ce,U)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(q).forEach(([U,ce])=>{this.setHeaderEntries(U,ce)})}:this.headers=new Map}has(q){return this.init(),this.headers.has(q.toLowerCase())}get(q){this.init();const U=this.headers.get(q.toLowerCase());return U&&U.length>0?U[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(q){return this.init(),this.headers.get(q.toLowerCase())||null}append(q,U){return this.clone({name:q,value:U,op:"a"})}set(q,U){return this.clone({name:q,value:U,op:"s"})}delete(q,U){return this.clone({name:q,value:U,op:"d"})}maybeSetNormalizedName(q,U){this.normalizedNames.has(U)||this.normalizedNames.set(U,q)}init(){this.lazyInit&&(this.lazyInit instanceof W?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(q=>this.applyUpdate(q)),this.lazyUpdate=null))}copyFrom(q){q.init(),Array.from(q.headers.keys()).forEach(U=>{this.headers.set(U,q.headers.get(U)),this.normalizedNames.set(U,q.normalizedNames.get(U))})}clone(q){const U=new W;return U.lazyInit=this.lazyInit&&this.lazyInit instanceof W?this.lazyInit:this,U.lazyUpdate=(this.lazyUpdate||[]).concat([q]),U}applyUpdate(q){const U=q.name.toLowerCase();switch(q.op){case"a":case"s":let ce=q.value;if("string"==typeof ce&&(ce=[ce]),0===ce.length)return;this.maybeSetNormalizedName(q.name,U);const pe=("a"===q.op?this.headers.get(U):void 0)||[];pe.push(...ce),this.headers.set(U,pe);break;case"d":const Se=q.value;if(Se){let Ne=this.headers.get(U);if(!Ne)return;Ne=Ne.filter(at=>-1===Se.indexOf(at)),0===Ne.length?(this.headers.delete(U),this.normalizedNames.delete(U)):this.headers.set(U,Ne)}else this.headers.delete(U),this.normalizedNames.delete(U)}}setHeaderEntries(q,U){const ce=(Array.isArray(U)?U:[U]).map(Se=>Se.toString()),pe=q.toLowerCase();this.headers.set(pe,ce),this.maybeSetNormalizedName(q,pe)}forEach(q){this.init(),Array.from(this.normalizedNames.keys()).forEach(U=>q(this.normalizedNames.get(U),this.headers.get(U)))}}class ee{encodeKey(q){return Ie(q)}encodeValue(q){return Ie(q)}decodeKey(q){return decodeURIComponent(q)}decodeValue(q){return decodeURIComponent(q)}}const me=/%(\d[a-f0-9])/gi,Me={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ie(j){return encodeURIComponent(j).replace(me,(q,U)=>Me[U]??q)}function de(j){return`${j}`}class se{constructor(q={}){if(this.updates=null,this.cloneFrom=null,this.encoder=q.encoder||new ee,q.fromString){if(q.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Q(j,q){const U=new Map;return j.length>0&&j.replace(/^\?/,"").split("&").forEach(pe=>{const Se=pe.indexOf("="),[Ne,at]=-1==Se?[q.decodeKey(pe),""]:[q.decodeKey(pe.slice(0,Se)),q.decodeValue(pe.slice(Se+1))],Je=U.get(Ne)||[];Je.push(at),U.set(Ne,Je)}),U}(q.fromString,this.encoder)}else q.fromObject?(this.map=new Map,Object.keys(q.fromObject).forEach(U=>{const ce=q.fromObject[U],pe=Array.isArray(ce)?ce.map(de):[de(ce)];this.map.set(U,pe)})):this.map=null}has(q){return this.init(),this.map.has(q)}get(q){this.init();const U=this.map.get(q);return U?U[0]:null}getAll(q){return this.init(),this.map.get(q)||null}keys(){return this.init(),Array.from(this.map.keys())}append(q,U){return this.clone({param:q,value:U,op:"a"})}appendAll(q){const U=[];return Object.keys(q).forEach(ce=>{const pe=q[ce];Array.isArray(pe)?pe.forEach(Se=>{U.push({param:ce,value:Se,op:"a"})}):U.push({param:ce,value:pe,op:"a"})}),this.clone(U)}set(q,U){return this.clone({param:q,value:U,op:"s"})}delete(q,U){return this.clone({param:q,value:U,op:"d"})}toString(){return this.init(),this.keys().map(q=>{const U=this.encoder.encodeKey(q);return this.map.get(q).map(ce=>U+"="+this.encoder.encodeValue(ce)).join("&")}).filter(q=>""!==q).join("&")}clone(q){const U=new se({encoder:this.encoder});return U.cloneFrom=this.cloneFrom||this,U.updates=(this.updates||[]).concat(q),U}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(q=>this.map.set(q,this.cloneFrom.map.get(q))),this.updates.forEach(q=>{switch(q.op){case"a":case"s":const U=("a"===q.op?this.map.get(q.param):void 0)||[];U.push(de(q.value)),this.map.set(q.param,U);break;case"d":if(void 0===q.value){this.map.delete(q.param);break}{let ce=this.map.get(q.param)||[];const pe=ce.indexOf(de(q.value));-1!==pe&&ce.splice(pe,1),ce.length>0?this.map.set(q.param,ce):this.map.delete(q.param)}}}),this.cloneFrom=this.updates=null)}}class Oe{constructor(){this.map=new Map}set(q,U){return this.map.set(q,U),this}get(q){return this.map.has(q)||this.map.set(q,q.defaultValue()),this.map.get(q)}delete(q){return this.map.delete(q),this}has(q){return this.map.has(q)}keys(){return this.map.keys()}}function Ae(j){return typeof ArrayBuffer<"u"&&j instanceof ArrayBuffer}function Ve(j){return typeof Blob<"u"&&j instanceof Blob}function it(j){return typeof FormData<"u"&&j instanceof FormData}class ze{constructor(q,U,ce,pe){let Se;if(this.url=U,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=q.toUpperCase(),function je(j){switch(j){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||pe?(this.body=void 0!==ce?ce:null,Se=pe):Se=ce,Se&&(this.reportProgress=!!Se.reportProgress,this.withCredentials=!!Se.withCredentials,Se.responseType&&(this.responseType=Se.responseType),Se.headers&&(this.headers=Se.headers),Se.context&&(this.context=Se.context),Se.params&&(this.params=Se.params),this.transferCache=Se.transferCache),this.headers??=new W,this.context??=new Oe,this.params){const Ne=this.params.toString();if(0===Ne.length)this.urlWithParams=U;else{const at=U.indexOf("?");this.urlWithParams=U+(-1===at?"?":at<U.length-1?"&":"")+Ne}}else this.params=new se,this.urlWithParams=U}serializeBody(){return null===this.body?null:"string"==typeof this.body||Ae(this.body)||Ve(this.body)||it(this.body)||function gt(j){return typeof URLSearchParams<"u"&&j instanceof URLSearchParams}(this.body)?this.body:this.body instanceof se?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||it(this.body)?null:Ve(this.body)?this.body.type||null:Ae(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof se?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(q={}){const U=q.method||this.method,ce=q.url||this.url,pe=q.responseType||this.responseType,Se=q.transferCache??this.transferCache,Ne=void 0!==q.body?q.body:this.body,at=q.withCredentials??this.withCredentials,Je=q.reportProgress??this.reportProgress;let tn=q.headers||this.headers,cn=q.params||this.params;const $t=q.context??this.context;return void 0!==q.setHeaders&&(tn=Object.keys(q.setHeaders).reduce((an,nn)=>an.set(nn,q.setHeaders[nn]),tn)),q.setParams&&(cn=Object.keys(q.setParams).reduce((an,nn)=>an.set(nn,q.setParams[nn]),cn)),new ze(U,ce,Ne,{params:cn,headers:tn,context:$t,reportProgress:Je,responseType:pe,withCredentials:at,transferCache:Se})}}var kt=function(j){return j[j.Sent=0]="Sent",j[j.UploadProgress=1]="UploadProgress",j[j.ResponseHeader=2]="ResponseHeader",j[j.DownloadProgress=3]="DownloadProgress",j[j.Response=4]="Response",j[j.User=5]="User",j}(kt||{});class Ye{constructor(q,U=200,ce="OK"){this.headers=q.headers||new W,this.status=void 0!==q.status?q.status:U,this.statusText=q.statusText||ce,this.url=q.url||null,this.ok=this.status>=200&&this.status<300}}class pt extends Ye{constructor(q={}){super(q),this.type=kt.ResponseHeader}clone(q={}){return new pt({headers:q.headers||this.headers,status:void 0!==q.status?q.status:this.status,statusText:q.statusText||this.statusText,url:q.url||this.url||void 0})}}class ht extends Ye{constructor(q={}){super(q),this.type=kt.Response,this.body=void 0!==q.body?q.body:null}clone(q={}){return new ht({body:void 0!==q.body?q.body:this.body,headers:q.headers||this.headers,status:void 0!==q.status?q.status:this.status,statusText:q.statusText||this.statusText,url:q.url||this.url||void 0})}}class Pt extends Ye{constructor(q){super(q,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${q.url||"(unknown url)"}`:`Http failure response for ${q.url||"(unknown url)"}: ${q.status} ${q.statusText}`,this.error=q.error||null}}function fe(j,q){return{body:q,headers:j.headers,context:j.context,observe:j.observe,params:j.params,reportProgress:j.reportProgress,responseType:j.responseType,withCredentials:j.withCredentials,transferCache:j.transferCache}}let ge=(()=>{class j{constructor(U){this.handler=U}request(U,ce,pe={}){let Se;if(U instanceof ze)Se=U;else{let Je,tn;Je=pe.headers instanceof W?pe.headers:new W(pe.headers),pe.params&&(tn=pe.params instanceof se?pe.params:new se({fromObject:pe.params})),Se=new ze(U,ce,void 0!==pe.body?pe.body:null,{headers:Je,context:pe.context,params:tn,reportProgress:pe.reportProgress,responseType:pe.responseType||"json",withCredentials:pe.withCredentials,transferCache:pe.transferCache})}const Ne=(0,$.of)(Se).pipe((0,G.H)(Je=>this.handler.handle(Je)));if(U instanceof ze||"events"===pe.observe)return Ne;const at=Ne.pipe((0,re.p)(Je=>Je instanceof ht));switch(pe.observe||"body"){case"body":switch(Se.responseType){case"arraybuffer":return at.pipe((0,be.T)(Je=>{if(null!==Je.body&&!(Je.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Je.body}));case"blob":return at.pipe((0,be.T)(Je=>{if(null!==Je.body&&!(Je.body instanceof Blob))throw new Error("Response is not a Blob.");return Je.body}));case"text":return at.pipe((0,be.T)(Je=>{if(null!==Je.body&&"string"!=typeof Je.body)throw new Error("Response is not a string.");return Je.body}));default:return at.pipe((0,be.T)(Je=>Je.body))}case"response":return at;default:throw new Error(`Unreachable: unhandled observe type ${pe.observe}}`)}}delete(U,ce={}){return this.request("DELETE",U,ce)}get(U,ce={}){return this.request("GET",U,ce)}head(U,ce={}){return this.request("HEAD",U,ce)}jsonp(U,ce){return this.request("JSONP",U,{params:(new se).append(ce,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(U,ce={}){return this.request("OPTIONS",U,ce)}patch(U,ce,pe={}){return this.request("PATCH",U,fe(pe,ce))}post(U,ce,pe={}){return this.request("POST",U,fe(pe,ce))}put(U,ce,pe={}){return this.request("PUT",U,fe(pe,ce))}static#e=this.\u0275fac=function(ce){return new(ce||j)(e.KVO(te))};static#t=this.\u0275prov=e.jDH({token:j,factory:j.\u0275fac})}return j})();const De=/^\)\]\}',?\n/;function Qe(j){if(j.url)return j.url;const q="X-Request-URL".toLocaleLowerCase();return j.headers.get(q)}let Ct=(()=>{class j{constructor(){this.fetchImpl=(0,e.WQX)(We,{optional:!0})?.fetch??((...U)=>globalThis.fetch(...U)),this.ngZone=(0,e.WQX)(e.SKi)}handle(U){return new O.c(ce=>{const pe=new AbortController;return this.doRequest(U,pe.signal,ce).then(tt,Se=>ce.error(new Pt({error:Se}))),()=>pe.abort()})}doRequest(U,ce,pe){var Se=this;return(0,g.A)(function*(){const Ne=Se.createRequestInit(U);let at;try{const bn=Se.ngZone.runOutsideAngular(()=>Se.fetchImpl(U.urlWithParams,{signal:ce,...Ne}));(function Vt(j){j.then(tt,tt)})(bn),pe.next({type:kt.Sent}),at=yield bn}catch(bn){return void pe.error(new Pt({error:bn,status:bn.status??0,statusText:bn.statusText,url:U.urlWithParams,headers:bn.headers}))}const Je=new W(at.headers),tn=at.statusText,cn=Qe(at)??U.urlWithParams;let $t=at.status,an=null;if(U.reportProgress&&pe.next(new pt({headers:Je,status:$t,statusText:tn,url:cn})),at.body){const bn=at.headers.get("content-length"),At=[],Dt=at.body.getReader();let st,Ke,_n=0;const Dr=typeof Zone<"u"&&Zone.current;yield Se.ngZone.runOutsideAngular((0,g.A)(function*(){for(;;){const{done:Pr,value:Hs}=yield Dt.read();if(Pr)break;if(At.push(Hs),_n+=Hs.length,U.reportProgress){Ke="text"===U.responseType?(Ke??"")+(st??=new TextDecoder).decode(Hs,{stream:!0}):void 0;const ao=()=>pe.next({type:kt.DownloadProgress,total:bn?+bn:void 0,loaded:_n,partialText:Ke});Dr?Dr.run(ao):ao()}}}));const ks=Se.concatChunks(At,_n);try{const Pr=at.headers.get("Content-Type")??"";an=Se.parseBody(U,ks,Pr)}catch(Pr){return void pe.error(new Pt({error:Pr,headers:new W(at.headers),status:at.status,statusText:at.statusText,url:Qe(at)??U.urlWithParams}))}}0===$t&&($t=an?200:0),$t>=200&&$t<300?(pe.next(new ht({body:an,headers:Je,status:$t,statusText:tn,url:cn})),pe.complete()):pe.error(new Pt({error:an,headers:Je,status:$t,statusText:tn,url:cn}))})()}parseBody(U,ce,pe){switch(U.responseType){case"json":const Se=(new TextDecoder).decode(ce).replace(De,"");return""===Se?null:JSON.parse(Se);case"text":return(new TextDecoder).decode(ce);case"blob":return new Blob([ce],{type:pe});case"arraybuffer":return ce.buffer}}createRequestInit(U){const ce={},pe=U.withCredentials?"include":void 0;if(U.headers.forEach((Se,Ne)=>ce[Se]=Ne.join(",")),U.headers.has("Accept")||(ce.Accept="application/json, text/plain, */*"),!U.headers.has("Content-Type")){const Se=U.detectContentTypeHeader();null!==Se&&(ce["Content-Type"]=Se)}return{body:U.serializeBody(),method:U.method,headers:ce,credentials:pe}}concatChunks(U,ce){const pe=new Uint8Array(ce);let Se=0;for(const Ne of U)pe.set(Ne,Se),Se+=Ne.length;return pe}static#e=this.\u0275fac=function(ce){return new(ce||j)};static#t=this.\u0275prov=e.jDH({token:j,factory:j.\u0275fac})}return j})();class We{}function tt(){}function Jt(j,q){return q(j)}function ar(j,q){return(U,ce)=>q.intercept(U,{handle:pe=>j(pe,ce)})}const Qt=new e.nKC(""),jt=new e.nKC(""),Tn=new e.nKC(""),jn=new e.nKC("",{providedIn:"root",factory:()=>!0});function Re(){let j=null;return(q,U)=>{null===j&&(j=((0,e.WQX)(Qt,{optional:!0})??[]).reduceRight(ar,Jt));const ce=(0,e.WQX)(e.TgB);if((0,e.WQX)(jn)){const Se=ce.add();return j(q,U).pipe((0,he.j)(()=>ce.remove(Se)))}return j(q,U)}}let Tr=(()=>{class j extends te{constructor(U,ce){super(),this.backend=U,this.injector=ce,this.chain=null,this.pendingTasks=(0,e.WQX)(e.TgB),this.contributeToStability=(0,e.WQX)(jn)}handle(U){if(null===this.chain){const ce=Array.from(new Set([...this.injector.get(jt),...this.injector.get(Tn,[])]));this.chain=ce.reduceRight((pe,Se)=>function Nt(j,q,U){return(ce,pe)=>(0,e.N4e)(U,()=>q(ce,Se=>j(Se,pe)))}(pe,Se,this.injector),Jt)}if(this.contributeToStability){const ce=this.pendingTasks.add();return this.chain(U,pe=>this.backend.handle(pe)).pipe((0,he.j)(()=>this.pendingTasks.remove(ce)))}return this.chain(U,ce=>this.backend.handle(ce))}static#e=this.\u0275fac=function(ce){return new(ce||j)(e.KVO(Y),e.KVO(e.uvJ))};static#t=this.\u0275prov=e.jDH({token:j,factory:j.\u0275fac})}return j})();const qt=/^\)\]\}',?\n/;let jr=(()=>{class j{constructor(U){this.xhrFactory=U}handle(U){if("JSONP"===U.method)throw new e.wOt(-2800,!1);const ce=this.xhrFactory;return(ce.\u0275loadImpl?(0,R.H)(ce.\u0275loadImpl()):(0,$.of)(null)).pipe((0,le.n)(()=>new O.c(Se=>{const Ne=ce.build();if(Ne.open(U.method,U.urlWithParams),U.withCredentials&&(Ne.withCredentials=!0),U.headers.forEach((At,Dt)=>Ne.setRequestHeader(At,Dt.join(","))),U.headers.has("Accept")||Ne.setRequestHeader("Accept","application/json, text/plain, */*"),!U.headers.has("Content-Type")){const At=U.detectContentTypeHeader();null!==At&&Ne.setRequestHeader("Content-Type",At)}if(U.responseType){const At=U.responseType.toLowerCase();Ne.responseType="json"!==At?At:"text"}const at=U.serializeBody();let Je=null;const tn=()=>{if(null!==Je)return Je;const At=Ne.statusText||"OK",Dt=new W(Ne.getAllResponseHeaders()),_n=function _t(j){return"responseURL"in j&&j.responseURL?j.responseURL:/^X-Request-URL:/m.test(j.getAllResponseHeaders())?j.getResponseHeader("X-Request-URL"):null}(Ne)||U.url;return Je=new pt({headers:Dt,status:Ne.status,statusText:At,url:_n}),Je},cn=()=>{let{headers:At,status:Dt,statusText:_n,url:st}=tn(),Ke=null;204!==Dt&&(Ke=typeof Ne.response>"u"?Ne.responseText:Ne.response),0===Dt&&(Dt=Ke?200:0);let Dr=Dt>=200&&Dt<300;if("json"===U.responseType&&"string"==typeof Ke){const ks=Ke;Ke=Ke.replace(qt,"");try{Ke=""!==Ke?JSON.parse(Ke):null}catch(Pr){Ke=ks,Dr&&(Dr=!1,Ke={error:Pr,text:Ke})}}Dr?(Se.next(new ht({body:Ke,headers:At,status:Dt,statusText:_n,url:st||void 0})),Se.complete()):Se.error(new Pt({error:Ke,headers:At,status:Dt,statusText:_n,url:st||void 0}))},$t=At=>{const{url:Dt}=tn(),_n=new Pt({error:At,status:Ne.status||0,statusText:Ne.statusText||"Unknown Error",url:Dt||void 0});Se.error(_n)};let an=!1;const nn=At=>{an||(Se.next(tn()),an=!0);let Dt={type:kt.DownloadProgress,loaded:At.loaded};At.lengthComputable&&(Dt.total=At.total),"text"===U.responseType&&Ne.responseText&&(Dt.partialText=Ne.responseText),Se.next(Dt)},bn=At=>{let Dt={type:kt.UploadProgress,loaded:At.loaded};At.lengthComputable&&(Dt.total=At.total),Se.next(Dt)};return Ne.addEventListener("load",cn),Ne.addEventListener("error",$t),Ne.addEventListener("timeout",$t),Ne.addEventListener("abort",$t),U.reportProgress&&(Ne.addEventListener("progress",nn),null!==at&&Ne.upload&&Ne.upload.addEventListener("progress",bn)),Ne.send(at),Se.next({type:kt.Sent}),()=>{Ne.removeEventListener("error",$t),Ne.removeEventListener("abort",$t),Ne.removeEventListener("load",cn),Ne.removeEventListener("timeout",$t),U.reportProgress&&(Ne.removeEventListener("progress",nn),null!==at&&Ne.upload&&Ne.upload.removeEventListener("progress",bn)),Ne.readyState!==Ne.DONE&&Ne.abort()}})))}static#e=this.\u0275fac=function(ce){return new(ce||j)(e.KVO(X.N0))};static#t=this.\u0275prov=e.jDH({token:j,factory:j.\u0275fac})}return j})();const ct=new e.nKC(""),zt=new e.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),rs=new e.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class nr{}let ie=(()=>{class j{constructor(U,ce,pe){this.doc=U,this.platform=ce,this.cookieName=pe,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const U=this.doc.cookie||"";return U!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,X._b)(U,this.cookieName),this.lastCookieString=U),this.lastToken}static#e=this.\u0275fac=function(ce){return new(ce||j)(e.KVO(X.qQ),e.KVO(e.Agw),e.KVO(zt))};static#t=this.\u0275prov=e.jDH({token:j,factory:j.\u0275fac})}return j})();function K(j,q){const U=j.url.toLowerCase();if(!(0,e.WQX)(ct)||"GET"===j.method||"HEAD"===j.method||U.startsWith("http://")||U.startsWith("https://"))return q(j);const ce=(0,e.WQX)(nr).getToken(),pe=(0,e.WQX)(rs);return null!=ce&&!j.headers.has(pe)&&(j=j.clone({headers:j.headers.set(pe,ce)})),q(j)}var V=function(j){return j[j.Interceptors=0]="Interceptors",j[j.LegacyInterceptors=1]="LegacyInterceptors",j[j.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",j[j.NoXsrfProtection=3]="NoXsrfProtection",j[j.JsonpSupport=4]="JsonpSupport",j[j.RequestsMadeViaParent=5]="RequestsMadeViaParent",j[j.Fetch=6]="Fetch",j}(V||{});function $e(...j){const q=[ge,jr,Tr,{provide:te,useExisting:Tr},{provide:Y,useFactory:()=>(0,e.WQX)(Ct,{optional:!0})??(0,e.WQX)(jr)},{provide:jt,useValue:K,multi:!0},{provide:ct,useValue:!0},{provide:nr,useClass:ie}];for(const U of j)q.push(...U.\u0275providers);return(0,e.EmA)(q)}const ft=new e.nKC("");function on(){return function Fe(j,q){return{\u0275kind:j,\u0275providers:q}}(V.LegacyInterceptors,[{provide:ft,useFactory:Re},{provide:jt,useExisting:ft,multi:!0}])}},4438:(Te,ne,C)=>{"use strict";C.d(ne,{bc$:()=>mb,iLQ:()=>Yl,sZ2:()=>Qu,hnV:()=>tv,Hbi:()=>KI,o8S:()=>Ei,BIS:()=>gb,gRc:()=>Ev,Ql9:()=>EI,Ocv:()=>kI,Z63:()=>Lr,aKT:()=>jc,uvJ:()=>hn,zcH:()=>Ui,bkB:()=>pi,$GK:()=>wt,nKC:()=>lt,zZn:()=>es,_q3:()=>ph,MKu:()=>fh,xe9:()=>ih,Co$:()=>rE,Vns:()=>xa,SKi:()=>$n,Xx1:()=>Ks,Agw:()=>Zu,PLl:()=>S0,rOR:()=>Wu,sFG:()=>uw,_9s:()=>Vp,czy:()=>ll,WPN:()=>wa,kdw:()=>Is,C4Q:()=>Qc,NYb:()=>lI,giA:()=>Y1,RxE:()=>z1,c1b:()=>Ml,gXe:()=>hr,mal:()=>Rl,L39:()=>C9,Ol2:()=>sf,w6W:()=>tk,oH4:()=>fv,QZP:()=>Jv,SmG:()=>jI,WQX:()=>Ze,Hps:()=>Yp,QuC:()=>Zs,EmA:()=>Ur,fpN:()=>WI,HJs:()=>T9,N4e:()=>ha,O8t:()=>I9,H3F:()=>G1,H8p:()=>ri,KH2:()=>yc,TgB:()=>ya,wOt:()=>Re,WHO:()=>Z1,e01:()=>X1,lNU:()=>jn,h9k:()=>em,$MX:()=>il,ZF7:()=>Ga,Kcf:()=>Rb,e5t:()=>Bb,UyX:()=>Lb,cWb:()=>Nb,osQ:()=>Ub,H5H:()=>jf,Zy3:()=>br,mq5:()=>lF,JZv:()=>qt,LfX:()=>kr,plB:()=>sa,jNT:()=>nh,zjR:()=>ev,TL$:()=>fb,Tbb:()=>zt,rcV:()=>Bi,Vt3:()=>tf,GFd:()=>nE,OA$:()=>xn,aNF:()=>F1,R7$:()=>Mm,BMQ:()=>vf,HbH:()=>KE,AVh:()=>Cf,wni:()=>zF,VBU:()=>xr,FsC:()=>Xo,jDH:()=>Ot,G2t:()=>ss,$C:()=>ls,EJ8:()=>Yo,rXU:()=>Ja,nrm:()=>xf,k0s:()=>$l,j41:()=>ql,RV6:()=>aF,xGo:()=>Kh,KVO:()=>vn,kS0:()=>$u,QTQ:()=>xm,bIt:()=>Rf,lsd:()=>KF,joV:()=>jh,qSk:()=>Th,XpG:()=>PF,nI1:()=>I1,i5U:()=>M1,SdG:()=>NF,NAR:()=>RF,Y8G:()=>wf,FS9:()=>Lf,FCK:()=>Bf,lJ4:()=>b1,mGM:()=>WF,sdS:()=>JF,Njj:()=>vh,tSv:()=>cm,eBV:()=>Fh,B4B:()=>rp,n$t:()=>rm,DNE:()=>cf,C5r:()=>A1,EFF:()=>o1,JRh:()=>qf,SpI:()=>Kl,Lme:()=>$f,LHq:()=>Hf,xRd:()=>zf,wXG:()=>nm,GBs:()=>GF});let e=null,$=!1,O=1;const R=Symbol("SIGNAL");function G(t){const n=e;return e=t,n}const le={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Y(t){if((!J(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==O)){if(!t.producerMustRecompute(t)&&!Me(t))return t.dirty=!1,void(t.lastCleanEpoch=O);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=O}}function ee(t){t.dirty=!0,function W(t){if(void 0===t.liveConsumerNode)return;const n=$;$=!0;try{for(const r of t.liveConsumerNode)r.dirty||ee(r)}finally{$=n}}(t),t.consumerMarkedDirty?.(t)}function Q(t){return t&&(t.nextProducerIndex=0),G(t)}function me(t,n){if(G(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(J(t))for(let r=t.nextProducerIndex;r<t.producerNode.length;r++)se(t.producerNode[r],t.producerIndexOfThis[r]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Me(t){Oe(t);for(let n=0;n<t.producerNode.length;n++){const r=t.producerNode[n],s=t.producerLastReadVersion[n];if(s!==r.version||(Y(r),s!==r.version))return!0}return!1}function Ie(t){if(Oe(t),J(t))for(let n=0;n<t.producerNode.length;n++)se(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function se(t,n){if(function je(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),1===t.liveConsumerNode.length&&function Ae(t){return void 0!==t.producerNode}(t))for(let s=0;s<t.producerNode.length;s++)se(t.producerNode[s],t.producerIndexOfThis[s]);const r=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[r],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[r],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const s=t.liveConsumerIndexOfThis[n],o=t.liveConsumerNode[n];Oe(o),o.producerIndexOfThis[s]=n}}function J(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Oe(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let pt=null;const tt=()=>{},Vt={...le,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{null!==t.schedule&&t.schedule(t.ref)},hasRun:!1,cleanupFn:tt};var ar=C(4412),Nt=C(1413),Qt=C(8359),jt=C(6354);const jn="https://g.co/ng/security#xss";class Re extends Error{constructor(n,r){super(br(n,r)),this.code=n}}function br(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}function Et(t){return{toString:t}.toString()}const Kn="__parameters__";function On(t,n,r){return Et(()=>{const s=function Fn(t){return function(...r){if(t){const s=t(...r);for(const o in s)this[o]=s[o]}}}(n);function o(...i){if(this instanceof o)return s.apply(this,i),this;const d=new o(...i);return h.annotation=d,h;function h(v,k,D){const T=v.hasOwnProperty(Kn)?v[Kn]:Object.defineProperty(v,Kn,{value:[]})[Kn];for(;T.length<=D;)T.push(null);return(T[D]=T[D]||[]).push(d),v}}return r&&(o.prototype=Object.create(r.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}const qt=globalThis;function ct(t){for(let n in t)if(t[n]===ct)return n;throw Error("Could not find renamed property on target object.")}function ns(t,n){for(const r in n)n.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=n[r])}function zt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(zt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function Hr(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const nr=ct({__forward_ref__:ct});function ie(t){return t.__forward_ref__=ie,t.toString=function(){return zt(this())},t}function K(t){return P(t)?t():t}function P(t){return"function"==typeof t&&t.hasOwnProperty(nr)&&t.__forward_ref__===ie}function Ot(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ss(t){return{providers:t.providers||[],imports:t.imports||[]}}function Rn(t){return dr(t,ws)||dr(t,os)}function kr(t){return null!==Rn(t)}function dr(t,n){return t.hasOwnProperty(n)?t[n]:null}function _s(t){return t&&(t.hasOwnProperty(Cr)||t.hasOwnProperty(io))?t[Cr]:null}const ws=ct({\u0275prov:ct}),Cr=ct({\u0275inj:ct}),os=ct({ngInjectableDef:ct}),io=ct({ngInjectorDef:ct});class lt{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Ot({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function cn(t){return t&&!!t.\u0275providers}const $t=ct({\u0275cmp:ct}),an=ct({\u0275dir:ct}),nn=ct({\u0275pipe:ct}),bn=ct({\u0275mod:ct}),At=ct({\u0275fac:ct}),Dt=ct({__NG_ELEMENT_ID__:ct}),_n=ct({__NG_ENV_ID__:ct});function st(t){return"string"==typeof t?t:null==t?"":String(t)}function zs(t,n){throw new Re(-201,!1)}var wt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(wt||{});let zo;function vi(){return zo}function Cn(t){const n=zo;return zo=t,n}function Go(t,n,r){const s=Rn(t);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:r&wt.Optional?null:void 0!==n?n:void zs()}const Gs={},bi="__NG_DI_FLAG__",Io="ngTempTokenPath",rr=/\n/gm,Cs="__source";let Rr;function pr(t){const n=Rr;return Rr=t,n}function lo(t,n=wt.Default){if(void 0===Rr)throw new Re(-203,!1);return null===Rr?Go(t,void 0,n):Rr.get(t,n&wt.Optional?null:void 0,n)}function vn(t,n=wt.Default){return(vi()||lo)(K(t),n)}function Ze(t,n=wt.Default){return vn(t,as(n))}function as(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ds(t){const n=[];for(let r=0;r<t.length;r++){const s=K(t[r]);if(Array.isArray(s)){if(0===s.length)throw new Re(900,!1);let o,i=wt.Default;for(let d=0;d<s.length;d++){const h=s[d],v=zr(h);"number"==typeof v?-1===v?o=h.token:i|=v:o=h}n.push(vn(o,i))}else n.push(vn(s))}return n}function po(t,n){return t[bi]=n,t.prototype[bi]=n,t}function zr(t){return t[bi]}const Ks=po(On("Optional"),8),Is=po(On("SkipSelf"),4);function Mr(t,n){return t.hasOwnProperty(At)?t[At]:null}function Nr(t,n){t.forEach(r=>Array.isArray(r)?Nr(r,n):n(r))}function Ao(t,n,r){n>=t.length?t.push(r):t.splice(n,0,r)}function xo(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Nn(t,n,r){let s=xs(t,n);return s>=0?t[1|s]=r:(s=~s,function Ko(t,n,r,s){let o=t.length;if(o==n)t.push(r,s);else if(1===o)t.push(s,t[0]),t[0]=r;else{for(o--,t.push(t[o-1],t[o]);o>n;)t[o]=t[o-2],o--;t[n]=r,t[n+1]=s}}(t,s,n,r)),s}function As(t,n){const r=xs(t,n);if(r>=0)return t[1|r]}function xs(t,n){return function Di(t,n,r){let s=0,o=t.length>>r;for(;o!==s;){const i=s+(o-s>>1),d=t[i<<r];if(n===d)return i<<r;d>n?o=i:s=i+1}return~(o<<r)}(t,n,1)}const fr={},Lt=[],Lr=new lt(""),us=new lt("",-1),So=new lt("");class ho{get(n,r=Gs){if(r===Gs){const s=new Error(`NullInjectorError: No provider for ${zt(n)}!`);throw s.name="NullInjectorError",s}return r}}var Gr=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Gr||{}),hr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(hr||{}),In=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(In||{});function sr(t,n,r){let s=t.length;for(;;){const o=t.indexOf(n,r);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const i=n.length;if(o+i===s||t.charCodeAt(o+i)<=32)return o}r=o+1}}function Wr(t,n,r){let s=0;for(;s<r.length;){const o=r[s];if("number"==typeof o){if(0!==o)break;s++;const i=r[s++],d=r[s++],h=r[s++];t.setAttribute(n,d,h,i)}else{const i=o,d=r[++s];mo(i)?t.setProperty(n,i,d):t.setAttribute(n,i,d),s++}}return s}function Ss(t){return 3===t||4===t||6===t}function mo(t){return 64===t.charCodeAt(0)}function Js(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let r=-1;for(let s=0;s<n.length;s++){const o=n[s];"number"==typeof o?r=o:0===r||Jo(t,r,o,null,-1===r||2===r?n[++s]:null)}}return t}function Jo(t,n,r,s,o){let i=0,d=t.length;if(-1===n)d=-1;else for(;i<t.length;){const h=t[i++];if("number"==typeof h){if(h===n){d=-1;break}if(h>n){d=i-1;break}}}for(;i<t.length;){const h=t[i];if("number"==typeof h)break;if(h===r){if(null===s)return void(null!==o&&(t[i+1]=o));if(s===t[i+1])return void(t[i+2]=o)}i++,null!==s&&i++,null!==o&&i++}-1!==d&&(t.splice(d,0,n),i=d+1),t.splice(i++,0,r),null!==s&&t.splice(i++,0,s),null!==o&&t.splice(i++,0,o)}const Qs="ng-template";function zi(t,n,r,s){let o=0;if(s){for(;o<n.length&&"string"==typeof n[o];o+=2)if("class"===n[o]&&-1!==sr(n[o+1].toLowerCase(),r,0))return!0}else if(Kr(t))return!1;if(o=n.indexOf(1,o),o>-1){let i;for(;++o<n.length&&"string"==typeof(i=n[o]);)if(i.toLowerCase()===r)return!0}return!1}function Kr(t){return 4===t.type&&t.value!==Qs}function To(t,n,r){return n===(4!==t.type||r?t.value:Qs)}function Gt(t,n,r){let s=4;const o=t.attrs,i=null!==o?function Zo(t){for(let n=0;n<t.length;n++)if(Ss(t[n]))return n;return t.length}(o):0;let d=!1;for(let h=0;h<n.length;h++){const v=n[h];if("number"!=typeof v){if(!d)if(4&s){if(s=2|1&s,""!==v&&!To(t,v,r)||""===v&&1===n.length){if(Hn(s))return!1;d=!0}}else if(8&s){if(null===o||!zi(t,o,v,r)){if(Hn(s))return!1;d=!0}}else{const k=n[++h],D=Qo(v,o,Kr(t),r);if(-1===D){if(Hn(s))return!1;d=!0;continue}if(""!==k){let T;if(T=D>i?"":o[D+1].toLowerCase(),2&s&&k!==T){if(Hn(s))return!1;d=!0}}}}else{if(!d&&!Hn(s)&&!Hn(v))return!1;if(d&&Hn(v))continue;d=!1,s=v|1&s}}return Hn(s)||d}function Hn(t){return!(1&t)}function Qo(t,n,r,s){if(null===n)return-1;let o=0;if(s||!r){let i=!1;for(;o<n.length;){const d=n[o];if(d===t)return o;if(3===d||6===d)i=!0;else{if(1===d||2===d){let h=n[++o];for(;"string"==typeof h;)h=n[++o];continue}if(4===d)break;if(0===d){o+=4;continue}}o+=i?1:2}return-1}return function Gi(t,n){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){const s=t[r];if("number"==typeof s)return-1;if(s===n)return r;r++}return-1}(n,t)}function Ii(t,n,r=!1){for(let s=0;s<n.length;s++)if(Gt(t,n[s],r))return!0;return!1}function Wi(t,n){e:for(let r=0;r<n.length;r++){const s=n[r];if(t.length===s.length){for(let o=0;o<t.length;o++)if(t[o]!==s[o])continue e;return!0}}return!1}function Mi(t,n){return t?":not("+n.trim()+")":n}function ua(t){let n=t[0],r=1,s=2,o="",i=!1;for(;r<t.length;){let d=t[r];if("string"==typeof d)if(2&s){const h=t[++r];o+="["+d+(h.length>0?'="'+h+'"':"")+"]"}else 8&s?o+="."+d:4&s&&(o+=" "+d);else""!==o&&!Hn(d)&&(n+=Mi(i,o),o=""),s=d,i=i||!Hn(s);r++}return""!==o&&(n+=Mi(i,o)),n}function xr(t){return Et(()=>{const n=jo(t),r={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Gr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||hr.Emulated,styles:t.styles||Lt,_:null,schemas:t.schemas||null,tView:null,id:""};Eo(r);const s=t.dependencies;return r.directiveDefs=Fo(s,!1),r.pipeDefs=Fo(s,!0),r.id=function ds(t){let n=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const o of r)n=Math.imul(31,n)+o.charCodeAt(0)|0;return n+=2147483648,"c"+n}(r),r})}function Ki(t){return Ft(t)||Mn(t)}function go(t){return null!==t}function ls(t){return Et(()=>({type:t.type,bootstrap:t.bootstrap||Lt,declarations:t.declarations||Lt,imports:t.imports||Lt,exports:t.exports||Lt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function mr(t,n){if(null==t)return fr;const r={};for(const s in t)if(t.hasOwnProperty(s)){const o=t[s];let i,d,h=In.None;Array.isArray(o)?(h=o[0],i=o[1],d=o[2]??i):(i=o,d=o),n?(r[i]=h!==In.None?[s,h]:s,n[i]=d):r[i]=s}return r}function Xo(t){return Et(()=>{const n=jo(t);return Eo(n),n})}function Yo(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ft(t){return t[$t]||null}function Mn(t){return t[an]||null}function Un(t){return t[nn]||null}function Zs(t){const n=Ft(t)||Mn(t)||Un(t);return null!==n&&n.standalone}function mt(t,n){const r=t[bn]||null;if(!r&&!0===n)throw new Error(`Type ${zt(t)} does not have '\u0275mod' property.`);return r}function jo(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||fr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Lt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:mr(t.inputs,n),outputs:mr(t.outputs),debugInfo:null}}function Eo(t){t.features?.forEach(n=>n(t))}function Fo(t,n){if(!t)return null;const r=n?Un:Ki;return()=>("function"==typeof t?t():t).map(s=>r(s)).filter(go)}function Ur(t){return{\u0275providers:t}}function ei(...t){return{\u0275providers:ti(0,t),\u0275fromNgModule:!0}}function ti(t,...n){const r=[],s=new Set;let o;const i=d=>{r.push(d)};return Nr(n,d=>{const h=d;Ts(h,i,[],s)&&(o||=[],o.push(h))}),void 0!==o&&xi(o,i),r}function xi(t,n){for(let r=0;r<t.length;r++){const{ngModule:s,providers:o}=t[r];Si(o,i=>{n(i,s)})}}function Ts(t,n,r,s){if(!(t=K(t)))return!1;let o=null,i=_s(t);const d=!i&&Ft(t);if(i||d){if(d&&!d.standalone)return!1;o=t}else{const v=t.ngModule;if(i=_s(v),!i)return!1;o=v}const h=s.has(o);if(d){if(h)return!1;if(s.add(o),d.dependencies){const v="function"==typeof d.dependencies?d.dependencies():d.dependencies;for(const k of v)Ts(k,n,r,s)}}else{if(!i)return!1;{if(null!=i.imports&&!h){let k;s.add(o);try{Nr(i.imports,D=>{Ts(D,n,r,s)&&(k||=[],k.push(D))})}finally{}void 0!==k&&xi(k,n)}if(!h){const k=Mr(o)||(()=>new o);n({provide:o,useFactory:k,deps:Lt},o),n({provide:So,useValue:o,multi:!0},o),n({provide:Lr,useValue:()=>vn(o),multi:!0},o)}const v=i.providers;if(null!=v&&!h){const k=t;Si(v,D=>{n(D,k)})}}}return o!==t&&void 0!==t.providers}function Si(t,n){for(let r of t)cn(r)&&(r=r.\u0275providers),Array.isArray(r)?Si(r,n):n(r)}const Ji=ct({provide:String,useValue:ct});function ni(t){return null!==t&&"object"==typeof t&&Ji in t}function Jr(t){return"function"==typeof t}const ri=new lt(""),si={},ji={};let ps;function oi(){return void 0===ps&&(ps=new ho),ps}class hn{}class fs extends hn{get destroyed(){return this._destroyed}constructor(n,r,s,o){super(),this.parent=r,this.source=s,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xs(n,d=>this.processProvider(d)),this.records.set(us,Qr(void 0,this)),o.has("environment")&&this.records.set(hn,Qr(void 0,this));const i=this.records.get(ri);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(So,Lt,wt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=G(null);try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),G(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const r=pr(this),s=Cn(void 0);try{return n()}finally{pr(r),Cn(s)}}get(n,r=Gs,s=wt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(_n))return n[_n](this);s=as(s);const i=pr(this),d=Cn(void 0);try{if(!(s&wt.SkipSelf)){let v=this.records.get(n);if(void 0===v){const k=function ai(t){return"function"==typeof t||"object"==typeof t&&t instanceof lt}(n)&&Rn(n);v=k&&this.injectableDefInScope(k)?Qr(yo(n),si):null,this.records.set(n,v)}if(null!=v)return this.hydrate(n,v)}return(s&wt.Self?oi():this.parent).get(n,r=s&wt.Optional&&r===Gs?null:r)}catch(h){if("NullInjectorError"===h.name){if((h[Io]=h[Io]||[]).unshift(zt(n)),i)throw h;return function Ws(t,n,r,s){const o=t[Io];throw n[Cs]&&o.unshift(n[Cs]),t.message=function fo(t,n,r,s=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let o=zt(n);if(Array.isArray(n))o=n.map(zt).join(" -> ");else if("object"==typeof n){let i=[];for(let d in n)if(n.hasOwnProperty(d)){let h=n[d];i.push(d+":"+("string"==typeof h?JSON.stringify(h):zt(h)))}o=`{${i.join(", ")}}`}return`${r}${s?"("+s+")":""}[${o}]: ${t.replace(rr,"\n  ")}`}("\n"+t.message,o,r,s),t.ngTokenPath=o,t[Io]=null,t}(h,n,"R3InjectorError",this.source)}throw h}finally{Cn(d),pr(i)}}resolveInjectorInitializers(){const n=G(null),r=pr(this),s=Cn(void 0);try{const i=this.get(Lr,Lt,wt.Self);for(const d of i)d()}finally{pr(r),Cn(s),G(n)}}toString(){const n=[],r=this.records;for(const s of r.keys())n.push(zt(s));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processProvider(n){let r=Jr(n=K(n))?n:K(n&&n.provide);const s=function js(t){return ni(t)?Qr(void 0,t.useValue):Qr(function ii(t,n,r){let s;if(Jr(t)){const o=K(t);return Mr(o)||yo(o)}if(ni(t))s=()=>K(t.useValue);else if(function Ti(t){return!(!t||!t.useFactory)}(t))s=()=>t.useFactory(...Ds(t.deps||[]));else if(function vo(t){return!(!t||!t.useExisting)}(t))s=()=>vn(K(t.useExisting));else{const o=K(t&&(t.useClass||t.provide));if(!function Os(t){return!!t.deps}(t))return Mr(o)||yo(o);s=()=>new o(...Ds(t.deps))}return s}(t),si)}(n);if(!Jr(n)&&!0===n.multi){let o=this.records.get(r);o||(o=Qr(void 0,si,!0),o.factory=()=>Ds(o.multi),this.records.set(r,o)),r=n,o.multi.push(n)}this.records.set(r,s)}hydrate(n,r){const s=G(null);try{return r.value===si&&(r.value=ji,r.value=r.factory()),"object"==typeof r.value&&r.value&&function Oo(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{G(s)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=K(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function yo(t){const n=Rn(t),r=null!==n?n.factory:Mr(t);if(null!==r)return r;if(t instanceof lt)throw new Re(204,!1);if(t instanceof Function)return function fa(t){if(t.length>0)throw new Re(204,!1);const r=function Do(t){return t&&(t[ws]||t[os])||null}(t);return null!==r?()=>r.factory(t):()=>new t}(t);throw new Re(204,!1)}function Qr(t,n,r=!1){return{factory:t,value:n,multi:r?[]:void 0}}function Xs(t,n){for(const r of t)Array.isArray(r)?Xs(r,n):r&&cn(r)?Xs(r.\u0275providers,n):n(r)}function ha(t,n){t instanceof fs&&t.assertNotDestroyed();const s=pr(t),o=Cn(void 0);try{return n()}finally{pr(s),Cn(o)}}function bo(){return void 0!==vi()||null!=function is(){return Rr}()}function Ps(t){if(!bo())throw new Re(-203,!1)}const ot=0,Ce=1,qe=2,Xt=3,Bn=4,en=5,wn=6,Jn=7,xt=8,dn=9,gr=10,Xe=11,zn=12,Ln=13,Qn=14,pn=15,An=16,Zn=17,Rs=18,hs=19,Xi=20,Zr=21,Po=22,Vn=23,et=25,eo=1,Xr=7,No=9,fn=10;var Lo=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Lo||{});function qn(t){return Array.isArray(t)&&"object"==typeof t[eo]}function or(t){return Array.isArray(t)&&!0===t[eo]}function ui(t){return!!(4&t.flags)}function Ns(t){return t.componentOffset>-1}function Oi(t){return!(1&~t.flags)}function Br(t){return!!t.template}function Uo(t){return!!(512&t[qe])}class dt{constructor(n,r,s){this.previousValue=n,this.currentValue=r,this.firstChange=s}isFirstChange(){return this.firstChange}}function rn(t,n,r,s){null!==n?n.applyValueToInputSignal(n,s):t[r]=s}function xn(){return Gn}function Gn(t){return t.type.prototype.ngOnChanges&&(t.setInput=Wn),gn}function gn(){const t=Ls(this),n=t?.current;if(n){const r=t.previous;if(r===fr)t.previous=n;else for(let s in n)r[s]=n[s];t.current=null,this.ngOnChanges(n)}}function Wn(t,n,r,s,o){const i=this.declaredInputs[s],d=Ls(t)||function Au(t,n){return t[_o]=n}(t,{previous:fr,current:null}),h=d.current||(d.current={}),v=d.previous,k=v[i];h[i]=new dt(k&&k.currentValue,r,v===fr),rn(t,n,o,r)}xn.ngInherit=!0;const _o="__ngSimpleChanges__";function Ls(t){return t[_o]||null}const to=function(t,n,r){},Cc="svg";function Ue(t){for(;Array.isArray(t);)t=t[ot];return t}function Bt(t,n){return Ue(n[t])}function sn(t,n){return Ue(n[t.index])}function Er(t,n){return t.data[n]}function Yr(t,n){return t[n]}function Wt(t,n){const r=n[t];return qn(r)?r:r[ot]}function Dc(t){return!(128&~t[qe])}function ir(t,n){return null==n?null:t[n]}function ms(t){t[Zn]=0}function ma(t){1024&t[qe]||(t[qe]|=1024,Dc(t)&&Tu(t))}function Su(t){return!!(9216&t[qe]||t[Vn]?.dirty)}function pd(t){t[gr].changeDetectionScheduler?.notify(8),64&t[qe]&&(t[qe]|=1024),Su(t)&&Tu(t)}function Tu(t){t[gr].changeDetectionScheduler?.notify(0);let n=Ri(t);for(;null!==n&&!(8192&n[qe])&&(n[qe]|=8192,Dc(n));)n=Ri(n)}function ju(t,n){if(!(256&~t[qe]))throw new Re(911,!1);null===t[Zr]&&(t[Zr]=[]),t[Zr].push(n)}function Ri(t){const n=t[Xt];return or(n)?n[Xt]:n}const yt={lFrame:Ah(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let gh=!1;function Eh(){return yt.bindingsEnabled}function ga(){return null!==yt.skipHydrationRootTNode}function ye(){return yt.lFrame.lView}function Rt(){return yt.lFrame.tView}function Fh(t){return yt.lFrame.contextLView=t,t[xt]}function vh(t){return yt.lFrame.contextLView=null,t}function En(){let t=yh();for(;null!==t&&64===t.type;)t=t.parent;return t}function yh(){return yt.lFrame.currentTNode}function Vo(t,n){const r=yt.lFrame;r.currentTNode=t,r.isParent=n}function md(){return yt.lFrame.isParent}function gd(){yt.lFrame.isParent=!1}function wh(){return gh}function kh(t){gh=t}function gs(){const t=yt.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Ni(){return yt.lFrame.bindingIndex}function Ch(t){return yt.lFrame.bindingIndex=t}function qo(){return yt.lFrame.bindingIndex++}function Li(t){const n=yt.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,r}function iy(t,n){const r=yt.lFrame;r.bindingIndex=r.bindingRootIndex=t,Ed(n)}function Ed(t){yt.lFrame.currentDirectiveIndex=t}function vd(){return yt.lFrame.currentQueryIndex}function Pu(t){yt.lFrame.currentQueryIndex=t}function cy(t){const n=t[Ce];return 2===n.type?n.declTNode:1===n.type?t[en]:null}function Ih(t,n,r){if(r&wt.SkipSelf){let o=n,i=t;for(;!(o=o.parent,null!==o||r&wt.Host||(o=cy(i),null===o||(i=i[Qn],10&o.type))););if(null===o)return!1;n=o,t=i}const s=yt.lFrame=Mh();return s.currentTNode=n,s.lView=t,!0}function yd(t){const n=Mh(),r=t[Ce];yt.lFrame=n,n.currentTNode=r.firstChild,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function Mh(){const t=yt.lFrame,n=null===t?null:t.child;return null===n?Ah(t):n}function Ah(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function xh(){const t=yt.lFrame;return yt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Sh=xh;function bd(){const t=xh();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Vr(){return yt.lFrame.selectedIndex}function Ea(t){yt.lFrame.selectedIndex=t}function Sn(){const t=yt.lFrame;return Er(t.tView,t.selectedIndex)}function Th(){yt.lFrame.currentNamespace=Cc}function jh(){!function dy(){yt.lFrame.currentNamespace=null}()}let Ph=!0;function Mc(){return Ph}function li(t){Ph=t}function Ru(t,n){for(let r=n.directiveStart,s=n.directiveEnd;r<s;r++){const i=t.data[r].type.prototype,{ngAfterContentInit:d,ngAfterContentChecked:h,ngAfterViewInit:v,ngAfterViewChecked:k,ngOnDestroy:D}=i;d&&(t.contentHooks??=[]).push(-r,d),h&&((t.contentHooks??=[]).push(r,h),(t.contentCheckHooks??=[]).push(r,h)),v&&(t.viewHooks??=[]).push(-r,v),k&&((t.viewHooks??=[]).push(r,k),(t.viewCheckHooks??=[]).push(r,k)),null!=D&&(t.destroyHooks??=[]).push(r,D)}}function Nu(t,n,r){Rh(t,n,3,r)}function Lu(t,n,r,s){(3&t[qe])===r&&Rh(t,n,r,s)}function _d(t,n){let r=t[qe];(3&r)===n&&(r&=16383,r+=1,t[qe]=r)}function Rh(t,n,r,s){const i=s??-1,d=n.length-1;let h=0;for(let v=void 0!==s?65535&t[Zn]:0;v<d;v++)if("number"==typeof n[v+1]){if(h=n[v],null!=s&&h>=s)break}else n[v]<0&&(t[Zn]+=65536),(h<i||-1==i)&&(fy(t,r,n,v),t[Zn]=(4294901760&t[Zn])+v+2),v++}function Nh(t,n){to(4,t,n);const r=G(null);try{n.call(t)}finally{G(r),to(5,t,n)}}function fy(t,n,r,s){const o=r[s]<0,i=r[s+1],h=t[o?-r[s]:r[s]];o?t[qe]>>14<t[Zn]>>16&&(3&t[qe])===n&&(t[qe]+=16384,Nh(h,i)):Nh(h,i)}const La=-1;class Ac{constructor(n,r,s){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=s}}const kd={};class Fa{constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,s){s=as(s);const o=this.injector.get(n,kd,s);return o!==kd||r===kd?o:this.parentInjector.get(n,r,s)}}function Cd(t){return t!==La}function xc(t){return 32767&t}function Sc(t,n){let r=function Fy(t){return t>>16}(t),s=n;for(;r>0;)s=s[Qn],r--;return s}let Dd=!0;function Uu(t){const n=Dd;return Dd=t,n}const Uh=255,Bh=5;let yy=0;const di={};function Bu(t,n){const r=Vh(t,n);if(-1!==r)return r;const s=n[Ce];s.firstCreatePass&&(t.injectorIndex=n.length,Id(s.data,t),Id(n,null),Id(s.blueprint,null));const o=Vu(t,n),i=t.injectorIndex;if(Cd(o)){const d=xc(o),h=Sc(o,n),v=h[Ce].data;for(let k=0;k<8;k++)n[i+k]=h[d+k]|v[d+k]}return n[i+8]=o,i}function Id(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Vh(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Vu(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let r=0,s=null,o=n;for(;null!==o;){if(s=Jh(o),null===s)return La;if(r++,o=o[Qn],-1!==s.injectorIndex)return s.injectorIndex|r<<16}return La}function Md(t,n,r){!function by(t,n,r){let s;"string"==typeof r?s=r.charCodeAt(0)||0:r.hasOwnProperty(Dt)&&(s=r[Dt]),null==s&&(s=r[Dt]=yy++);const o=s&Uh;n.data[t+(o>>Bh)]|=1<<o}(t,n,r)}function qh(t,n,r){if(r&wt.Optional||void 0!==t)return t;zs()}function $h(t,n,r,s){if(r&wt.Optional&&void 0===s&&(s=null),!(r&(wt.Self|wt.Host))){const o=t[dn],i=Cn(void 0);try{return o?o.get(n,s,r&wt.Optional):Go(n,s,r&wt.Optional)}finally{Cn(i)}}return qh(s,0,r)}function Hh(t,n,r,s=wt.Default,o){if(null!==t){if(2048&n[qe]&&!(s&wt.Self)){const d=function Dy(t,n,r,s,o){let i=t,d=n;for(;null!==i&&null!==d&&2048&d[qe]&&!(512&d[qe]);){const h=zh(i,d,r,s|wt.Self,di);if(h!==di)return h;let v=i.parent;if(!v){const k=d[Xi];if(k){const D=k.get(r,di,s);if(D!==di)return D}v=Jh(d),d=d[Qn]}i=v}return o}(t,n,r,s,di);if(d!==di)return d}const i=zh(t,n,r,s,di);if(i!==di)return i}return $h(n,r,s,o)}function zh(t,n,r,s,o){const i=function ky(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Dt)?t[Dt]:void 0;return"number"==typeof n?n>=0?n&Uh:Cy:n}(r);if("function"==typeof i){if(!Ih(n,t,s))return s&wt.Host?qh(o,0,s):$h(n,r,s,o);try{let d;if(d=i(s),null!=d||s&wt.Optional)return d;zs()}finally{Sh()}}else if("number"==typeof i){let d=null,h=Vh(t,n),v=La,k=s&wt.Host?n[pn][en]:null;for((-1===h||s&wt.SkipSelf)&&(v=-1===h?Vu(t,n):n[h+8],v!==La&&Wh(s,!1)?(d=n[Ce],h=xc(v),n=Sc(v,n)):h=-1);-1!==h;){const D=n[Ce];if(Gh(i,h,D.data)){const T=wy(h,n,r,d,s,k);if(T!==di)return T}v=n[h+8],v!==La&&Wh(s,n[Ce].data[h+8]===k)&&Gh(i,h,n)?(d=D,h=xc(v),n=Sc(v,n)):h=-1}}return o}function wy(t,n,r,s,o,i){const d=n[Ce],h=d.data[t+8],D=qu(h,d,r,null==s?Ns(h)&&Dd:s!=d&&!!(3&h.type),o&wt.Host&&i===h);return null!==D?va(n,d,D,h):di}function qu(t,n,r,s,o){const i=t.providerIndexes,d=n.data,h=1048575&i,v=t.directiveStart,D=i>>20,L=o?h+D:t.directiveEnd;for(let z=s?h:h+D;z<L;z++){const Z=d[z];if(z<v&&r===Z||z>=v&&Z.type===r)return z}if(o){const z=d[v];if(z&&Br(z)&&z.type===r)return v}return null}function va(t,n,r,s){let o=t[r];const i=n.data;if(function hy(t){return t instanceof Ac}(o)){const d=o;d.resolving&&function Pr(t,n){throw n&&n.join(" > "),new Re(-200,t)}(function Ke(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():st(t)}(i[r]));const h=Uu(d.canSeeViewProviders);d.resolving=!0;const k=d.injectImpl?Cn(d.injectImpl):null;Ih(t,s,wt.Default);try{o=t[r]=d.factory(void 0,i,t,s),n.firstCreatePass&&r>=s.directiveStart&&function py(t,n,r){const{ngOnChanges:s,ngOnInit:o,ngDoCheck:i}=n.type.prototype;if(s){const d=Gn(n);(r.preOrderHooks??=[]).push(t,d),(r.preOrderCheckHooks??=[]).push(t,d)}o&&(r.preOrderHooks??=[]).push(0-t,o),i&&((r.preOrderHooks??=[]).push(t,i),(r.preOrderCheckHooks??=[]).push(t,i))}(r,i[r],n)}finally{null!==k&&Cn(k),Uu(h),d.resolving=!1,Sh()}}return o}function Gh(t,n,r){return!!(r[n+(t>>Bh)]&1<<t)}function Wh(t,n){return!(t&wt.Self||t&wt.Host&&n)}class Fr{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,s){return Hh(this._tNode,this._lView,n,as(s),r)}}function Cy(){return new Fr(En(),ye())}function Kh(t){return Et(()=>{const n=t.prototype.constructor,r=n[At]||Ad(n),s=Object.prototype;let o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==s;){const i=o[At]||Ad(o);if(i&&i!==r)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Ad(t){return P(t)?()=>{const n=Ad(K(t));return n&&n()}:Mr(t)}function Jh(t){const n=t[Ce],r=n.type;return 2===r?n.declTNode:1===r?t[en]:null}function $u(t){return function _y(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const r=t.attrs;if(r){const s=r.length;let o=0;for(;o<s;){const i=r[o];if(Ss(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<s&&"string"==typeof r[o];)o++;else{if(i===n)return r[o+1];o+=2}}}return null}(En(),t)}function e0(t,n=null,r=null,s){const o=t0(t,n,r,s);return o.resolveInjectorInitializers(),o}function t0(t,n=null,r=null,s,o=new Set){const i=[r||Lt,ei(t)];return s=s||("object"==typeof t?void 0:zt(t)),new fs(i,n||oi(),s||null,o)}class es{static#e=this.THROW_IF_NOT_FOUND=Gs;static#t=this.NULL=new ho;static create(n,r){if(Array.isArray(n))return e0({name:""},r,n,"");{const s=n.name??"";return e0({name:s},n.parent,n.providers,s)}}static#n=this.\u0275prov=Ot({token:es,providedIn:"any",factory:()=>vn(us)});static#r=this.__NG_ELEMENT_ID__=-1}new lt("").__NG_ELEMENT_ID__=t=>{const n=En();if(null===n)throw new Re(204,!1);if(2&n.type)return n.value;if(t&wt.Optional)return null;throw new Re(204,!1)};function Sd(t){return t.ngOriginalError}const r0=!0;let Tc=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Ry;static#t=this.__NG_ENV_ID__=r=>r}return t})();class Py extends Tc{constructor(n){super(),this._lView=n}onDestroy(n){return ju(this._lView,n),()=>function fd(t,n){if(null===t[Zr])return;const r=t[Zr].indexOf(n);-1!==r&&t[Zr].splice(r,1)}(this._lView,n)}}function Ry(){return new Py(ye())}let ya=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ar.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=Ot({token:t,providedIn:"root",factory:()=>new t})}return t})();const pi=class Ny extends Nt.B{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,bo()&&(this.destroyRef=Ze(Tc,{optional:!0})??void 0,this.pendingTasks=Ze(ya,{optional:!0})??void 0)}emit(n){const r=G(null);try{super.next(n)}finally{G(r)}}subscribe(n,r,s){let o=n,i=r||(()=>null),d=s;if(n&&"object"==typeof n){const v=n;o=v.next?.bind(v),i=v.error?.bind(v),d=v.complete?.bind(v)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),d&&(d=this.wrapInTimeout(d)));const h=super.subscribe({next:o,error:i,complete:d});return n instanceof Qt.yU&&n.add(h),h}wrapInTimeout(n){return r=>{const s=this.pendingTasks?.add();setTimeout(()=>{n(r),void 0!==s&&this.pendingTasks?.remove(s)})}}};function zu(...t){}function s0(t){let n,r;function s(){t=zu;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),s()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{t(),s()})),()=>s()}function o0(t){return queueMicrotask(()=>t()),()=>{t=zu}}const Td="isAngularZone",Gu=Td+"_ID";let Ly=0;class $n{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pi(!1),this.onMicrotaskEmpty=new pi(!1),this.onStable=new pi(!1),this.onError=new pi(!1);const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=r0}=n;if(typeof Zone>"u")throw new Re(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!o&&s,d.shouldCoalesceRunChangeDetection=o,d.callbackScheduled=!1,d.scheduleInRootZone=i,function Vy(t){const n=()=>{!function By(t){function n(){s0(()=>{t.callbackScheduled=!1,Od(t),t.isCheckStableRunning=!0,jd(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),Od(t))}(t)},r=Ly++;t._inner=t._inner.fork({name:"angular",properties:{[Td]:!0,[Gu]:r,[Gu+r]:!0},onInvokeTask:(s,o,i,d,h,v)=>{if(function qy(t){return u0(t,"__ignore_ng_zone__")}(v))return s.invokeTask(i,d,h,v);try{return a0(t),s.invokeTask(i,d,h,v)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&n(),c0(t)}},onInvoke:(s,o,i,d,h,v,k)=>{try{return a0(t),s.invoke(i,d,h,v,k)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function $y(t){return u0(t,"__scheduler_tick__")}(v)&&n(),c0(t)}},onHasTask:(s,o,i,d)=>{s.hasTask(i,d),o===i&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,Od(t),jd(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,o,i,d)=>(s.handleError(i,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Td)}static assertInAngularZone(){if(!$n.isInAngularZone())throw new Re(909,!1)}static assertNotInAngularZone(){if($n.isInAngularZone())throw new Re(909,!1)}run(n,r,s){return this._inner.run(n,r,s)}runTask(n,r,s,o){const i=this._inner,d=i.scheduleEventTask("NgZoneEvent: "+o,n,Uy,zu,zu);try{return i.runTask(d,r,s)}finally{i.cancelTask(d)}}runGuarded(n,r,s){return this._inner.runGuarded(n,r,s)}runOutsideAngular(n){return this._outer.run(n)}}const Uy={};function jd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Od(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function a0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function c0(t){t._nesting--,jd(t)}class Pd{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pi,this.onMicrotaskEmpty=new pi,this.onStable=new pi,this.onError=new pi}run(n,r,s){return n.apply(r,s)}runGuarded(n,r,s){return n.apply(r,s)}runOutsideAngular(n){return n()}runTask(n,r,s,o){return n.apply(r,s)}}function u0(t,n){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[n]}class Ui{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n);this._console.error("ERROR",n),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(n){let r=n&&Sd(n);for(;r&&Sd(r);)r=Sd(r);return r||null}}const zy=new lt("",{providedIn:"root",factory:()=>{const t=Ze($n),n=Ze(Ui);return r=>t.runOutsideAngular(()=>n.handleError(r))}});function Gy(){return Va(En(),ye())}function Va(t,n){return new jc(sn(t,n))}let jc=(()=>{class t{constructor(r){this.nativeElement=r}static#e=this.__NG_ELEMENT_ID__=Gy}return t})();function d0(t){return t instanceof jc?t.nativeElement:t}function Wy(){return this._results[Symbol.iterator]()}class Wu{static#e=Symbol.iterator;get changes(){return this._changes??=new pi}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=Wu.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=Wy)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){this.dirty=!1;const s=function Dn(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Wo(t,n,r){if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++){let o=t[s],i=n[s];if(r&&(o=r(o),i=r(i)),i!==o)return!1}return!0}(this._results,s,r))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Pc(t){return!(128&~t.flags)}const Nd=new Map;let Jy=0;function Ld(t){Nd.delete(t[hs])}const Ku="__ngContext__";function ts(t,n){qn(n)?(t[Ku]=n[hs],function Zy(t){Nd.set(t[hs],t)}(n)):t[Ku]=n}function b0(t){return w0(t[zn])}function _0(t){return w0(t[Bn])}function w0(t){for(;null!==t&&!or(t);)t=t[Bn];return t}let Bd;function fb(t){Bd=t}const Qu=new lt("",{providedIn:"root",factory:()=>hb}),hb="ng",S0=new lt(""),Zu=new lt("",{providedIn:"platform",factory:()=>"unknown"}),mb=new lt(""),gb=new lt("",{providedIn:"root",factory:()=>function ra(){if(void 0!==Bd)return Bd;if(typeof document<"u")return document;throw new Re(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let T0=()=>null;function Wd(t,n,r=!1){return T0(t,n,r)}const B0=new lt("",{providedIn:"root",factory:()=>!1});let sl,ol;function Xd(){if(void 0===sl&&(sl=null,qt.trustedTypes))try{sl=qt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return sl}function za(t){return Xd()?.createHTML(t)||t}function z0(t){return function Yd(){if(void 0===ol&&(ol=null,qt.trustedTypes))try{ol=qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ol}()?.createScriptURL(t)||t}class _a{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${jn})`}}class xb extends _a{getTypeName(){return"HTML"}}class Sb extends _a{getTypeName(){return"Style"}}class Tb extends _a{getTypeName(){return"Script"}}class jb extends _a{getTypeName(){return"URL"}}class Ob extends _a{getTypeName(){return"ResourceURL"}}function Bi(t){return t instanceof _a?t.changingThisBreaksApplicationSecurity:t}function Ga(t,n){const r=function Pb(t){return t instanceof _a&&t.getTypeName()||null}(t);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${jn})`)}return r===n}function Rb(t){return new xb(t)}function Nb(t){return new Sb(t)}function Lb(t){return new Tb(t)}function Ub(t){return new jb(t)}function Bb(t){return new Ob(t)}class Vb{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(za(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.firstChild?.remove(),r)}catch{return null}}}class qb{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const r=this.inertDocument.createElement("template");return r.innerHTML=za(n),r}}const Hb=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function il(t){return(t=String(t)).match(Hb)?t:"unsafe:"+t}function Vi(t){const n={};for(const r of t.split(","))n[r]=!0;return n}function qc(...t){const n={};for(const r of t)for(const s in r)r.hasOwnProperty(s)&&(n[s]=!0);return n}const W0=Vi("area,br,col,hr,img,wbr"),K0=Vi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),J0=Vi("rp,rt"),ep=qc(W0,qc(K0,Vi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qc(J0,Vi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),qc(J0,K0)),tp=Vi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Q0=qc(tp,Vi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),zb=Vi("script,style,template");class Gb{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let r=n.firstChild,s=!0,o=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?s=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,s&&r.firstChild)o.push(r),r=Jb(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let i=Kb(r);if(i){r=i;break}r=o.pop()}return this.buf.join("")}startElement(n){const r=Z0(n).toLowerCase();if(!ep.hasOwnProperty(r))return this.sanitizedSomething=!0,!zb.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const s=n.attributes;for(let o=0;o<s.length;o++){const i=s.item(o),d=i.name,h=d.toLowerCase();if(!Q0.hasOwnProperty(h)){this.sanitizedSomething=!0;continue}let v=i.value;tp[h]&&(v=il(v)),this.buf.push(" ",d,'="',Y0(v),'"')}return this.buf.push(">"),!0}endElement(n){const r=Z0(n).toLowerCase();ep.hasOwnProperty(r)&&!W0.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(Y0(n))}}function Kb(t){const n=t.nextSibling;if(n&&t!==n.previousSibling)throw X0(n);return n}function Jb(t){const n=t.firstChild;if(n&&function Wb(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,n))throw X0(n);return n}function Z0(t){const n=t.nodeName;return"string"==typeof n?n:"FORM"}function X0(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const Qb=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zb=/([^\#-~ |!])/g;function Y0(t){return t.replace(/&/g,"&amp;").replace(Qb,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Zb,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let al;function em(t,n){let r=null;try{al=al||function G0(t){const n=new qb(t);return function $b(){try{return!!(new window.DOMParser).parseFromString(za(""),"text/html")}catch{return!1}}()?new Vb(n):n}(t);let s=n?String(n):"";r=al.getInertBodyElement(s);let o=5,i=s;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,s=i,i=r.innerHTML,r=al.getInertBodyElement(s)}while(s!==i);return za((new Gb).sanitizeChildren(np(r)||r))}finally{if(r){const s=np(r)||r;for(;s.firstChild;)s.firstChild.remove()}}}function np(t){return"content"in t&&function Xb(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var wa=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(wa||{});function rp(t){const n=$c();return n?n.sanitize(wa.URL,t)||"":Ga(t,"URL")?Bi(t):il(st(t))}function tm(t){const n=$c();if(n)return z0(n.sanitize(wa.RESOURCE_URL,t)||"");if(Ga(t,"ResourceURL"))return z0(Bi(t));throw new Re(904,!1)}function nm(t){return function Ab(t){return Xd()?.createScriptURL(t)||t}(t[0])}function rm(t,n,r){return function r_(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?tm:rp}(n,r)(t)}function $c(){const t=ye();return t&&t[gr].sanitizer}function cm(t){return t.ownerDocument.defaultView}function no(t){return t instanceof Function?t():t}var ll=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ll||{});let ip;function ap(t,n){return ip(t,n)}function Ka(t,n,r,s,o){if(null!=s){let i,d=!1;or(s)?i=s:qn(s)&&(d=!0,s=s[ot]);const h=Ue(s);0===t&&null!==r?null==o?Em(n,r,h):ka(n,r,h,o||null,!0):1===t&&null!==r?ka(n,r,h,o||null,!0):2===t?function zc(t,n,r){t.removeChild(null,n,r)}(n,h,d):3===t&&n.destroyNode(h),null!=i&&function C_(t,n,r,s,o){const i=r[Xr];i!==Ue(r)&&Ka(n,t,s,i,o);for(let h=fn;h<r.length;h++){const v=r[h];hl(v[Ce],v,t,n,s,i)}}(n,t,i,r,o)}}function dl(t,n,r){return t.createElement(n,r)}function hm(t,n){n[gr].changeDetectionScheduler?.notify(9),hl(t,n,n[Xe],2,null,null)}function mm(t,n){const r=t[No],s=n[Xt];(qn(s)||n[pn]!==s[Xt][pn])&&(t[qe]|=Lo.HasTransplantedViews),null===r?t[No]=[n]:r.push(n)}function lp(t,n){const r=t[No],s=r.indexOf(n);r.splice(s,1)}function Hc(t,n){if(t.length<=fn)return;const r=fn+n,s=t[r];if(s){const o=s[An];null!==o&&o!==t&&lp(o,s),n>0&&(t[r-1][Bn]=s[Bn]);const i=xo(t,fn+n);!function E_(t,n){hm(t,n),n[ot]=null,n[en]=null}(s[Ce],s);const d=i[Rs];null!==d&&d.detachView(i[Ce]),s[Xt]=null,s[Bn]=null,s[qe]&=-129}return s}function pl(t,n){if(!(256&n[qe])){const r=n[Xe];r.destroyNode&&hl(t,n,r,3,null,null),function v_(t){let n=t[zn];if(!n)return dp(t[Ce],t);for(;n;){let r=null;if(qn(n))r=n[zn];else{const s=n[fn];s&&(r=s)}if(!r){for(;n&&!n[Bn]&&n!==t;)qn(n)&&dp(n[Ce],n),n=n[Xt];null===n&&(n=t),qn(n)&&dp(n[Ce],n),r=n&&n[Bn]}n=r}}(n)}}function dp(t,n){if(256&n[qe])return;const r=G(null);try{n[qe]&=-129,n[qe]|=256,n[Vn]&&Ie(n[Vn]),function __(t,n){let r;if(null!=t&&null!=(r=t.destroyHooks))for(let s=0;s<r.length;s+=2){const o=n[r[s]];if(!(o instanceof Ac)){const i=r[s+1];if(Array.isArray(i))for(let d=0;d<i.length;d+=2){const h=o[i[d]],v=i[d+1];to(4,h,v);try{v.call(h)}finally{to(5,h,v)}}else{to(4,o,i);try{i.call(o)}finally{to(5,o,i)}}}}}(t,n),function b_(t,n){const r=t.cleanup,s=n[Jn];if(null!==r)for(let i=0;i<r.length-1;i+=2)if("string"==typeof r[i]){const d=r[i+3];d>=0?s[d]():s[-d].unsubscribe(),i+=2}else r[i].call(s[r[i+1]]);null!==s&&(n[Jn]=null);const o=n[Zr];if(null!==o){n[Zr]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(t,n),1===n[Ce].type&&n[Xe].destroy();const s=n[An];if(null!==s&&or(n[Xt])){s!==n[Xt]&&lp(s,n);const o=n[Rs];null!==o&&o.detachView(t)}Ld(n)}finally{G(r)}}function pp(t,n,r){return function gm(t,n,r){let s=n;for(;null!==s&&168&s.type;)s=(n=s).parent;if(null===s)return r[ot];{const{componentOffset:o}=s;if(o>-1){const{encapsulation:i}=t.data[s.directiveStart+o];if(i===hr.None||i===hr.Emulated)return null}return sn(s,r)}}(t,n.parent,r)}function ka(t,n,r,s,o){t.insertBefore(n,r,s,o)}function Em(t,n,r){t.appendChild(n,r)}function Fm(t,n,r,s,o){null!==s?ka(t,n,r,s,o):Em(t,n,r)}function fp(t,n){return t.parentNode(n)}function vm(t,n,r){return bm(t,n,r)}let hp,bm=function ym(t,n,r){return 40&t.type?sn(t,r):null};function fl(t,n,r,s){const o=pp(t,s,n),i=n[Xe],h=vm(s.parent||n[en],s,n);if(null!=o)if(Array.isArray(r))for(let v=0;v<r.length;v++)Fm(i,o,r[v],h,!1);else Fm(i,o,r,h,!1);void 0!==hp&&hp(i,s,n,r,o)}function Ca(t,n){if(null!==n){const r=n.type;if(3&r)return sn(n,t);if(4&r)return mp(-1,t[n.index]);if(8&r){const s=n.child;if(null!==s)return Ca(t,s);{const o=t[n.index];return or(o)?mp(-1,o):Ue(o)}}if(128&r)return Ca(t,n.next);if(32&r)return ap(n,t)()||Ue(t[n.index]);{const s=wm(t,n);return null!==s?Array.isArray(s)?s[0]:Ca(Ri(t[pn]),s):Ca(t,n.next)}}return null}function wm(t,n){return null!==n?t[pn][en].projection[n.projection]:null}function mp(t,n){const r=fn+t+1;if(r<n.length){const s=n[r],o=s[Ce].firstChild;if(null!==o)return Ca(s,o)}return n[Xr]}function gp(t,n,r,s,o,i,d){for(;null!=r;){if(128===r.type){r=r.next;continue}const h=s[r.index],v=r.type;if(d&&0===n&&(h&&ts(Ue(h),s),r.flags|=2),32&~r.flags)if(8&v)gp(t,n,r.child,s,o,i,!1),Ka(n,t,o,h,i);else if(32&v){const k=ap(r,s);let D;for(;D=k();)Ka(n,t,o,D,i);Ka(n,t,o,h,i)}else 16&v?Cm(t,n,s,r,o,i):Ka(n,t,o,h,i);r=d?r.projectionNext:r.next}}function hl(t,n,r,s,o,i){gp(r,s,t.firstChild,n,o,i,!1)}function Cm(t,n,r,s,o,i){const d=r[pn],v=d[en].projection[s.projection];if(Array.isArray(v))for(let k=0;k<v.length;k++)Ka(n,t,o,v[k],i);else{let k=v;const D=d[Xt];Pc(s)&&(k.flags|=128),gp(t,n,k,D,o,i,!0)}}function Dm(t,n,r){""===r?t.removeAttribute(n,"class"):t.setAttribute(n,"class",r)}function Im(t,n,r){const{mergedAttrs:s,classes:o,styles:i}=r;null!==s&&Wr(t,n,s),null!==o&&Dm(t,n,o),null!==i&&function I_(t,n,r){t.setAttribute(n,"style",r)}(t,n,i)}const Mt={};function Mm(t=1){Am(Rt(),ye(),Vr()+t,!1)}function Am(t,n,r,s){if(!s)if(3&~n[qe]){const i=t.preOrderHooks;null!==i&&Lu(n,i,0,r)}else{const i=t.preOrderCheckHooks;null!==i&&Nu(n,i,r)}Ea(r)}function Ja(t,n=wt.Default){const r=ye();return null===r?vn(t,n):Hh(En(),r,K(t),n)}function xm(){throw new Error("invalid")}function Sm(t,n,r,s,o,i){const d=G(null);try{let h=null;o&In.SignalBased&&(h=n[s][R]),null!==h&&void 0!==h.transformFn&&(i=h.transformFn(i)),o&In.HasDecoratorInputTransform&&(i=t.inputTransforms[s].call(n,i)),null!==t.setInput?t.setInput(n,h,i,r,s):rn(n,h,s,i)}finally{G(d)}}function ml(t,n,r,s,o,i,d,h,v,k,D){const T=n.blueprint.slice();return T[ot]=o,T[qe]=204|s,(null!==k||t&&2048&t[qe])&&(T[qe]|=2048),ms(T),T[Xt]=T[Qn]=t,T[xt]=r,T[gr]=d||t&&t[gr],T[Xe]=h||t&&t[Xe],T[dn]=v||t&&t[dn]||null,T[en]=i,T[hs]=function Qy(){return Jy++}(),T[wn]=D,T[Xi]=k,T[pn]=2==n.type?t[pn]:T,T}function Da(t,n,r,s,o){let i=t.data[n];if(null===i)i=function Ep(t,n,r,s,o){const i=yh(),d=md(),v=t.data[n]=function P_(t,n,r,s,o,i){let d=n?n.injectorIndex:-1,h=0;return ga()&&(h|=128),{type:r,index:s,insertBeforeIndex:null,injectorIndex:d,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:h,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,d?i:i&&i.parent,r,n,s,o);return null===t.firstChild&&(t.firstChild=v),null!==i&&(d?null==i.child&&null!==v.parent&&(i.child=v):null===i.next&&(i.next=v,v.prev=i)),v}(t,n,r,s,o),function oy(){return yt.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=r,i.value=s,i.attrs=o;const d=function Ic(){const t=yt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();i.injectorIndex=null===d?-1:d.injectorIndex}return Vo(i,!0),i}function Gc(t,n,r,s){if(0===r)return-1;const o=n.length;for(let i=0;i<r;i++)n.push(s),t.blueprint.push(s),t.data.push(null);return o}function Tm(t,n,r,s,o){const i=Vr(),d=2&s;try{Ea(-1),d&&n.length>et&&Am(t,n,et,!1),to(d?2:0,o),r(s,o)}finally{Ea(i),to(d?3:1,o)}}function Fp(t,n,r){if(ui(n)){const s=G(null);try{const i=n.directiveEnd;for(let d=n.directiveStart;d<i;d++){const h=t.data[d];h.contentQueries&&h.contentQueries(1,r[d],d)}}finally{G(s)}}}function vp(t,n,r){Eh()&&(function q_(t,n,r,s){const o=r.directiveStart,i=r.directiveEnd;Ns(r)&&function J_(t,n,r){const s=sn(n,t),o=jm(r);let d=16;r.signals?d=4096:r.onPush&&(d=64);const h=gl(t,ml(t,o,null,d,s,n,null,t[gr].rendererFactory.createRenderer(s,r),null,null,null));t[n.index]=h}(n,r,t.data[o+r.componentOffset]),t.firstCreatePass||Bu(r,n),ts(s,n);const d=r.initialInputs;for(let h=o;h<i;h++){const v=t.data[h],k=va(n,t,h,r);ts(k,n),null!==d&&Q_(0,h-o,k,v,0,d),Br(v)&&(Wt(r.index,n)[xt]=va(n,t,h,r))}}(t,n,r,sn(r,n)),!(64&~r.flags)&&Lm(t,n,r))}function yp(t,n,r=sn){const s=n.localNames;if(null!==s){let o=n.index+1;for(let i=0;i<s.length;i+=2){const d=s[i+1],h=-1===d?r(n,t):t[d];t[o++]=h}}}function jm(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=bp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function bp(t,n,r,s,o,i,d,h,v,k,D){const T=et+s,L=T+o,z=function A_(t,n){const r=[];for(let s=0;s<n;s++)r.push(s<t?null:Mt);return r}(T,L),Z="function"==typeof k?k():k;return z[Ce]={type:t,blueprint:z,template:r,queries:null,viewQuery:h,declTNode:n,data:z.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof d?d():d,firstChild:null,schemas:v,consts:Z,incompleteFirstPass:!1,ssrId:D}}let Om=()=>null;function Pm(t,n,r,s,o){for(let i in n){if(!n.hasOwnProperty(i))continue;const d=n[i];if(void 0===d)continue;s??={};let h,v=In.None;Array.isArray(d)?(h=d[0],v=d[1]):h=d;let k=i;if(null!==o){if(!o.hasOwnProperty(i))continue;k=o[i]}0===t?Rm(s,r,k,h,v):Rm(s,r,k,h)}return s}function Rm(t,n,r,s,o){let i;t.hasOwnProperty(r)?(i=t[r]).push(n,s):i=t[r]=[n,s],void 0!==o&&i.push(o)}function Bs(t,n,r,s,o,i,d,h){const v=sn(n,r);let D,k=n.inputs;!h&&null!=k&&(D=k[s])?(Dp(t,r,D,s,o),Ns(n)&&function L_(t,n){const r=Wt(n,t);16&r[qe]||(r[qe]|=64)}(r,n.index)):3&n.type&&(s=function N_(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(s),o=null!=d?d(o,n.value||"",s):o,i.setProperty(v,s,o))}function _p(t,n,r,s){if(Eh()){const o=null===s?null:{"":-1},i=function H_(t,n){const r=t.directiveRegistry;let s=null,o=null;if(r)for(let i=0;i<r.length;i++){const d=r[i];if(Ii(n,d.selectors,!1))if(s||(s=[]),Br(d))if(null!==d.findHostDirectiveDefs){const h=[];o=o||new Map,d.findHostDirectiveDefs(d,h,o),s.unshift(...h,d),wp(t,n,h.length)}else s.unshift(d),wp(t,n,0);else o=o||new Map,d.findHostDirectiveDefs?.(d,s,o),s.push(d)}return null===s?null:[s,o]}(t,r);let d,h;null===i?d=h=null:[d,h]=i,null!==d&&Nm(t,n,r,d,o,h),o&&function z_(t,n,r){if(n){const s=t.localNames=[];for(let o=0;o<n.length;o+=2){const i=r[n[o+1]];if(null==i)throw new Re(-301,!1);s.push(n[o],i)}}}(r,s,o)}r.mergedAttrs=Js(r.mergedAttrs,r.attrs)}function Nm(t,n,r,s,o,i){for(let k=0;k<s.length;k++)Md(Bu(r,n),t,s[k].type);!function W_(t,n,r){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+r,t.providerIndexes=n}(r,t.data.length,s.length);for(let k=0;k<s.length;k++){const D=s[k];D.providersResolver&&D.providersResolver(D)}let d=!1,h=!1,v=Gc(t,n,s.length,null);for(let k=0;k<s.length;k++){const D=s[k];r.mergedAttrs=Js(r.mergedAttrs,D.hostAttrs),K_(t,r,n,v,D),G_(v,D,o),null!==D.contentQueries&&(r.flags|=4),(null!==D.hostBindings||null!==D.hostAttrs||0!==D.hostVars)&&(r.flags|=64);const T=D.type.prototype;!d&&(T.ngOnChanges||T.ngOnInit||T.ngDoCheck)&&((t.preOrderHooks??=[]).push(r.index),d=!0),!h&&(T.ngOnChanges||T.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(r.index),h=!0),v++}!function R_(t,n,r){const o=n.directiveEnd,i=t.data,d=n.attrs,h=[];let v=null,k=null;for(let D=n.directiveStart;D<o;D++){const T=i[D],L=r?r.get(T):null,Z=L?L.outputs:null;v=Pm(0,T.inputs,D,v,L?L.inputs:null),k=Pm(1,T.outputs,D,k,Z);const we=null===v||null===d||Kr(n)?null:Z_(v,D,d);h.push(we)}null!==v&&(v.hasOwnProperty("class")&&(n.flags|=8),v.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=h,n.inputs=v,n.outputs=k}(t,r,i)}function Lm(t,n,r){const s=r.directiveStart,o=r.directiveEnd,i=r.index,d=function ay(){return yt.lFrame.currentDirectiveIndex}();try{Ea(i);for(let h=s;h<o;h++){const v=t.data[h],k=n[h];Ed(h),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&$_(v,k)}}finally{Ea(-1),Ed(d)}}function $_(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function wp(t,n,r){n.componentOffset=r,(t.components??=[]).push(n.index)}function G_(t,n,r){if(r){if(n.exportAs)for(let s=0;s<n.exportAs.length;s++)r[n.exportAs[s]]=t;Br(n)&&(r[""]=t)}}function K_(t,n,r,s,o){t.data[s]=o;const i=o.factory||(o.factory=Mr(o.type)),d=new Ac(i,Br(o),Ja);t.blueprint[s]=d,r[s]=d,function B_(t,n,r,s,o){const i=o.hostBindings;if(i){let d=t.hostBindingOpCodes;null===d&&(d=t.hostBindingOpCodes=[]);const h=~n.index;(function V_(t){let n=t.length;for(;n>0;){const r=t[--n];if("number"==typeof r&&r<0)return r}return 0})(d)!=h&&d.push(h),d.push(r,s,i)}}(t,n,s,Gc(t,r,o.hostVars,Mt),o)}function fi(t,n,r,s,o,i){const d=sn(t,n);!function kp(t,n,r,s,o,i,d){if(null==i)t.removeAttribute(n,o,r);else{const h=null==d?st(i):d(i,s||"",o);t.setAttribute(n,o,h,r)}}(n[Xe],d,i,t.value,r,s,o)}function Q_(t,n,r,s,o,i){const d=i[n];if(null!==d)for(let h=0;h<d.length;)Sm(s,r,d[h++],d[h++],d[h++],d[h++])}function Z_(t,n,r){let s=null,o=0;for(;o<r.length;){const i=r[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(t.hasOwnProperty(i)){null===s&&(s=[]);const d=t[i];for(let h=0;h<d.length;h+=3)if(d[h]===n){s.push(i,d[h+1],d[h+2],r[o+1]);break}}o+=2}else o+=2;else o+=4}return s}function Um(t,n,r,s){return[t,!0,0,n,null,s,null,r,null,null]}function Bm(t,n){const r=t.contentQueries;if(null!==r){const s=G(null);try{for(let o=0;o<r.length;o+=2){const d=r[o+1];if(-1!==d){const h=t.data[d];Pu(r[o]),h.contentQueries(2,n[d],d)}}}finally{G(s)}}}function gl(t,n){return t[zn]?t[Ln][Bn]=n:t[zn]=n,t[Ln]=n,n}function Cp(t,n,r){Pu(0);const s=G(null);try{n(t,r)}finally{G(s)}}function Vm(t){return t[Jn]??=[]}function qm(t){return t.cleanup??=[]}function El(t,n){const r=t[dn],s=r?r.get(Ui,null):null;s&&s.handleError(n)}function Dp(t,n,r,s,o){for(let i=0;i<r.length;){const d=r[i++],h=r[i++],v=r[i++];Sm(t.data[d],n[d],s,h,v,o)}}function qi(t,n,r){const s=Bt(n,t);!function fm(t,n,r){t.setValue(n,r)}(t[Xe],s,r)}function X_(t,n){const r=Wt(n,t),s=r[Ce];!function Y_(t,n){for(let r=n.length;r<t.blueprint.length;r++)n.push(t.blueprint[r])}(s,r);const o=r[ot];null!==o&&null===r[wn]&&(r[wn]=Wd(o,r[dn])),Ip(s,r,r[xt])}function Ip(t,n,r){yd(n);try{const s=t.viewQuery;null!==s&&Cp(1,s,r);const o=t.template;null!==o&&Tm(t,n,o,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),n[Rs]?.finishViewCreation(t),t.staticContentQueries&&Bm(t,n),t.staticViewQueries&&Cp(2,t.viewQuery,r);const i=t.components;null!==i&&function e4(t,n){for(let r=0;r<n.length;r++)X_(t,n[r])}(n,i)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),s}finally{n[qe]&=-5,bd()}}function Qa(t,n,r,s){const o=G(null);try{const i=n.tView,v=ml(t,i,r,4096&t[qe]?4096:16,null,n,null,null,s?.injector??null,s?.embeddedViewInjector??null,s?.dehydratedView??null);v[An]=t[n.index];const D=t[Rs];return null!==D&&(v[Rs]=D.createEmbeddedView(i)),Ip(i,v,r),v}finally{G(o)}}function Ia(t,n){return!n||null===n.firstChild||Pc(t)}function Za(t,n,r,s=!0){const o=n[Ce];if(function y_(t,n,r,s){const o=fn+s,i=r.length;s>0&&(r[o-1][Bn]=n),s<i-fn?(n[Bn]=r[o],Ao(r,fn+s,n)):(r.push(n),n[Bn]=null),n[Xt]=r;const d=n[An];null!==d&&r!==d&&mm(d,n);const h=n[Rs];null!==h&&h.insertView(t),pd(n),n[qe]|=128}(o,n,t,r),s){const d=mp(r,t),h=n[Xe],v=fp(h,t[Xr]);null!==v&&function F_(t,n,r,s,o,i){s[ot]=o,s[en]=n,hl(t,s,r,1,o,i)}(o,t[en],h,n,v,d)}const i=n[wn];null!==i&&null!==i.firstChild&&(i.firstChild=null)}function Wc(t,n,r,s,o=!1){for(;null!==r;){if(128===r.type){r=o?r.projectionNext:r.next;continue}const i=n[r.index];null!==i&&s.push(Ue(i)),or(i)&&zm(i,s);const d=r.type;if(8&d)Wc(t,n,r.child,s);else if(32&d){const h=ap(r,n);let v;for(;v=h();)s.push(v)}else if(16&d){const h=wm(n,r);if(Array.isArray(h))s.push(...h);else{const v=Ri(n[pn]);Wc(v[Ce],v,h,s,!0)}}r=o?r.projectionNext:r.next}return s}function zm(t,n){for(let r=fn;r<t.length;r++){const s=t[r],o=s[Ce].firstChild;null!==o&&Wc(s[Ce],s,o,n)}t[Xr]!==t[ot]&&n.push(t[Xr])}let Gm=[];const s4={...le,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Tu(t.lView)},consumerOnSignalRead(){this.lView[Vn]=this}},i4={...le,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let n=Ri(t.lView);for(;n&&!Wm(n[Ce]);)n=Ri(n);n&&ma(n)},consumerOnSignalRead(){this.lView[Vn]=this}};function Wm(t){return 2!==t.type}const a4=100;function Fl(t,n=!0,r=0){const s=t[gr],o=s.rendererFactory;o.begin?.();try{!function c4(t,n){const r=wh();try{kh(!0),Ap(t,n);let s=0;for(;Su(t);){if(s===a4)throw new Re(103,!1);s++,Ap(t,1)}}finally{kh(r)}}(t,r)}catch(d){throw n&&El(t,d),d}finally{o.end?.(),s.inlineEffectRunner?.flush()}}function u4(t,n,r,s){const o=n[qe];if(!(256&~o))return;n[gr].inlineEffectRunner?.flush(),yd(n);let h=!0,v=null,k=null;Wm(t)?(k=function t4(t){return t[Vn]??function n4(t){const n=Gm.pop()??Object.create(s4);return n.lView=t,n}(t)}(n),v=Q(k)):null===function re(){return e}()?(h=!1,k=function o4(t){const n=t[Vn]??Object.create(i4);return n.lView=t,n}(n),v=Q(k)):n[Vn]&&(Ie(n[Vn]),n[Vn]=null);try{ms(n),Ch(t.bindingStartIndex),null!==r&&Tm(t,n,r,2,s);const D=!(3&~o);if(D){const z=t.preOrderCheckHooks;null!==z&&Nu(n,z,null)}else{const z=t.preOrderHooks;null!==z&&Lu(n,z,0,null),_d(n,0)}if(function l4(t){for(let n=b0(t);null!==n;n=_0(n)){if(!(n[qe]&Lo.HasTransplantedViews))continue;const r=n[No];for(let s=0;s<r.length;s++)ma(r[s])}}(n),Jm(n,0),null!==t.contentQueries&&Bm(t,n),D){const z=t.contentCheckHooks;null!==z&&Nu(n,z)}else{const z=t.contentHooks;null!==z&&Lu(n,z,1),_d(n,1)}!function M_(t,n){const r=t.hostBindingOpCodes;if(null!==r)try{for(let s=0;s<r.length;s++){const o=r[s];if(o<0)Ea(~o);else{const i=o,d=r[++s],h=r[++s];iy(d,i),h(2,n[i])}}}finally{Ea(-1)}}(t,n);const T=t.components;null!==T&&Zm(n,T,0);const L=t.viewQuery;if(null!==L&&Cp(2,L,s),D){const z=t.viewCheckHooks;null!==z&&Nu(n,z)}else{const z=t.viewHooks;null!==z&&Lu(n,z,2),_d(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Po]){for(const z of n[Po])z();n[Po]=null}n[qe]&=-73}catch(D){throw Tu(n),D}finally{null!==k&&(me(k,v),h&&function r4(t){t.lView[Vn]!==t&&(t.lView=null,Gm.push(t))}(k)),bd()}}function Jm(t,n){for(let r=b0(t);null!==r;r=_0(r))for(let s=fn;s<r.length;s++)Qm(r[s],n)}function d4(t,n,r){Qm(Wt(n,t),r)}function Qm(t,n){Dc(t)&&Ap(t,n)}function Ap(t,n){const s=t[Ce],o=t[qe],i=t[Vn];let d=!!(0===n&&16&o);if(d||=!!(64&o&&0===n),d||=!!(1024&o),d||=!(!i?.dirty||!Me(i)),d||=!1,i&&(i.dirty=!1),t[qe]&=-9217,d)u4(s,t,s.template,t[xt]);else if(8192&o){Jm(t,1);const h=s.components;null!==h&&Zm(t,h,1)}}function Zm(t,n,r){for(let s=0;s<n.length;s++)d4(t,n[s],r)}function Kc(t,n){const r=wh()?64:1088;for(t[gr].changeDetectionScheduler?.notify(n);t;){t[qe]|=r;const s=Ri(t);if(Uo(t)&&!s)return t;t=s}return null}class Jc{get rootNodes(){const n=this._lView,r=n[Ce];return Wc(r,n,r.firstChild,[])}constructor(n,r,s=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xt]}set context(n){this._lView[xt]=n}get destroyed(){return!(256&~this._lView[qe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Xt];if(or(n)){const r=n[8],s=r?r.indexOf(this):-1;s>-1&&(Hc(n,s),xo(r,s))}this._attachedToViewContainer=!1}pl(this._lView[Ce],this._lView)}onDestroy(n){ju(this._lView,n)}markForCheck(){Kc(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[qe]&=-129}reattach(){pd(this._lView),this._lView[qe]|=128}detectChanges(){this._lView[qe]|=1024,Fl(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=Uo(this._lView),r=this._lView[An];null!==r&&!n&&lp(r,this._lView),hm(this._lView[Ce],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Re(902,!1);this._appRef=n;const r=Uo(this._lView),s=this._lView[An];null!==s&&!r&&mm(s,this._lView),pd(this._lView)}}let Qc=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=h4}return t})();const p4=Qc,f4=class extends p4{constructor(n,r,s){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,s){const o=Qa(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:s});return new Jc(o)}};function h4(){return vl(En(),ye())}function vl(t,n){return 4&t.type?new f4(n,t,Va(t,n)):null}let Fg=()=>null;function Aa(t,n){return Fg(t,n)}class Ya{}const su=new lt("",{providedIn:"root",factory:()=>!1}),vg=new lt(""),Bp=new lt("");class iw{}class yg{}class cw{resolveComponentFactory(n){throw function aw(t){const n=Error(`No component factory found for ${zt(t)}.`);return n.ngComponent=t,n}(n)}}class Cl{static#e=this.NULL=new cw}class Vp{}let uw=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function lw(){const t=ye(),r=Wt(En().index,t);return(qn(r)?r:t)[Xe]}()}return t})(),dw=(()=>{class t{static#e=this.\u0275prov=Ot({token:t,providedIn:"root",factory:()=>null})}return t})();function sa(t){return!!mt(t)}function Il(t,n,r){let s=r?t.styles:null,o=r?t.classes:null,i=0;if(null!==n)for(let d=0;d<n.length;d++){const h=n[d];"number"==typeof h?i=h:1==i?o=Hr(o,h):2==i&&(s=Hr(s,h+": "+n[++d]+";"))}r?t.styles=s:t.stylesWithoutHost=s,r?t.classes=o:t.classesWithoutHost=o}class kg extends Cl{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=Ft(n);return new au(r,this.ngModule)}}function Cg(t,n){const r=[];for(const s in t){if(!t.hasOwnProperty(s))continue;const o=t[s];if(void 0===o)continue;const i=Array.isArray(o),d=i?o[0]:o;r.push(n?{propName:d,templateName:s,isSignal:!!((i?o[1]:In.None)&In.SignalBased)}:{propName:d,templateName:s})}return r}class au extends yg{get inputs(){const n=this.componentDef,r=n.inputTransforms,s=Cg(n.inputs,!0);if(null!==r)for(const o of s)r.hasOwnProperty(o.propName)&&(o.transform=r[o.propName]);return s}get outputs(){return Cg(this.componentDef.outputs,!1)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function la(t){return t.map(ua).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,s,o){const i=G(null);try{let d=(o=o||this.ngModule)instanceof hn?o:o?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const h=d?new Fa(n,d):n,v=h.get(Vp,null);if(null===v)throw new Re(407,!1);const T={rendererFactory:v,sanitizer:h.get(dw,null),inlineEffectRunner:null,changeDetectionScheduler:h.get(Ya,null)},L=v.createRenderer(null,this.componentDef),z=this.componentDef.selectors[0][0]||"div",Z=s?function x_(t,n,r,s){const i=s.get(B0,!1)||r===hr.ShadowDom,d=t.selectRootElement(n,i);return function S_(t){Om(t)}(d),d}(L,s,this.componentDef.encapsulation,h):dl(L,z,function hw(t){const n=t.toLowerCase();return"svg"===n?Cc:"math"===n?"math":null}(z));let we=512;this.componentDef.signals?we|=4096:this.componentDef.onPush||(we|=16);let Pe=null;null!==Z&&(Pe=Wd(Z,h,!0));const Be=bp(0,null,null,1,0,null,null,null,null,null,null),_e=ml(null,Be,null,we,null,null,T,L,h,null,Pe);yd(_e);let bt,Yt,yn=null;try{const tr=this.componentDef;let qs,wc=null;tr.findHostDirectiveDefs?(qs=[],wc=new Map,tr.findHostDirectiveDefs(tr,qs,wc),qs.push(tr)):qs=[tr];const Qv=function gw(t,n){const r=t[Ce],s=et;return t[s]=n,Da(r,s,2,"#host",null)}(_e,Z);yn=function Ew(t,n,r,s,o,i,d){const h=o[Ce];!function Fw(t,n,r,s){for(const o of t)n.mergedAttrs=Js(n.mergedAttrs,o.hostAttrs);null!==n.mergedAttrs&&(Il(n,n.mergedAttrs,!0),null!==r&&Im(s,r,n))}(s,t,n,d);let v=null;null!==n&&(v=Wd(n,o[dn]));const k=i.rendererFactory.createRenderer(n,r);let D=16;r.signals?D=4096:r.onPush&&(D=64);const T=ml(o,jm(r),null,D,o[t.index],t,i,k,null,null,v);return h.firstCreatePass&&wp(h,t,s.length-1),gl(o,T),o[t.index]=T}(Qv,Z,tr,qs,_e,T,L),Yt=Er(Be,et),Z&&function yw(t,n,r,s){if(s)Wr(t,r,["ng-version","18.2.8"]);else{const{attrs:o,classes:i}=function da(t){const n=[],r=[];let s=1,o=2;for(;s<t.length;){let i=t[s];if("string"==typeof i)2===o?""!==i&&n.push(i,t[++s]):8===o&&r.push(i);else{if(!Hn(o))break;o=i}s++}return{attrs:n,classes:r}}(n.selectors[0]);o&&Wr(t,r,o),i&&i.length>0&&Dm(t,r,i.join(" "))}}(L,tr,Z,s),void 0!==r&&function bw(t,n,r){const s=t.projection=[];for(let o=0;o<n.length;o++){const i=r[o];s.push(null!=i?Array.from(i):null)}}(Yt,this.ngContentSelectors,r),bt=function vw(t,n,r,s,o,i){const d=En(),h=o[Ce],v=sn(d,o);Nm(h,o,d,r,null,s);for(let D=0;D<r.length;D++)ts(va(o,h,d.directiveStart+D,d),o);Lm(h,o,d),v&&ts(v,o);const k=va(o,h,d.directiveStart+d.componentOffset,d);if(t[xt]=o[xt]=k,null!==i)for(const D of i)D(k,n);return Fp(h,d,o),k}(yn,tr,qs,wc,_e,[_w]),Ip(Be,_e,null)}catch(tr){throw null!==yn&&Ld(yn),Ld(_e),tr}finally{bd()}return new mw(this.componentType,bt,Va(Yt,_e),_e,Yt)}finally{G(i)}}}class mw extends iw{constructor(n,r,s,o,i){super(),this.location=s,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Jc(o,void 0,!1),this.componentType=n}setInput(n,r){const s=this._tNode.inputs;let o;if(null!==s&&(o=s[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const i=this._rootLView;Dp(i[Ce],i,o,n,r),this.previousInputValues.set(n,r),Kc(Wt(this._tNode.index,i),1)}}get injector(){return new Fr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function _w(){const t=En();Ru(ye()[Ce],t)}let Ml=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=ww}return t})();function ww(){return Mg(En(),ye())}const kw=Ml,Dg=class extends kw{constructor(n,r,s){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=s}get element(){return Va(this._hostTNode,this._hostLView)}get injector(){return new Fr(this._hostTNode,this._hostLView)}get parentInjector(){const n=Vu(this._hostTNode,this._hostLView);if(Cd(n)){const r=Sc(n,this._hostLView),s=xc(n);return new Fr(r[Ce].data[s+8],r)}return new Fr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=Ig(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-fn}createEmbeddedView(n,r,s){let o,i;"number"==typeof s?o=s:null!=s&&(o=s.index,i=s.injector);const d=Aa(this._lContainer,n.ssrId),h=n.createEmbeddedViewImpl(r||{},i,d);return this.insertImpl(h,o,Ia(this._hostTNode,d)),h}createComponent(n,r,s,o,i){const d=n&&!function N(t){return"function"==typeof t}(n);let h;if(d)h=r;else{const Z=r||{};h=Z.index,s=Z.injector,o=Z.projectableNodes,i=Z.environmentInjector||Z.ngModuleRef}const v=d?n:new au(Ft(n)),k=s||this.parentInjector;if(!i&&null==v.ngModule){const we=(d?k:this.parentInjector).get(hn,null);we&&(i=we)}const D=Ft(v.componentType??{}),T=Aa(this._lContainer,D?.id??null),z=v.create(k,o,T?.firstChild??null,i);return this.insertImpl(z.hostView,h,Ia(this._hostTNode,T)),z}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,s){const o=n._lView;if(function Sr(t){return or(t[Xt])}(o)){const h=this.indexOf(n);if(-1!==h)this.detach(h);else{const v=o[Xt],k=new Dg(v,v[en],v[Xt]);k.detach(k.indexOf(n))}}const i=this._adjustIndex(r),d=this._lContainer;return Za(d,o,i,s),n.attachToViewContainerRef(),Ao(Hp(d),i,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=Ig(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),s=Hc(this._lContainer,r);s&&(xo(Hp(this._lContainer),r),pl(s[Ce],s))}detach(n){const r=this._adjustIndex(n,-1),s=Hc(this._lContainer,r);return s&&null!=xo(Hp(this._lContainer),r)?new Jc(s):null}_adjustIndex(n,r=0){return n??this.length+r}};function Ig(t){return t[8]}function Hp(t){return t[8]||(t[8]=[])}function Mg(t,n){let r;const s=n[t.index];return or(s)?r=s:(r=Um(s,n,null,t),n[t.index]=r,gl(n,r)),Ag(r,n,t,s),new Dg(r,t,n)}let Ag=function Sg(t,n,r,s){if(t[Xr])return;let o;o=8&r.type?Ue(s):function Cw(t,n){const r=t[Xe],s=r.createComment(""),o=sn(n,t);return ka(r,fp(r,o),s,function w_(t,n){return t.nextSibling(n)}(r,o),!1),s}(n,r),t[Xr]=o},zp=()=>!1;class Gp{constructor(n){this.queryList=n,this.matches=null}clone(){return new Gp(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wp{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const s=null!==n.contentQueries?n.contentQueries[0]:r.length,o=[];for(let i=0;i<s;i++){const d=r.getByIndex(i);o.push(this.queries[d.indexInDeclarationView].clone())}return new Wp(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==Xp(n,r).matches&&this.queries[r].setDirty()}}class Tg{constructor(n,r,s=null){this.flags=r,this.read=s,this.predicate="string"==typeof n?function jw(t){return t.split(",").map(n=>n.trim())}(n):n}}class Kp{constructor(n=[]){this.queries=n}elementStart(n,r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let s=0;s<this.length;s++){const o=null!==r?r.length:0,i=this.getByIndex(s).embeddedTView(n,o);i&&(i.indexInDeclarationView=s,null!==r?r.push(i):r=[i])}return null!==r?new Kp(r):null}template(n,r){for(let s=0;s<this.queries.length;s++)this.queries[s].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Jp{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new Jp(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let s=n.parent;for(;null!==s&&8&s.type&&s.index!==r;)s=s.parent;return r===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const s=this.metadata.predicate;if(Array.isArray(s))for(let o=0;o<s.length;o++){const i=s[o];this.matchTNodeWithReadOption(n,r,Aw(r,i)),this.matchTNodeWithReadOption(n,r,qu(r,n,i,!1,!1))}else s===Qc?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,qu(r,n,s,!1,!1))}matchTNodeWithReadOption(n,r,s){if(null!==s){const o=this.metadata.read;if(null!==o)if(o===jc||o===Ml||o===Qc&&4&r.type)this.addMatch(r.index,-2);else{const i=qu(r,n,o,!1,!1);null!==i&&this.addMatch(r.index,i)}else this.addMatch(r.index,s)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function Aw(t,n){const r=t.localNames;if(null!==r)for(let s=0;s<r.length;s+=2)if(r[s]===n)return r[s+1];return null}function Sw(t,n,r,s){return-1===r?function xw(t,n){return 11&t.type?Va(t,n):4&t.type?vl(t,n):null}(n,t):-2===r?function Tw(t,n,r){return r===jc?Va(n,t):r===Qc?vl(n,t):r===Ml?Mg(n,t):void 0}(t,n,s):va(t,t[Ce],r,n)}function jg(t,n,r,s){const o=n[Rs].queries[s];if(null===o.matches){const i=t.data,d=r.matches,h=[];for(let v=0;null!==d&&v<d.length;v+=2){const k=d[v];h.push(k<0?null:Sw(n,i[k],d[v+1],r.metadata.read))}o.matches=h}return o.matches}function Qp(t,n,r,s){const o=t.queries.getByIndex(r),i=o.matches;if(null!==i){const d=jg(t,n,o,r);for(let h=0;h<i.length;h+=2){const v=i[h];if(v>0)s.push(d[h/2]);else{const k=i[h+1],D=n[-v];for(let T=fn;T<D.length;T++){const L=D[T];L[An]===L[Xt]&&Qp(L[Ce],L,k,s)}if(null!==D[No]){const T=D[No];for(let L=0;L<T.length;L++){const z=T[L];Qp(z[Ce],z,k,s)}}}}}return s}function Og(t,n,r){const s=new Wu(!(4&~r));return function O_(t,n,r,s){const o=Vm(n);o.push(r),t.firstCreatePass&&qm(t).push(s,o.length-1)}(t,n,s,s.destroy),(n[Rs]??=new Wp).queries.push(new Gp(s))-1}function Ng(t,n,r){null===t.queries&&(t.queries=new Kp),t.queries.track(new Jp(n,r))}function Xp(t,n){return t.queries.getByIndex(n)}function Lg(t,n){const r=t[Ce],s=Xp(r,n);return s.crossesNgTemplate?Qp(r,t,n,[]):jg(r,t,s,n)}const Ug=new Set;function Es(t){Ug.has(t)||(Ug.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Yp(t){return"function"==typeof t&&void 0!==t[R]}function tf(t){let n=function Xg(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),r=!0;const s=[t];for(;n;){let o;if(Br(t))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Re(903,!1);o=n.\u0275dir}if(o){if(r){s.push(o);const d=t;d.inputs=xl(t.inputs),d.inputTransforms=xl(t.inputTransforms),d.declaredInputs=xl(t.declaredInputs),d.outputs=xl(t.outputs);const h=o.hostBindings;h&&Jw(t,h);const v=o.viewQuery,k=o.contentQueries;if(v&&Ww(t,v),k&&Kw(t,k),zw(t,o),ns(t.outputs,o.outputs),Br(o)&&o.data.animation){const D=t.data;D.animation=(D.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let d=0;d<i.length;d++){const h=i[d];h&&h.ngInherit&&h(t),h===tf&&(r=!1)}}n=Object.getPrototypeOf(n)}!function Gw(t){let n=0,r=null;for(let s=t.length-1;s>=0;s--){const o=t[s];o.hostVars=n+=o.hostVars,o.hostAttrs=Js(o.hostAttrs,r=Js(r,o.hostAttrs))}}(s)}function zw(t,n){for(const r in n.inputs){if(!n.inputs.hasOwnProperty(r)||t.inputs.hasOwnProperty(r))continue;const s=n.inputs[r];if(void 0!==s&&(t.inputs[r]=s,t.declaredInputs[r]=n.declaredInputs[r],null!==n.inputTransforms)){const o=Array.isArray(s)?s[0]:s;if(!n.inputTransforms.hasOwnProperty(o))continue;t.inputTransforms??={},t.inputTransforms[o]=n.inputTransforms[o]}}}function xl(t){return t===fr?{}:t===Lt?[]:t}function Ww(t,n){const r=t.viewQuery;t.viewQuery=r?(s,o)=>{n(s,o),r(s,o)}:n}function Kw(t,n){const r=t.contentQueries;t.contentQueries=r?(s,o,i)=>{n(s,o,i),r(s,o,i)}:n}function Jw(t,n){const r=t.hostBindings;t.hostBindings=r?(s,o)=>{n(s,o),r(s,o)}:n}function nE(t){const n=t.inputConfig,r={};for(const s in n)if(n.hasOwnProperty(s)){const o=n[s];Array.isArray(o)&&o[3]&&(r[s]=o[3])}t.inputTransforms=r}class xa{}class rE{}function tk(t,n){return new nf(t,n??null,[])}class nf extends xa{constructor(n,r,s,o=!0){super(),this.ngModuleType=n,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kg(this);const i=mt(n);this._bootstrapComponents=no(i.bootstrap),this._r3Injector=t0(n,r,[{provide:xa,useValue:this},{provide:Cl,useValue:this.componentFactoryResolver},...s],zt(n),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class rf extends rE{constructor(n){super(),this.moduleType=n}create(n){return new nf(this.moduleType,n,[])}}class sE extends xa{constructor(n){super(),this.componentFactoryResolver=new kg(this),this.instance=null;const r=new fs([...n.providers,{provide:xa,useValue:this},{provide:Cl,useValue:this.componentFactoryResolver}],n.parent||oi(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function sf(t,n,r=null){return new sE({providers:t,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}function Sl(t){return!!af(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function af(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function hi(t,n,r){return t[n]=r}function Xn(t,n,r){return!Object.is(t[n],r)&&(t[n]=r,!0)}function Sa(t,n,r,s){const o=Xn(t,n,r);return Xn(t,n+1,s)||o}function lu(t,n,r,s,o,i,d,h,v,k){const D=r+et,T=n.firstCreatePass?function ak(t,n,r,s,o,i,d,h,v){const k=n.consts,D=Da(n,t,4,d||null,h||null);_p(n,r,D,ir(k,v)),Ru(n,D);const T=D.tView=bp(2,D,s,o,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,k,null);return null!==n.queries&&(n.queries.template(n,D),T.queries=n.queries.embeddedTView(D)),D}(D,n,t,s,o,i,d,h,v):n.data[D];Vo(T,!1);const L=oE(n,t,T,r);Mc()&&fl(n,t,L,T),ts(L,t);const z=Um(L,t,L,T);return t[D]=z,gl(t,z),function xg(t,n,r){return zp(t,n,r)}(z,T,t),Oi(T)&&vp(n,t,T),null!=v&&yp(t,T,k),T}function cf(t,n,r,s,o,i,d,h){const v=ye(),k=Rt();return lu(v,k,t,n,r,s,o,ir(k.consts,i),d,h),cf}let oE=function iE(t,n,r,s){return li(!0),n[Xe].createComment("")};var rc=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(rc||{});let pE=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static#e=this.\u0275prov=Ot({token:t,providedIn:"root",factory:()=>new t})}return t})();class fu{constructor(){this.ngZone=Ze($n),this.scheduler=Ze(Ya),this.errorHandler=Ze(Ui,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static#e=this.PHASES=[rc.EarlyRead,rc.Write,rc.MixedReadWrite,rc.Read];execute(){this.executing=!0;for(const n of fu.PHASES)for(const r of this.sequences)if(!r.erroredOrDestroyed&&r.hooks[n])try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>r.hooks[n](r.pipelinedValue))}catch(s){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(const n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(const n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static#t=this.\u0275prov=Ot({token:fu,providedIn:"root",factory:()=>new fu})}class dk{constructor(n,r,s,o){this.impl=n,this.hooks=r,this.once=s,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function Rl(t,n){!n?.injector&&Ps();const r=n?.injector??Ze(es);return function ro(t){return"browser"===(t??Ze(es)).get(Zu)}(r)?(Es("NgAfterNextRender"),function fE(t,n,r,s){const o=n.get(pE);o.impl??=n.get(fu);const i=r?.phase??rc.MixedReadWrite,d=!0!==r?.manualCleanup?n.get(Tc):null,h=new dk(o.impl,function fk(t,n){if(t instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[n]=t,r}return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}(t,i),s,d);return o.impl.register(h),h}(t,r,n,!0)):hE}const hE={destroy(){}};function vf(t,n,r,s){const o=ye();return Xn(o,qo(),n)&&(Rt(),fi(Sn(),o,t,n,r,s)),vf}function lc(t,n,r,s){return Xn(t,qo(),r)?n+st(r)+s:Mt}function dc(t,n,r,s,o,i){const h=Sa(t,Ni(),r,o);return Li(2),h?n+st(r)+s+st(o)+i:Mt}function fc(t,n,r,s,o,i,d,h,v,k){const T=function ko(t,n,r,s,o,i){const d=Sa(t,n,r,s);return Sa(t,n+2,o,i)||d}(t,Ni(),r,o,d,v);return Li(4),T?n+st(r)+s+st(o)+i+st(d)+h+st(v)+k:Mt}function Ul(t,n){return t<<17|n<<2}function aa(t){return t>>17&32767}function yf(t){return 2|t}function ja(t){return(131068&t)>>2}function bf(t,n){return-131069&t|n<<2}function _f(t){return 1|t}function BE(t,n,r,s){const o=t[r+1],i=null===n;let d=s?aa(o):ja(o),h=!1;for(;0!==d&&(!1===h||i);){const k=t[d+1];Jk(t[d],n)&&(h=!0,t[d+1]=s?_f(k):yf(k)),d=s?aa(k):ja(k)}h&&(t[r+1]=s?yf(o):_f(o))}function Jk(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&xs(t,n)>=0}const vr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function VE(t){return t.substring(vr.key,vr.keyEnd)}function qE(t,n){const r=vr.textEnd;return r===n?-1:(n=vr.keyEnd=function Yk(t,n,r){for(;n<r&&t.charCodeAt(n)>32;)n++;return n}(t,vr.key=n,r),Fc(t,n,r))}function Fc(t,n,r){for(;n<r&&t.charCodeAt(n)<=32;)n++;return n}function wf(t,n,r){const s=ye();return Xn(s,qo(),n)&&Bs(Rt(),Sn(),s,t,n,s[Xe],r,!1),wf}function kf(t,n,r,s,o){const d=o?"class":"style";Dp(t,r,n.inputs[d],d,s)}function Cf(t,n){return function $o(t,n,r,s){const o=ye(),i=Rt(),d=Li(2);i.firstUpdatePass&&QE(i,t,d,s),n!==Mt&&Xn(o,d,n)&&XE(i,i.data[Vr()],o,o[Xe],t,o[d+1]=function lC(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=zt(Bi(t)))),t}(n,r),s,d)}(t,n,null,!0),Cf}function KE(t){!function Ho(t,n,r,s){const o=Rt(),i=Li(2);o.firstUpdatePass&&QE(o,null,i,s);const d=ye();if(r!==Mt&&Xn(d,i,r)){const h=o.data[Vr()];if(eF(h,s)&&!JE(o,i)){let v=s?h.classesWithoutHost:h.stylesWithoutHost;null!==v&&(r=Hr(v,r||"")),kf(o,h,d,r,s)}else!function uC(t,n,r,s,o,i,d,h){o===Mt&&(o=Lt);let v=0,k=0,D=0<o.length?o[0]:null,T=0<i.length?i[0]:null;for(;null!==D||null!==T;){const L=v<o.length?o[v+1]:void 0,z=k<i.length?i[k+1]:void 0;let we,Z=null;D===T?(v+=2,k+=2,L!==z&&(Z=T,we=z)):null===T||null!==D&&D<T?(v+=2,Z=D):(k+=2,Z=T,we=z),null!==Z&&XE(t,n,r,s,Z,we,d,h),D=v<o.length?o[v]:null,T=k<i.length?i[k]:null}}(o,h,d,d[Xe],d[i+1],d[i+1]=function aC(t,n,r){if(null==r||""===r)return Lt;const s=[],o=Bi(r);if(Array.isArray(o))for(let i=0;i<o.length;i++)t(s,o[i],!0);else if("object"==typeof o)for(const i in o)o.hasOwnProperty(i)&&t(s,i,o[i]);else"string"==typeof o&&n(s,o);return s}(t,n,r),s,i)}}(cC,gi,t,!0)}function gi(t,n){for(let r=function Zk(t){return function HE(t){vr.key=0,vr.keyEnd=0,vr.value=0,vr.valueEnd=0,vr.textEnd=t.length}(t),qE(t,Fc(t,0,vr.textEnd))}(n);r>=0;r=qE(n,r))Nn(t,VE(n),!0)}function JE(t,n){return n>=t.expandoStartIndex}function QE(t,n,r,s){const o=t.data;if(null===o[r+1]){const i=o[Vr()],d=JE(t,r);eF(i,s)&&null===n&&!d&&(n=!1),n=function rC(t,n,r,s){const o=function Fd(t){const n=yt.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let i=s?n.residualClasses:n.residualStyles;if(null===o)0===(s?n.classBindings:n.styleBindings)&&(r=mu(r=Df(null,t,n,r,s),n.attrs,s),i=null);else{const d=n.directiveStylingLast;if(-1===d||t[d]!==o)if(r=Df(o,t,n,r,s),null===i){let v=function sC(t,n,r){const s=r?n.classBindings:n.styleBindings;if(0!==ja(s))return t[aa(s)]}(t,n,s);void 0!==v&&Array.isArray(v)&&(v=Df(null,t,n,v[1],s),v=mu(v,n.attrs,s),function oC(t,n,r,s){t[aa(r?n.classBindings:n.styleBindings)]=s}(t,n,s,v))}else i=function iC(t,n,r){let s;const o=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<o;i++)s=mu(s,t[i].hostAttrs,r);return mu(s,n.attrs,r)}(t,n,s)}return void 0!==i&&(s?n.residualClasses=i:n.residualStyles=i),r}(o,i,n,s),function Wk(t,n,r,s,o,i){let d=i?n.classBindings:n.styleBindings,h=aa(d),v=ja(d);t[s]=r;let D,k=!1;if(Array.isArray(r)?(D=r[1],(null===D||xs(r,D)>0)&&(k=!0)):D=r,o)if(0!==v){const L=aa(t[h+1]);t[s+1]=Ul(L,h),0!==L&&(t[L+1]=bf(t[L+1],s)),t[h+1]=function zk(t,n){return 131071&t|n<<17}(t[h+1],s)}else t[s+1]=Ul(h,0),0!==h&&(t[h+1]=bf(t[h+1],s)),h=s;else t[s+1]=Ul(v,0),0===h?h=s:t[v+1]=bf(t[v+1],s),v=s;k&&(t[s+1]=yf(t[s+1])),BE(t,D,s,!0),BE(t,D,s,!1),function Kk(t,n,r,s,o){const i=o?t.residualClasses:t.residualStyles;null!=i&&"string"==typeof n&&xs(i,n)>=0&&(r[s+1]=_f(r[s+1]))}(n,D,t,s,i),d=Ul(h,v),i?n.classBindings=d:n.styleBindings=d}(o,i,n,r,d,s)}}function Df(t,n,r,s,o){let i=null;const d=r.directiveEnd;let h=r.directiveStylingLast;for(-1===h?h=r.directiveStart:h++;h<d&&(i=n[h],s=mu(s,i.hostAttrs,o),i!==t);)h++;return null!==t&&(r.directiveStylingLast=h),s}function mu(t,n,r){const s=r?1:2;let o=-1;if(null!==n)for(let i=0;i<n.length;i++){const d=n[i];"number"==typeof d?o=d:o===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Nn(t,d,!!r||n[++i]))}return void 0===t?null:t}function cC(t,n,r){const s=String(n);""!==s&&!s.includes(" ")&&Nn(t,s,r)}function XE(t,n,r,s,o,i,d,h){if(!(3&n.type))return;const v=t.data,k=v[h+1],D=function Gk(t){return!(1&~t)}(k)?YE(v,n,r,o,ja(k),d):void 0;Bl(D)||(Bl(i)||function Hk(t){return!(2&~t)}(k)&&(i=YE(v,null,r,o,h,d)),function D_(t,n,r,s,o){if(n)o?t.addClass(r,s):t.removeClass(r,s);else{let i=-1===s.indexOf("-")?void 0:ll.DashCase;null==o?t.removeStyle(r,s,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=ll.Important),t.setStyle(r,s,o,i))}}(s,d,Bt(Vr(),r),o,i))}function YE(t,n,r,s,o,i){const d=null===n;let h;for(;o>0;){const v=t[o],k=Array.isArray(v),D=k?v[1]:v,T=null===D;let L=r[o+1];L===Mt&&(L=T?Lt:void 0);let z=T?As(L,s):D===s?L:void 0;if(k&&!Bl(z)&&(z=As(v,s)),Bl(z)&&(h=z,d))return h;const Z=t[o+1];o=d?aa(Z):ja(Z)}if(null!==n){let v=i?n.residualClasses:n.residualStyles;null!=v&&(h=As(v,s))}return h}function Bl(t){return void 0!==t}function eF(t,n){return!!(t.flags&(n?8:16))}function ql(t,n,r,s){const o=ye(),i=Rt(),d=et+t,h=o[Xe],v=i.firstCreatePass?function jC(t,n,r,s,o,i){const d=n.consts,v=Da(n,t,2,s,ir(d,o));return _p(n,r,v,ir(d,i)),null!==v.attrs&&Il(v,v.attrs,!1),null!==v.mergedAttrs&&Il(v,v.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,v),v}(d,i,o,n,r,s):i.data[d],k=sF(i,o,v,h,n,t);o[d]=k;const D=Oi(v);return Vo(v,!0),Im(h,k,v),!function tc(t){return!(32&~t.flags)}(v)&&Mc()&&fl(i,o,k,v),0===function Zv(){return yt.lFrame.elementDepthCount}()&&ts(k,o),function Xv(){yt.lFrame.elementDepthCount++}(),D&&(vp(i,o,v),Fp(i,v,o)),null!==s&&yp(o,v),ql}function $l(){let t=En();md()?gd():(t=t.parent,Vo(t,!1));const n=t;(function ey(t){return yt.skipHydrationRootTNode===t})(n)&&function sy(){yt.skipHydrationRootTNode=null}(),function Yv(){yt.lFrame.elementDepthCount--}();const r=Rt();return r.firstCreatePass&&(Ru(r,t),ui(t)&&r.queries.elementEnd(t)),null!=n.classesWithoutHost&&function gy(t){return!!(8&t.flags)}(n)&&kf(r,n,ye(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Ey(t){return!!(16&t.flags)}(n)&&kf(r,n,ye(),n.stylesWithoutHost,!1),$l}function xf(t,n,r,s){return ql(t,n,r,s),$l(),xf}let sF=(t,n,r,s,o,i)=>(li(!0),dl(s,o,function Oh(){return yt.lFrame.currentNamespace}()));function aF(){return ye()}const Oa=void 0;var BC=["en",[["a","p"],["AM","PM"],Oa],[["AM","PM"],Oa,Oa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Oa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Oa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Oa,"{1} 'at' {0}",Oa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function UC(t){const r=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===s?1:5}];let vc={};function jf(t){const n=function VC(t){return t.toLowerCase().replace(/_/g,"-")}(t);let r=dF(n);if(r)return r;const s=n.split("-")[0];if(r=dF(s),r)return r;if("en"===s)return BC;throw new Re(701,!1)}function lF(t){return jf(t)[yc.PluralCase]}function dF(t){return t in vc||(vc[t]=qt.ng&&qt.ng.common&&qt.ng.common.locales&&qt.ng.common.locales[t]),vc[t]}var yc=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(yc||{});const Hl="en-US";let pF=Hl,xF=(t,n,r)=>{};function Rf(t,n,r,s){const o=ye(),i=Rt(),d=En();return function Nf(t,n,r,s,o,i,d){const h=Oi(s),k=t.firstCreatePass&&qm(t),D=n[xt],T=Vm(n);let L=!0;if(3&s.type||d){const we=sn(s,n),Pe=d?d(we):we,Be=T.length,_e=d?Yt=>d(Ue(Yt[s.index])):s.index;let bt=null;if(!d&&h&&(bt=function A2(t,n,r,s){const o=t.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const d=o[i];if(d===r&&o[i+1]===s){const h=n[Jn],v=o[i+2];return h.length>v?h[v]:null}"string"==typeof d&&(i+=2)}return null}(t,n,o,s.index)),null!==bt)(bt.__ngLastListenerFn__||bt).__ngNextListenerFn__=i,bt.__ngLastListenerFn__=i,L=!1;else{i=OF(s,n,D,i),xF(we,o,i);const Yt=r.listen(Pe,o,i);T.push(i,Yt),k&&k.push(o,_e,Be,Be+1)}}else i=OF(s,n,D,i);const z=s.outputs;let Z;if(L&&null!==z&&(Z=z[o])){const we=Z.length;if(we)for(let Pe=0;Pe<we;Pe+=2){const yn=n[Z[Pe]][Z[Pe+1]].subscribe(i),tr=T.length;T.push(i,yn),k&&k.push(o,s.index,tr,-(tr+1))}}}(i,o,o[Xe],d,t,n,s),Rf}function jF(t,n,r,s){const o=G(null);try{return to(6,n,r),!1!==r(s)}catch(i){return El(t,i),!1}finally{to(7,n,r),G(o)}}function OF(t,n,r,s){return function o(i){if(i===Function)return s;Kc(t.componentOffset>-1?Wt(t.index,n):n,5);let h=jF(n,r,s,i),v=o.__ngNextListenerFn__;for(;v;)h=jF(n,r,v,i)&&h,v=v.__ngNextListenerFn__;return h}}function PF(t=1){return function uy(t){return(yt.lFrame.contextLView=function Na(t,n){for(;t>0;)n=n[Qn],t--;return n}(t,yt.lFrame.contextLView))[xt]}(t)}function x2(t,n){let r=null;const s=function Ra(t){const n=t.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(t);for(let o=0;o<n.length;o++){const i=n[o];if("*"!==i){if(null===s?Ii(t,i,!0):Wi(s,i))return o}else r=o}return r}function RF(t){const n=ye()[pn][en];if(!n.projection){const s=n.projection=function cs(t,n){const r=[];for(let s=0;s<t;s++)r.push(n);return r}(t?t.length:1,null),o=s.slice();let i=n.child;for(;null!==i;){if(128!==i.type){const d=t?x2(i,t):0;null!==d&&(o[d]?o[d].projectionNext=i:s[d]=i,o[d]=i)}i=i.next}}}function NF(t,n=0,r,s,o,i){const d=ye(),h=Rt(),v=s?t+1:null;null!==v&&lu(d,h,v,s,o,i,null,r);const k=Da(h,et+t,16,null,r||null);null===k.projection&&(k.projection=n),gd();const T=!d[wn]||ga();null===d[pn][en].projection[k.projection]&&null!==v?function S2(t,n,r){const s=et+r,o=n.data[s],i=t[s],d=Aa(i,o.tView.ssrId);Za(i,Qa(t,o,void 0,{dehydratedView:d}),0,Ia(o,d))}(d,h,v):T&&32&~k.flags&&function k_(t,n,r){Cm(n[Xe],0,n,r,pp(t,r,n),vm(r.parent||n[en],r,n))}(h,d,k)}function Lf(t,n,r){return Uf(t,"",n,"",r),Lf}function Uf(t,n,r,s,o){const i=ye(),d=lc(i,n,r,s);return d!==Mt&&Bs(Rt(),Sn(),i,t,d,i[Xe],o,!1),Uf}function Bf(t,n,r,s,o,i,d){const h=ye(),v=dc(h,n,r,s,o,i);return v!==Mt&&Bs(Rt(),Sn(),h,t,v,h[Xe],d,!1),Bf}function zF(t,n,r,s){!function Rg(t,n,r,s){const o=Rt();if(o.firstCreatePass){const i=En();Ng(o,new Tg(n,r,s),i.index),function Ow(t,n){const r=t.contentQueries||(t.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(t.queries.length-1,n)}(o,t),!(2&~r)&&(o.staticContentQueries=!0)}return Og(o,ye(),r)}(t,n,r,s)}function GF(t,n,r){!function Pg(t,n,r){const s=Rt();return s.firstCreatePass&&(Ng(s,new Tg(t,n,r),-1),!(2&~n)&&(s.staticViewQueries=!0)),Og(s,ye(),n)}(t,n,r)}function WF(t){const n=ye(),r=Rt(),s=vd();Pu(s+1);const o=Xp(r,s);if(t.dirty&&function xu(t){return!(4&~t[qe])}(n)===!(2&~o.metadata.flags)){if(null===o.matches)t.reset([]);else{const i=Lg(n,s);t.reset(i,d0),t.notifyOnChanges()}return!0}return!1}function KF(){return function Zp(t,n){return t[Rs].queries[n].queryList}(ye(),vd())}function JF(t){return Yr(function bh(){return yt.lFrame.contextLView}(),et+t)}function o1(t,n=""){const r=ye(),s=Rt(),o=t+et,i=s.firstCreatePass?Da(s,o,1,n,null):s.data[o],d=a1(s,r,i,n,t);r[o]=d,Mc()&&fl(s,r,d,i),Vo(i,!1)}let a1=(t,n,r,s,o)=>(li(!0),function cp(t,n){return t.createText(n)}(n[Xe],s));function qf(t){return Kl("",t,""),qf}function Kl(t,n,r){const s=ye(),o=lc(s,t,n,r);return o!==Mt&&qi(s,Vr(),o),Kl}function $f(t,n,r,s,o){const i=ye(),d=dc(i,t,n,r,s,o);return d!==Mt&&qi(i,Vr(),d),$f}function Hf(t,n,r,s,o,i,d,h,v){const k=ye(),D=fc(k,t,n,r,s,o,i,d,h,v);return D!==Mt&&qi(k,Vr(),D),Hf}function zf(t){const n=ye(),r=function uc(t,n){let r=!1,s=Ni();for(let i=1;i<n.length;i+=2)r=Xn(t,s++,n[i])||r;if(Ch(s),!r)return Mt;let o=n[0];for(let i=1;i<n.length;i+=2)o+=st(n[i])+n[i+1];return o}(n,t);return r!==Mt&&qi(n,Vr(),r),zf}let eD=(()=>{class t{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const s=ti(0,r.type),o=s.length>0?sf([s],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ot({token:t,providedIn:"environment",factory:()=>new t(vn(hn))})}return t})();function F1(t){Es("NgStandalone"),t.getStandaloneInjector=n=>n.get(eD).getOrCreateStandaloneInjector(t)}function b1(t,n,r){const s=gs()+t,o=ye();return o[s]===Mt?hi(o,s,r?n.call(r):n()):function uu(t,n){return t[n]}(o,s)}function w1(t,n,r,s,o,i,d){const h=n+r;return Sa(t,h,o,i)?hi(t,h+2,d?s.call(d,o,i):s(o,i)):function bu(t,n){const r=t[n];return r===Mt?void 0:r}(t,h+2)}function I1(t,n){const r=Rt();let s;const o=t+et;r.firstCreatePass?(s=function fD(t,n){if(n)for(let r=n.length-1;r>=0;r--){const s=n[r];if(t===s.name)return s}}(n,r.pipeRegistry),r.data[o]=s,s.onDestroy&&(r.destroyHooks??=[]).push(o,s.onDestroy)):s=r.data[o];const i=s.factory||(s.factory=Mr(s.type)),h=Cn(Ja);try{const v=Uu(!1),k=i();return Uu(v),function Vf(t,n,r,s){r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),n[r]=s}(r,ye(),o,k),k}finally{Cn(h)}}function M1(t,n,r,s){const o=t+et,i=ye(),d=Yr(i,o);return function _u(t,n){return t[Ce].data[n].pure}(i,o)?w1(i,gs(),n,d.transform,r,s,d):d.transform(r,s)}function A1(t,n){return vl(t,n)}class z1{constructor(n){this.full=n;const r=n.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}let G1=(()=>{class t{log(r){console.log(r)}warn(r){console.warn(r)}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Z1=new lt(""),X1=new lt("");let th,lI=(()=>{class t{constructor(r,s,o){this._ngZone=r,this.registry=s,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,th||(function dI(t){th=t}(o),o.addToWindow(s)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$n.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(r)||(clearTimeout(s.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,s,o){let i=-1;s&&s>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(d=>d.timeoutId!==i),r()},s)),this._callbacks.push({doneCb:r,timeoutId:i,updateCb:o})}whenStable(r,s,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,s,o),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,s,o){return[]}static#e=this.\u0275fac=function(s){return new(s||t)(vn($n),vn(Y1),vn(X1))};static#t=this.\u0275prov=Ot({token:t,factory:t.\u0275fac})}return t})(),Y1=(()=>{class t{constructor(){this._applications=new Map}registerApplication(r,s){this._applications.set(r,s)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,s=!0){return th?.findTestabilityInTree(this,r,s)??null}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function nh(t){return!!t&&"function"==typeof t.then}function ev(t){return!!t&&"function"==typeof t.subscribe}const tv=new lt("");let nv=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,s)=>{this.resolve=r,this.reject=s}),this.appInits=Ze(tv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const o of this.appInits){const i=o();if(nh(i))r.push(i);else if(ev(i)){const d=new Promise((h,v)=>{i.subscribe({complete:h,error:v})});r.push(d)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{s()}).catch(o=>{this.reject(o)}),0===r.length&&s(),this.initialized=!0}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Yl=new lt("");function sv(t,n){return Array.isArray(n)?n.reduce(sv,t):{...t,...n}}let Ei=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ze(zy),this.afterRenderManager=Ze(pE),this.zonelessEnabled=Ze(su),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Nt.B,this.afterTick=new Nt.B,this.componentTypes=[],this.components=[],this.isStable=Ze(ya).hasPendingTasks.pipe((0,jt.T)(r=>!r)),this._injector=Ze(hn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(s=>{r=this.isStable.subscribe({next:o=>{o&&s()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,s){const o=r instanceof yg;if(!this._injector.get(nv).done)throw!o&&Zs(r),new Re(405,!1);let d;d=o?r:this._injector.get(Cl).resolveComponentFactory(r),this.componentTypes.push(d.componentType);const h=function pI(t){return t.isBoundToModule}(d)?void 0:this._injector.get(xa),k=d.create(es.NULL,[],s||d.selector,h),D=k.location.nativeElement,T=k.injector.get(Z1,null);return T?.registerApplication(D),k.onDestroy(()=>{this.detachView(k.hostView),ed(this.components,k),T?.unregisterApplication(D)}),this._loadComponent(k),k}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Re(101,!1);const r=G(null);try{this._runningTick=!0,this.synchronize()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,G(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(Vp,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let s=0;for(;0!==this.dirtyFlags&&s++<10;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const s=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(s);for(let{_lView:o,notifyErrorHandler:i}of this._views)mI(o,i,s,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else r?.begin?.(),r?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>Su(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(r){const s=r;this._views.push(s),s.attachToAppRef(this)}detachView(r){const s=r;ed(this._views,s),s.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const s=this._injector.get(Yl,[]);[...this._bootstrapListeners,...s].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>ed(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Re(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ed(t,n){const r=t.indexOf(n);r>-1&&t.splice(r,1)}function mI(t,n,r,s){(r||Su(t))&&Fl(t,n,r&&!s?0:1)}class gI{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let EI=(()=>{class t{compileModuleSync(r){return new rf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const s=this.compileModuleSync(r),i=no(mt(r).declarations).reduce((d,h)=>{const v=Ft(h);return v&&d.push(new au(v)),d},[]);return new gI(s,i)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yI=(()=>{class t{constructor(){this.zone=Ze($n),this.changeDetectionScheduler=Ze(Ya),this.applicationRef=Ze(Ei)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rh({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:r}){return t??=()=>new $n({...sh(),scheduleInRootZone:r}),[{provide:$n,useFactory:t},{provide:Lr,multi:!0,useFactory:()=>{const s=Ze(yI,{optional:!0});return()=>s.initialize()}},{provide:Lr,multi:!0,useFactory:()=>{const s=Ze(_I);return()=>{s.initialize()}}},!0===n?{provide:vg,useValue:!0}:[],{provide:Bp,useValue:r??r0}]}function sh(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let _I=(()=>{class t{constructor(){this.subscription=new Qt.yU,this.initialized=!1,this.zone=Ze($n),this.pendingTasks=Ze(ya)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{$n.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{$n.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Cu=(()=>{class t{constructor(){this.appRef=Ze(Ei),this.taskService=Ze(ya),this.ngZone=Ze($n),this.zonelessEnabled=Ze(su),this.disableScheduling=Ze(vg,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Qt.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Gu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Ze(Bp,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Pd||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const s=this.useMicrotaskScheduler?o0:s0;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>s(()=>this.tick())):this.ngZone.runOutsideAngular(()=>s(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Gu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(r),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,o0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static#e=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const ih=new lt("",{providedIn:"root",factory:()=>Ze(ih,wt.Optional|wt.SkipSelf)||function wI(){return typeof $localize<"u"&&$localize.locale||Hl}()}),kI=new lt("",{providedIn:"root",factory:()=>"USD"}),nd=new lt("");function rd(t){return!t.moduleRef}let dv=(()=>{class t{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,s){const o=s?.scheduleInRootZone,d=s?.ignoreChangesOutsideZone,h=[rh({ngZoneFactory:()=>function Hy(t="zone.js",n){return"noop"===t?new Pd:"zone.js"===t?new $n(n):t}(s?.ngZone,{...sh({eventCoalescing:s?.ngZoneEventCoalescing,runCoalescing:s?.ngZoneRunCoalescing}),scheduleInRootZone:o}),ignoreChangesOutsideZone:d}),{provide:Ya,useExisting:Cu}],v=function nk(t,n,r){return new nf(t,n,r,!1)}(r.moduleType,this.injector,h);return function lv(t){const n=rd(t)?t.r3Injector:t.moduleRef.injector,r=n.get($n);return r.run(()=>{rd(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const s=n.get(Ui,null);let o;if(r.runOutsideAngular(()=>{o=r.onError.subscribe({next:i=>{s.handleError(i)}})}),rd(t)){const i=()=>n.destroy(),d=t.platformInjector.get(nd);d.add(i),n.onDestroy(()=>{o.unsubscribe(),d.delete(i)})}else{const i=()=>t.moduleRef.destroy(),d=t.platformInjector.get(nd);d.add(i),t.moduleRef.onDestroy(()=>{ed(t.allPlatformModules,t.moduleRef),o.unsubscribe(),d.delete(i)})}return function hI(t,n,r){try{const s=r();return nh(s)?s.catch(o=>{throw n.runOutsideAngular(()=>t.handleError(o)),o}):s}catch(s){throw n.runOutsideAngular(()=>t.handleError(s)),s}}(s,r,()=>{const i=n.get(nv);return i.runInitializers(),i.donePromise.then(()=>{if(function zC(t){"string"==typeof t&&(pF=t.toLowerCase().replace(/_/g,"-"))}(n.get(ih,Hl)||Hl),rd(t)){const h=n.get(Ei);return void 0!==t.rootComponent&&h.bootstrap(t.rootComponent),h}return function AI(t,n){const r=t.injector.get(Ei);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(s=>r.bootstrap(s));else{if(!t.instance.ngDoBootstrap)throw new Re(-403,!1);t.instance.ngDoBootstrap(r)}n.push(t)}(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}({moduleRef:v,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(r,s=[]){const o=sv({},s);return function vI(t,n,r){const s=new rf(r);return Promise.resolve(s)}(0,0,r).then(i=>this.bootstrapModuleFactory(i,o))}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const r=this._injector.get(nd,null);r&&(r.forEach(s=>s()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(s){return new(s||t)(vn(es))};static#t=this.\u0275prov=Ot({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),ca=null;const pv=new lt("");function fv(t,n,r=[]){const s=`Platform: ${n}`,o=new lt(s);return(i=[])=>{let d=ah();if(!d||d.injector.get(pv,!1)){const h=[...r,...i,{provide:o,useValue:!0}];t?t(h):function xI(t){if(ca&&!ca.get(pv,!1))throw new Re(400,!1);(function rv(){!function Pt(t){pt=t}(()=>{throw new Re(600,!1)})})(),ca=t;const n=t.get(dv);(function mv(t){t.get(S0,null)?.forEach(r=>r())})(t)}(function hv(t=[],n){return es.create({name:n,providers:[{provide:ri,useValue:"platform"},{provide:nd,useValue:new Set([()=>ca=null])},...t]})}(h,s))}return function SI(){const n=ah();if(!n)throw new Re(401,!1);return n}()}}function ah(){return ca?.get(dv)??null}function jI(){}let Ev=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=OI}return t})();function OI(t){return function PI(t,n,r){if(Ns(t)&&!r){const s=Wt(t.index,n);return new Jc(s,s)}return 175&t.type?new Jc(n[pn],n):null}(En(),ye(),!(16&~t))}class bv{constructor(){}supports(n){return Sl(n)}create(n){return new BI(n)}}const UI=(t,n)=>n;class BI{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||UI}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,s=this._removalsHead,o=0,i=null;for(;r||s;){const d=!s||r&&r.currentIndex<wv(s,o,i)?r:s,h=wv(d,o,i),v=d.currentIndex;if(d===s)o--,s=s._nextRemoved;else if(r=r._next,null==d.previousIndex)o++;else{i||(i=[]);const k=h-o,D=v-o;if(k!=D){for(let L=0;L<k;L++){const z=L<i.length?i[L]:i[L]=0,Z=z+L;D<=Z&&Z<k&&(i[L]=z+1)}i[d.previousIndex]=D-k}}h!==v&&n(d,h,v)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!Sl(n))throw new Re(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o,i,d,r=this._itHead,s=!1;if(Array.isArray(n)){this.length=n.length;for(let h=0;h<this.length;h++)i=n[h],d=this._trackByFn(h,i),null!==r&&Object.is(r.trackById,d)?(s&&(r=this._verifyReinsertion(r,i,d,h)),Object.is(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,d,h),s=!0),r=r._next}else o=0,function ok(t,n){if(Array.isArray(t))for(let r=0;r<t.length;r++)n(t[r]);else{const r=t[Symbol.iterator]();let s;for(;!(s=r.next()).done;)n(s.value)}}(n,h=>{d=this._trackByFn(o,h),null!==r&&Object.is(r.trackById,d)?(s&&(r=this._verifyReinsertion(r,h,d,o)),Object.is(r.item,h)||this._addIdentityChange(r,h)):(r=this._mismatch(r,h,d,o),s=!0),r=r._next,o++}),this.length=o;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,s,o){let i;return null===n?i=this._itTail:(i=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,i,o)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(s,o))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,i,o)):n=this._addAfter(new VI(r,s),i,o),n}_verifyReinsertion(n,r,s,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==i?n=this._reinsertAfter(i,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const o=n._prevRemoved,i=n._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(n,r,s),this._addToMoves(n,s),n}_moveAfter(n,r,s){return this._unlink(n),this._insertAfter(n,r,s),this._addToMoves(n,s),n}_addAfter(n,r,s){return this._insertAfter(n,r,s),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,s){const o=null===r?this._itHead:r._next;return n._next=o,n._prev=r,null===o?this._itTail=n:o._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new _v),this._linkedRecords.put(n),n.currentIndex=s,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,s=n._next;return null===r?this._itHead=s:r._next=s,null===s?this._itTail=r:s._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _v),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class VI{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qI{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===r||r<=s.currentIndex)&&Object.is(s.trackById,n))return s;return null}remove(n){const r=n._prevDup,s=n._nextDup;return null===r?this._head=s:r._nextDup=s,null===s?this._tail=r:s._prevDup=r,null===this._head}}class _v{constructor(){this.map=new Map}put(n){const r=n.trackById;let s=this.map.get(r);s||(s=new qI,this.map.set(r,s)),s.add(n)}get(n,r){const o=this.map.get(n);return o?o.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wv(t,n,r){const s=t.previousIndex;if(null===s)return s;let o=0;return r&&s<r.length&&(o=r[s]),s+n+o}class kv{constructor(){}supports(n){return n instanceof Map||af(n)}create(){return new $I}}class $I{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||af(n)))throw new Re(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(s,o)=>{if(r&&r.key===o)this._maybeAddToChanges(r,s),this._appendAfter=r,r=r._next;else{const i=this._getOrCreateRecordForKey(o,s);r=this._insertBeforeOrAppend(r,i)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let s=r;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const s=n._prev;return r._next=n,r._prev=s,n._prev=r,s&&(s._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const o=this._records.get(n);this._maybeAddToChanges(o,r);const i=o._prev,d=o._next;return i&&(i._next=d),d&&(d._prev=i),o._next=null,o._prev=null,o}const s=new HI(n);return this._records.set(n,s),s.currentValue=r,this._addToAdditions(s),s}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(s=>r(n[s],s))}}class HI{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Cv(){return new ph([new bv])}let ph=(()=>{class t{static#e=this.\u0275prov=Ot({token:t,providedIn:"root",factory:Cv});constructor(r){this.factories=r}static create(r,s){if(null!=s){const o=s.factories.slice();r=r.concat(o)}return new t(r)}static extend(r){return{provide:t,useFactory:s=>t.create(r,s||Cv()),deps:[[t,new Is,new Ks]]}}find(r){const s=this.factories.find(o=>o.supports(r));if(null!=s)return s;throw new Re(901,!1)}}return t})();function Dv(){return new fh([new kv])}let fh=(()=>{class t{static#e=this.\u0275prov=Ot({token:t,providedIn:"root",factory:Dv});constructor(r){this.factories=r}static create(r,s){if(s){const o=s.factories.slice();r=r.concat(o)}return new t(r)}static extend(r){return{provide:t,useFactory:s=>t.create(r,s||Dv()),deps:[[t,new Is,new Ks]]}}find(r){const s=this.factories.find(o=>o.supports(r));if(s)return s;throw new Re(901,!1)}}return t})();const WI=fv(null,"core",[]);let KI=(()=>{class t{constructor(r){}static#e=this.\u0275fac=function(s){return new(s||t)(vn(Ei))};static#t=this.\u0275mod=ls({type:t});static#n=this.\u0275inj=ss({})}return t})();function C9(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function I9(t){const n=G(null);try{return t()}finally{G(n)}}const M9=new lt("",{providedIn:"root",factory:()=>Ze(A9)});let A9=(()=>{class t{static#e=this.\u0275prov=Ot({token:t,providedIn:"root",factory:()=>new x9})}return t})();class x9{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Ze(ya),this.taskId=null}scheduleEffect(n){if(this.enqueue(n),null===this.taskId){const r=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(r),this.taskId=null})}}enqueue(n){const r=n.creationZone;this.queues.has(r)||this.queues.set(r,new Set);const s=this.queues.get(r);s.has(n)||(this.queuedEffectCount++,s.add(n))}flush(){for(;this.queuedEffectCount>0;)for(const[n,r]of this.queues)null===n?this.flushQueue(r):n.run(()=>this.flushQueue(r))}flushQueue(n){for(const r of n)n.delete(r),this.queuedEffectCount--,r.run()}}class S9{constructor(n,r,s,o,i,d){this.scheduler=n,this.effectFn=r,this.creationZone=s,this.injector=i,this.watcher=function We(t,n,r){const s=Object.create(Vt);r&&(s.consumerAllowSignalWrites=!0),s.fn=t,s.schedule=n;const o=v=>{s.cleanupFn=v};return s.ref={notify:()=>ee(s),run:()=>{if(null===s.fn)return;if(function be(){return $}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(s.dirty=!1,s.hasRun&&!Me(s))return;s.hasRun=!0;const v=Q(s);try{s.cleanupFn(),s.cleanupFn=tt,s.fn(o)}finally{me(s,v)}},cleanup:()=>s.cleanupFn(),destroy:()=>function d(v){(function i(v){return null===v.fn&&null===v.schedule})(v)||(Ie(v),v.cleanupFn(),v.fn=null,v.schedule=null,v.cleanupFn=tt)}(s),[R]:s},s.ref}(h=>this.runEffect(h),()=>this.schedule(),d),this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}runEffect(n){try{this.effectFn(n)}catch(r){this.injector.get(Ui,null,{optional:!0})?.handleError(r)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function Jv(t,n){Es("NgSignals"),!n?.injector&&Ps();const r=n?.injector??Ze(es),s=!0!==n?.manualCleanup?r.get(Tc):null,o=new S9(r.get(M9),t,typeof Zone>"u"?null:Zone.current,s,r,n?.allowSignalWrites??!1),i=r.get(Ev,null,{optional:!0});return i&&8&i._lView[qe]?(i._lView[Po]??=[]).push(o.watcher.notify):o.watcher.notify(),o}function T9(t){const n=Ft(t);if(!n)return null;const r=new au(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},3506:(Te,ne,C)=>{"use strict";C.d(ne,{An:()=>na,m_:()=>y});var g=C(4438),e=C(177),$=C(6860),O=C(1413),R=C(8359),re=(C(4402),C(7673)),nn=C(8141),Dt=(C(152),C(5964),C(6354)),_n=C(6697),Ke=C(1844),sr=function(u){return u[u.NONE=0]="NONE",u[u.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",u[u.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",u}(sr||{});const Wr="cdk-high-contrast-black-on-white",Ss="cdk-high-contrast-white-on-black",mo="cdk-high-contrast-active";let Js=(()=>{class u{constructor(c,f){this._platform=c,this._document=f,this._breakpointSubscription=(0,g.WQX)(Ke.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return sr.NONE;const c=this._document.createElement("div");c.style.backgroundColor="rgb(1,2,3)",c.style.position="absolute",this._document.body.appendChild(c);const f=this._document.defaultView||window,b=f&&f.getComputedStyle?f.getComputedStyle(c):null,A=(b&&b.backgroundColor||"").replace(/ /g,"");switch(c.remove(),A){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return sr.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return sr.BLACK_ON_WHITE}return sr.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const c=this._document.body.classList;c.remove(mo,Wr,Ss),this._hasCheckedHighContrastMode=!0;const f=this.getHighContrastMode();f===sr.BLACK_ON_WHITE?c.add(mo,Wr):f===sr.WHITE_ON_BLACK&&c.add(mo,Ss)}}static#e=this.\u0275fac=function(f){return new(f||u)(g.KVO($.OD),g.KVO(e.qQ))};static#t=this.\u0275prov=g.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})(),Qo=(()=>{class u{static#e=this.\u0275fac=function(f){return new(f||u)};static#t=this.\u0275mod=g.$C({type:u});static#n=this.\u0275inj=g.G2t({})}return u})();const Yo=new g.nKC("mat-sanity-checks",{providedIn:"root",factory:function Xo(){return!0}});let Ft=(()=>{class u{constructor(c,f,b){this._sanityChecks=f,this._document=b,this._hasDoneGlobalChecks=!1,c._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(c){return!(0,$.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[c])}static#e=this.\u0275fac=function(f){return new(f||u)(g.KVO(Js),g.KVO(Yo,8),g.KVO(e.qQ))};static#t=this.\u0275mod=g.$C({type:u});static#n=this.\u0275inj=g.G2t({imports:[Qo,Qo]})}return u})();var en=C(8810),wn=C(1985),Jn=C(3073),xt=C(8750),dn=C(9326),gr=C(4360),Xe=C(6450),zn=C(8496),Qn=C(9437),pn=C(980),An=C(7707),Zn=C(9974);function hs(u,a,...c){if(!0===a)return void u();if(!1===a)return;const f=new An.Ms({next:()=>{f.unsubscribe(),u()}});return(0,xt.Tg)(a(...c)).subscribe(f)}var Xi=C(1626),Zr=C(345);const Po=["*"];let Vn;function eo(u){return function et(){if(void 0===Vn&&(Vn=null,typeof window<"u")){const u=window;void 0!==u.trustedTypes&&(Vn=u.trustedTypes.createPolicy("angular#components",{createHTML:a=>a}))}return Vn}()?.createHTML(u)||u}function Ro(u){return Error(`Unable to find icon with the name "${u}"`)}function ci(u){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${u}".`)}function No(u){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${u}".`)}class fn{constructor(a,c,f){this.url=a,this.svgText=c,this.options=f}}let Lo=(()=>{class u{constructor(c,f,b,A){this._httpClient=c,this._sanitizer=f,this._errorHandler=A,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=b}addSvgIcon(c,f,b){return this.addSvgIconInNamespace("",c,f,b)}addSvgIconLiteral(c,f,b){return this.addSvgIconLiteralInNamespace("",c,f,b)}addSvgIconInNamespace(c,f,b,A){return this._addSvgIconConfig(c,f,new fn(b,null,A))}addSvgIconResolver(c){return this._resolvers.push(c),this}addSvgIconLiteralInNamespace(c,f,b,A){const l=this._sanitizer.sanitize(g.WPN.HTML,b);if(!l)throw No(b);const m=eo(l);return this._addSvgIconConfig(c,f,new fn("",m,A))}addSvgIconSet(c,f){return this.addSvgIconSetInNamespace("",c,f)}addSvgIconSetLiteral(c,f){return this.addSvgIconSetLiteralInNamespace("",c,f)}addSvgIconSetInNamespace(c,f,b){return this._addSvgIconSetConfig(c,new fn(f,null,b))}addSvgIconSetLiteralInNamespace(c,f,b){const A=this._sanitizer.sanitize(g.WPN.HTML,f);if(!A)throw No(f);const l=eo(A);return this._addSvgIconSetConfig(c,new fn("",l,b))}registerFontClassAlias(c,f=c){return this._fontCssClassesByAlias.set(c,f),this}classNameForFontAlias(c){return this._fontCssClassesByAlias.get(c)||c}setDefaultFontSetClass(...c){return this._defaultFontSetClass=c,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(c){const f=this._sanitizer.sanitize(g.WPN.RESOURCE_URL,c);if(!f)throw ci(c);const b=this._cachedIconsByUrl.get(f);return b?(0,re.of)(ui(b)):this._loadSvgIconFromConfig(new fn(c,null)).pipe((0,nn.M)(A=>this._cachedIconsByUrl.set(f,A)),(0,Dt.T)(A=>ui(A)))}getNamedSvgIcon(c,f=""){const b=Ns(f,c);let A=this._svgIconConfigs.get(b);if(A)return this._getSvgFromConfig(A);if(A=this._getIconConfigFromResolvers(f,c),A)return this._svgIconConfigs.set(b,A),this._getSvgFromConfig(A);const l=this._iconSetConfigs.get(f);return l?this._getSvgFromIconSetConfigs(c,l):(0,en.$)(Ro(b))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(c){return c.svgText?(0,re.of)(ui(this._svgElementFromConfig(c))):this._loadSvgIconFromConfig(c).pipe((0,Dt.T)(f=>ui(f)))}_getSvgFromIconSetConfigs(c,f){const b=this._extractIconWithNameFromAnySet(c,f);return b?(0,re.of)(b):function Ln(...u){const a=(0,dn.ms)(u),{args:c,keys:f}=(0,Jn.D)(u),b=new wn.c(A=>{const{length:l}=c;if(!l)return void A.complete();const m=new Array(l);let p=l,E=l;for(let _=0;_<l;_++){let x=!1;(0,xt.Tg)(c[_]).subscribe((0,gr._)(A,S=>{x||(x=!0,E--),m[_]=S},()=>p--,void 0,()=>{(!p||!x)&&(E||A.next(f?(0,zn.e)(f,m):m),A.complete())}))}});return a?b.pipe((0,Xe.I)(a)):b}(f.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe((0,Qn.W)(m=>{const E=`Loading icon set URL: ${this._sanitizer.sanitize(g.WPN.RESOURCE_URL,l.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(E)),(0,re.of)(null)})))).pipe((0,Dt.T)(()=>{const l=this._extractIconWithNameFromAnySet(c,f);if(!l)throw Ro(c);return l}))}_extractIconWithNameFromAnySet(c,f){for(let b=f.length-1;b>=0;b--){const A=f[b];if(A.svgText&&A.svgText.toString().indexOf(c)>-1){const l=this._svgElementFromConfig(A),m=this._extractSvgIconFromSet(l,c,A.options);if(m)return m}}return null}_loadSvgIconFromConfig(c){return this._fetchIcon(c).pipe((0,nn.M)(f=>c.svgText=f),(0,Dt.T)(()=>this._svgElementFromConfig(c)))}_loadSvgIconSetFromConfig(c){return c.svgText?(0,re.of)(null):this._fetchIcon(c).pipe((0,nn.M)(f=>c.svgText=f))}_extractSvgIconFromSet(c,f,b){const A=c.querySelector(`[id="${f}"]`);if(!A)return null;const l=A.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,b);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),b);const m=this._svgElementFromString(eo("<svg></svg>"));return m.appendChild(l),this._setSvgAttributes(m,b)}_svgElementFromString(c){const f=this._document.createElement("DIV");f.innerHTML=c;const b=f.querySelector("svg");if(!b)throw Error("<svg> tag not found");return b}_toSvgElement(c){const f=this._svgElementFromString(eo("<svg></svg>")),b=c.attributes;for(let A=0;A<b.length;A++){const{name:l,value:m}=b[A];"id"!==l&&f.setAttribute(l,m)}for(let A=0;A<c.childNodes.length;A++)c.childNodes[A].nodeType===this._document.ELEMENT_NODE&&f.appendChild(c.childNodes[A].cloneNode(!0));return f}_setSvgAttributes(c,f){return c.setAttribute("fit",""),c.setAttribute("height","100%"),c.setAttribute("width","100%"),c.setAttribute("preserveAspectRatio","xMidYMid meet"),c.setAttribute("focusable","false"),f&&f.viewBox&&c.setAttribute("viewBox",f.viewBox),c}_fetchIcon(c){const{url:f,options:b}=c,A=b?.withCredentials??!1;if(!this._httpClient)throw function Xr(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}();if(null==f)throw Error(`Cannot fetch icon from URL "${f}".`);const l=this._sanitizer.sanitize(g.WPN.RESOURCE_URL,f);if(!l)throw ci(f);const m=this._inProgressUrlFetches.get(l);if(m)return m;const p=this._httpClient.get(l,{responseType:"text",withCredentials:A}).pipe((0,Dt.T)(E=>eo(E)),(0,pn.j)(()=>this._inProgressUrlFetches.delete(l)),function Rs(u={}){const{connector:a=()=>new O.B,resetOnError:c=!0,resetOnComplete:f=!0,resetOnRefCountZero:b=!0}=u;return A=>{let l,m,p,E=0,_=!1,x=!1;const S=()=>{m?.unsubscribe(),m=void 0},H=()=>{S(),l=p=void 0,_=x=!1},B=()=>{const ve=l;H(),ve?.unsubscribe()};return(0,Zn.N)((ve,Le)=>{E++,!x&&!_&&S();const He=p=p??a();Le.add(()=>{E--,0===E&&!x&&!_&&(m=hs(B,b))}),He.subscribe(Le),!l&&E>0&&(l=new An.Ms({next:dt=>He.next(dt),error:dt=>{x=!0,S(),m=hs(H,c,dt),He.error(dt)},complete:()=>{_=!0,S(),m=hs(H,f),He.complete()}}),(0,xt.Tg)(ve).subscribe(l))})(A)}}());return this._inProgressUrlFetches.set(l,p),p}_addSvgIconConfig(c,f,b){return this._svgIconConfigs.set(Ns(c,f),b),this}_addSvgIconSetConfig(c,f){const b=this._iconSetConfigs.get(c);return b?b.push(f):this._iconSetConfigs.set(c,[f]),this}_svgElementFromConfig(c){if(!c.svgElement){const f=this._svgElementFromString(c.svgText);this._setSvgAttributes(f,c.options),c.svgElement=f}return c.svgElement}_getIconConfigFromResolvers(c,f){for(let b=0;b<this._resolvers.length;b++){const A=this._resolvers[b](f,c);if(A)return Oi(A)?new fn(A.url,null,A.options):new fn(A,null)}}static#e=this.\u0275fac=function(f){return new(f||u)(g.KVO(Xi.Qq,8),g.KVO(Zr.up),g.KVO(e.qQ,8),g.KVO(g.zcH))};static#t=this.\u0275prov=g.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();function ui(u){return u.cloneNode(!0)}function Ns(u,a){return u+":"+a}function Oi(u){return!(!u.url||!u.options)}const Br=new g.nKC("MAT_ICON_DEFAULT_OPTIONS"),Uo=new g.nKC("mat-icon-location",{providedIn:"root",factory:function Yi(){const u=(0,g.WQX)(e.qQ),a=u?u.location:null;return{getPathname:()=>a?a.pathname+a.search:""}}}),ea=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Pi=ea.map(u=>`[${u}]`).join(", "),ta=/^url\(['"]?#(.*?)['"]?\)$/;let na=(()=>{class u{get color(){return this._color||this._defaultColor}set color(c){this._color=c}get svgIcon(){return this._svgIcon}set svgIcon(c){c!==this._svgIcon&&(c?this._updateSvgIcon(c):this._svgIcon&&this._clearSvgElement(),this._svgIcon=c)}get fontSet(){return this._fontSet}set fontSet(c){const f=this._cleanupFontValue(c);f!==this._fontSet&&(this._fontSet=f,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(c){const f=this._cleanupFontValue(c);f!==this._fontIcon&&(this._fontIcon=f,this._updateFontIconClasses())}constructor(c,f,b,A,l,m){this._elementRef=c,this._iconRegistry=f,this._location=A,this._errorHandler=l,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=R.yU.EMPTY,m&&(m.color&&(this.color=this._defaultColor=m.color),m.fontSet&&(this.fontSet=m.fontSet)),b||c.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(c){if(!c)return["",""];const f=c.split(":");switch(f.length){case 1:return["",f[0]];case 2:return f;default:throw Error(`Invalid icon name: "${c}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const c=this._elementsWithExternalReferences;if(c&&c.size){const f=this._location.getPathname();f!==this._previousPath&&(this._previousPath=f,this._prependPathToReferences(f))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(c){this._clearSvgElement();const f=this._location.getPathname();this._previousPath=f,this._cacheChildrenWithExternalReferences(c),this._prependPathToReferences(f),this._elementRef.nativeElement.appendChild(c)}_clearSvgElement(){const c=this._elementRef.nativeElement;let f=c.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();f--;){const b=c.childNodes[f];(1!==b.nodeType||"svg"===b.nodeName.toLowerCase())&&b.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const c=this._elementRef.nativeElement,f=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(b=>b.length>0);this._previousFontSetClass.forEach(b=>c.classList.remove(b)),f.forEach(b=>c.classList.add(b)),this._previousFontSetClass=f,this.fontIcon!==this._previousFontIconClass&&!f.includes("mat-ligature-font")&&(this._previousFontIconClass&&c.classList.remove(this._previousFontIconClass),this.fontIcon&&c.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(c){return"string"==typeof c?c.trim().split(" ")[0]:c}_prependPathToReferences(c){const f=this._elementsWithExternalReferences;f&&f.forEach((b,A)=>{b.forEach(l=>{A.setAttribute(l.name,`url('${c}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(c){const f=c.querySelectorAll(Pi),b=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let A=0;A<f.length;A++)ea.forEach(l=>{const m=f[A],p=m.getAttribute(l),E=p?p.match(ta):null;if(E){let _=b.get(m);_||(_=[],b.set(m,_)),_.push({name:l,value:E[1]})}})}_updateSvgIcon(c){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),c){const[f,b]=this._splitIconName(c);f&&(this._svgNamespace=f),b&&(this._svgName=b),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(b,f).pipe((0,_n.s)(1)).subscribe(A=>this._setSvgElement(A),A=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${f}:${b}! ${A.message}`))})}}static#e=this.\u0275fac=function(f){return new(f||u)(g.rXU(g.aKT),g.rXU(Lo),g.kS0("aria-hidden"),g.rXU(Uo),g.rXU(g.zcH),g.rXU(Br,8))};static#t=this.\u0275cmp=g.VBU({type:u,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(f,b){2&f&&(g.BMQ("data-mat-icon-type",b._usingFontIcon()?"font":"svg")("data-mat-icon-name",b._svgName||b.fontIcon)("data-mat-icon-namespace",b._svgNamespace||b.fontSet)("fontIcon",b._usingFontIcon()?b.fontIcon:null),g.HbH(b.color?"mat-"+b.color:""),g.AVh("mat-icon-inline",b.inline)("mat-icon-no-color","primary"!==b.color&&"accent"!==b.color&&"warn"!==b.color))},inputs:{color:"color",inline:[2,"inline","inline",g.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[g.GFd,g.aNF],ngContentSelectors:Po,decls:1,vars:0,template:function(f,b){1&f&&(g.NAR(),g.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return u})(),y=(()=>{class u{static#e=this.\u0275fac=function(f){return new(f||u)};static#t=this.\u0275mod=g.$C({type:u});static#n=this.\u0275inj=g.G2t({imports:[Ft,Ft]})}return u})()},345:(Te,ne,C)=>{"use strict";C.d(ne,{B7:()=>je,Bb:()=>Nt,W8:()=>Qt,hE:()=>Tn,sG:()=>tt,up:()=>On});var g=C(177),e=C(4438);class $ extends g.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class O extends ${static makeCurrent(){(0,g.ZD)(new O)}onAndCancel(K,P,V){return K.addEventListener(P,V),()=>{K.removeEventListener(P,V)}}dispatchEvent(K,P){K.dispatchEvent(P)}remove(K){K.remove()}createElement(K,P){return(P=P||this.getDefaultDocument()).createElement(K)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(K){return K.nodeType===Node.ELEMENT_NODE}isShadowRoot(K){return K instanceof DocumentFragment}getGlobalEventTarget(K,P){return"window"===P?window:"document"===P?K:"body"===P?K.body:null}getBaseHref(K){const P=function G(){return R=R||document.querySelector("base"),R?R.getAttribute("href"):null}();return null==P?null:function re(ie){return new URL(ie,document.baseURI).pathname}(P)}resetBaseElement(){R=null}getUserAgent(){return window.navigator.userAgent}getCookie(K){return(0,g._b)(document.cookie,K)}}let R=null,he=(()=>{class ie{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(V){return new(V||ie)};static#t=this.\u0275prov=e.jDH({token:ie,factory:ie.\u0275fac})}return ie})();const le=new e.nKC("");let X=(()=>{class ie{constructor(P,V){this._zone=V,this._eventNameToPlugin=new Map,P.forEach(Fe=>{Fe.manager=this}),this._plugins=P.slice().reverse()}addEventListener(P,V,Fe){return this._findPluginFor(V).addEventListener(P,V,Fe)}getZone(){return this._zone}_findPluginFor(P){let V=this._eventNameToPlugin.get(P);if(V)return V;if(V=this._plugins.find($e=>$e.supports(P)),!V)throw new e.wOt(5101,!1);return this._eventNameToPlugin.set(P,V),V}static#e=this.\u0275fac=function(V){return new(V||ie)(e.KVO(le),e.KVO(e.SKi))};static#t=this.\u0275prov=e.jDH({token:ie,factory:ie.\u0275fac})}return ie})();class te{constructor(K){this._doc=K}}const Y="ng-app-id";let W=(()=>{class ie{constructor(P,V,Fe,$e={}){this.doc=P,this.appId=V,this.nonce=Fe,this.platformId=$e,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,g.Vy)($e),this.resetHostNodes()}addStyles(P){for(const V of P)1===this.changeUsageCount(V,1)&&this.onStyleAdded(V)}removeStyles(P){for(const V of P)this.changeUsageCount(V,-1)<=0&&this.onStyleRemoved(V)}ngOnDestroy(){const P=this.styleNodesInDOM;P&&(P.forEach(V=>V.remove()),P.clear());for(const V of this.getAllStyles())this.onStyleRemoved(V);this.resetHostNodes()}addHost(P){this.hostNodes.add(P);for(const V of this.getAllStyles())this.addStyleToHost(P,V)}removeHost(P){this.hostNodes.delete(P)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(P){for(const V of this.hostNodes)this.addStyleToHost(V,P)}onStyleRemoved(P){const V=this.styleRef;V.get(P)?.elements?.forEach(Fe=>Fe.remove()),V.delete(P)}collectServerRenderedStyles(){const P=this.doc.head?.querySelectorAll(`style[${Y}="${this.appId}"]`);if(P?.length){const V=new Map;return P.forEach(Fe=>{null!=Fe.textContent&&V.set(Fe.textContent,Fe)}),V}return null}changeUsageCount(P,V){const Fe=this.styleRef;if(Fe.has(P)){const $e=Fe.get(P);return $e.usage+=V,$e.usage}return Fe.set(P,{usage:V,elements:[]}),V}getStyleElement(P,V){const Fe=this.styleNodesInDOM,$e=Fe?.get(V);if($e?.parentNode===P)return Fe.delete(V),$e.removeAttribute(Y),$e;{const vt=this.doc.createElement("style");return this.nonce&&vt.setAttribute("nonce",this.nonce),vt.textContent=V,this.platformIsServer&&vt.setAttribute(Y,this.appId),P.appendChild(vt),vt}}addStyleToHost(P,V){const Fe=this.getStyleElement(P,V),$e=this.styleRef,vt=$e.get(V)?.elements;vt?vt.push(Fe):$e.set(V,{elements:[Fe],usage:1})}resetHostNodes(){const P=this.hostNodes;P.clear(),P.add(this.doc.head)}static#e=this.\u0275fac=function(V){return new(V||ie)(e.KVO(g.qQ),e.KVO(e.sZ2),e.KVO(e.BIS,8),e.KVO(e.Agw))};static#t=this.\u0275prov=e.jDH({token:ie,factory:ie.\u0275fac})}return ie})();const Ee={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ee=/%COMP%/g,Q="%COMP%",me=`_nghost-${Q}`,Me=`_ngcontent-${Q}`,de=new e.nKC("",{providedIn:"root",factory:()=>!0});function Oe(ie,K){return K.map(P=>P.replace(ee,ie))}let je=(()=>{class ie{constructor(P,V,Fe,$e,vt,ft,on,Pn=null){this.eventManager=P,this.sharedStylesHost=V,this.appId=Fe,this.removeStylesOnCompDestroy=$e,this.doc=vt,this.platformId=ft,this.ngZone=on,this.nonce=Pn,this.rendererByCompId=new Map,this.platformIsServer=(0,g.Vy)(ft),this.defaultRenderer=new Ae(P,vt,on,this.platformIsServer)}createRenderer(P,V){if(!P||!V)return this.defaultRenderer;this.platformIsServer&&V.encapsulation===e.gXe.ShadowDom&&(V={...V,encapsulation:e.gXe.Emulated});const Fe=this.getOrCreateRenderer(P,V);return Fe instanceof Ye?Fe.applyToHost(P):Fe instanceof kt&&Fe.applyStyles(),Fe}getOrCreateRenderer(P,V){const Fe=this.rendererByCompId;let $e=Fe.get(V.id);if(!$e){const vt=this.doc,ft=this.ngZone,on=this.eventManager,Pn=this.sharedStylesHost,Or=this.removeStylesOnCompDestroy,cr=this.platformIsServer;switch(V.encapsulation){case e.gXe.Emulated:$e=new Ye(on,Pn,V,this.appId,Or,vt,ft,cr);break;case e.gXe.ShadowDom:return new ze(on,Pn,P,V,vt,ft,this.nonce,cr);default:$e=new kt(on,Pn,V,Or,vt,ft,cr)}Fe.set(V.id,$e)}return $e}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(V){return new(V||ie)(e.KVO(X),e.KVO(W),e.KVO(e.sZ2),e.KVO(de),e.KVO(g.qQ),e.KVO(e.Agw),e.KVO(e.SKi),e.KVO(e.BIS))};static#t=this.\u0275prov=e.jDH({token:ie,factory:ie.\u0275fac})}return ie})();class Ae{constructor(K,P,V,Fe){this.eventManager=K,this.doc=P,this.ngZone=V,this.platformIsServer=Fe,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(K,P){return P?this.doc.createElementNS(Ee[P]||P,K):this.doc.createElement(K)}createComment(K){return this.doc.createComment(K)}createText(K){return this.doc.createTextNode(K)}appendChild(K,P){(gt(K)?K.content:K).appendChild(P)}insertBefore(K,P,V){K&&(gt(K)?K.content:K).insertBefore(P,V)}removeChild(K,P){P.remove()}selectRootElement(K,P){let V="string"==typeof K?this.doc.querySelector(K):K;if(!V)throw new e.wOt(-5104,!1);return P||(V.textContent=""),V}parentNode(K){return K.parentNode}nextSibling(K){return K.nextSibling}setAttribute(K,P,V,Fe){if(Fe){P=Fe+":"+P;const $e=Ee[Fe];$e?K.setAttributeNS($e,P,V):K.setAttribute(P,V)}else K.setAttribute(P,V)}removeAttribute(K,P,V){if(V){const Fe=Ee[V];Fe?K.removeAttributeNS(Fe,P):K.removeAttribute(`${V}:${P}`)}else K.removeAttribute(P)}addClass(K,P){K.classList.add(P)}removeClass(K,P){K.classList.remove(P)}setStyle(K,P,V,Fe){Fe&(e.czy.DashCase|e.czy.Important)?K.style.setProperty(P,V,Fe&e.czy.Important?"important":""):K.style[P]=V}removeStyle(K,P,V){V&e.czy.DashCase?K.style.removeProperty(P):K.style[P]=""}setProperty(K,P,V){null!=K&&(K[P]=V)}setValue(K,P){K.nodeValue=P}listen(K,P,V){if("string"==typeof K&&!(K=(0,g.QT)().getGlobalEventTarget(this.doc,K)))throw new Error(`Unsupported event target ${K} for event ${P}`);return this.eventManager.addEventListener(K,P,this.decoratePreventDefault(V))}decoratePreventDefault(K){return P=>{if("__ngUnwrap__"===P)return K;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>K(P)):K(P))&&P.preventDefault()}}}function gt(ie){return"TEMPLATE"===ie.tagName&&void 0!==ie.content}class ze extends Ae{constructor(K,P,V,Fe,$e,vt,ft,on){super(K,$e,vt,on),this.sharedStylesHost=P,this.hostEl=V,this.shadowRoot=V.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Pn=Oe(Fe.id,Fe.styles);for(const Or of Pn){const cr=document.createElement("style");ft&&cr.setAttribute("nonce",ft),cr.textContent=Or,this.shadowRoot.appendChild(cr)}}nodeOrShadowRoot(K){return K===this.hostEl?this.shadowRoot:K}appendChild(K,P){return super.appendChild(this.nodeOrShadowRoot(K),P)}insertBefore(K,P,V){return super.insertBefore(this.nodeOrShadowRoot(K),P,V)}removeChild(K,P){return super.removeChild(null,P)}parentNode(K){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(K)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class kt extends Ae{constructor(K,P,V,Fe,$e,vt,ft,on){super(K,$e,vt,ft),this.sharedStylesHost=P,this.removeStylesOnCompDestroy=Fe,this.styles=on?Oe(on,V.styles):V.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ye extends kt{constructor(K,P,V,Fe,$e,vt,ft,on){const Pn=Fe+"-"+V.id;super(K,P,V,$e,vt,ft,on,Pn),this.contentAttr=function se(ie){return Me.replace(ee,ie)}(Pn),this.hostAttr=function J(ie){return me.replace(ee,ie)}(Pn)}applyToHost(K){this.applyStyles(),this.setAttribute(K,this.hostAttr,"")}createElement(K,P){const V=super.createElement(K,P);return super.setAttribute(V,this.contentAttr,""),V}}let pt=(()=>{class ie extends te{constructor(P){super(P)}supports(P){return!0}addEventListener(P,V,Fe){return P.addEventListener(V,Fe,!1),()=>this.removeEventListener(P,V,Fe)}removeEventListener(P,V,Fe){return P.removeEventListener(V,Fe)}static#e=this.\u0275fac=function(V){return new(V||ie)(e.KVO(g.qQ))};static#t=this.\u0275prov=e.jDH({token:ie,factory:ie.\u0275fac})}return ie})();const ht=["alt","control","meta","shift"],Pt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Kt={alt:ie=>ie.altKey,control:ie=>ie.ctrlKey,meta:ie=>ie.metaKey,shift:ie=>ie.shiftKey};let oe=(()=>{class ie extends te{constructor(P){super(P)}supports(P){return null!=ie.parseEventName(P)}addEventListener(P,V,Fe){const $e=ie.parseEventName(V),vt=ie.eventCallback($e.fullKey,Fe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.QT)().onAndCancel(P,$e.domEventName,vt))}static parseEventName(P){const V=P.toLowerCase().split("."),Fe=V.shift();if(0===V.length||"keydown"!==Fe&&"keyup"!==Fe)return null;const $e=ie._normalizeKey(V.pop());let vt="",ft=V.indexOf("code");if(ft>-1&&(V.splice(ft,1),vt="code."),ht.forEach(Pn=>{const Or=V.indexOf(Pn);Or>-1&&(V.splice(Or,1),vt+=Pn+".")}),vt+=$e,0!=V.length||0===$e.length)return null;const on={};return on.domEventName=Fe,on.fullKey=vt,on}static matchEventFullKeyCode(P,V){let Fe=Pt[P.key]||P.key,$e="";return V.indexOf("code.")>-1&&(Fe=P.code,$e="code."),!(null==Fe||!Fe)&&(Fe=Fe.toLowerCase()," "===Fe?Fe="space":"."===Fe&&(Fe="dot"),ht.forEach(vt=>{vt!==Fe&&(0,Kt[vt])(P)&&($e+=vt+".")}),$e+=Fe,$e===V)}static eventCallback(P,V,Fe){return $e=>{ie.matchEventFullKeyCode($e,P)&&Fe.runGuarded(()=>V($e))}}static _normalizeKey(P){return"esc"===P?"escape":P}static#e=this.\u0275fac=function(V){return new(V||ie)(e.KVO(g.qQ))};static#t=this.\u0275prov=e.jDH({token:ie,factory:ie.\u0275fac})}return ie})();const tt=(0,e.oH4)(e.fpN,"browser",[{provide:e.Agw,useValue:g.AJ},{provide:e.PLl,useValue:function xe(){O.makeCurrent()},multi:!0},{provide:g.qQ,useFactory:function Ct(){return(0,e.TL$)(document),document},deps:[]}]),Vt=new e.nKC(""),Jt=[{provide:e.e01,useClass:class be{addToWindow(K){e.JZv.getAngularTestability=(V,Fe=!0)=>{const $e=K.findTestabilityInTree(V,Fe);if(null==$e)throw new e.wOt(5103,!1);return $e},e.JZv.getAllAngularTestabilities=()=>K.getAllTestabilities(),e.JZv.getAllAngularRootElements=()=>K.getAllRootElements(),e.JZv.frameworkStabilizers||(e.JZv.frameworkStabilizers=[]),e.JZv.frameworkStabilizers.push(V=>{const Fe=e.JZv.getAllAngularTestabilities();let $e=Fe.length;const vt=function(){$e--,0==$e&&V()};Fe.forEach(ft=>{ft.whenStable(vt)})})}findTestabilityInTree(K,P,V){return null==P?null:K.getTestability(P)??(V?(0,g.QT)().isShadowRoot(P)?this.findTestabilityInTree(K,P.host,!0):this.findTestabilityInTree(K,P.parentElement,!0):null)}},deps:[]},{provide:e.WHO,useClass:e.NYb,deps:[e.SKi,e.giA,e.e01]},{provide:e.NYb,useClass:e.NYb,deps:[e.SKi,e.giA,e.e01]}],ar=[{provide:e.H8p,useValue:"root"},{provide:e.zcH,useFactory:function Qe(){return new e.zcH},deps:[]},{provide:le,useClass:pt,multi:!0,deps:[g.qQ,e.SKi,e.Agw]},{provide:le,useClass:oe,multi:!0,deps:[g.qQ]},je,W,X,{provide:e._9s,useExisting:je},{provide:g.N0,useClass:he,deps:[]},[]];let Nt=(()=>{class ie{constructor(P){}static withServerTransition(P){return{ngModule:ie,providers:[{provide:e.sZ2,useValue:P.appId}]}}static#e=this.\u0275fac=function(V){return new(V||ie)(e.KVO(Vt,12))};static#t=this.\u0275mod=e.$C({type:ie});static#n=this.\u0275inj=e.G2t({providers:[...ar,...Jt],imports:[g.MD,e.Hbi]})}return ie})(),Qt=(()=>{class ie{constructor(P){this._doc=P,this._dom=(0,g.QT)()}addTag(P,V=!1){return P?this._getOrCreateElement(P,V):null}addTags(P,V=!1){return P?P.reduce((Fe,$e)=>($e&&Fe.push(this._getOrCreateElement($e,V)),Fe),[]):[]}getTag(P){return P&&this._doc.querySelector(`meta[${P}]`)||null}getTags(P){if(!P)return[];const V=this._doc.querySelectorAll(`meta[${P}]`);return V?[].slice.call(V):[]}updateTag(P,V){if(!P)return null;V=V||this._parseSelector(P);const Fe=this.getTag(V);return Fe?this._setMetaElementAttributes(P,Fe):this._getOrCreateElement(P,!0)}removeTag(P){this.removeTagElement(this.getTag(P))}removeTagElement(P){P&&this._dom.remove(P)}_getOrCreateElement(P,V=!1){if(!V){const vt=this._parseSelector(P),ft=this.getTags(vt).filter(on=>this._containsAttributes(P,on))[0];if(void 0!==ft)return ft}const Fe=this._dom.createElement("meta");return this._setMetaElementAttributes(P,Fe),this._doc.getElementsByTagName("head")[0].appendChild(Fe),Fe}_setMetaElementAttributes(P,V){return Object.keys(P).forEach(Fe=>V.setAttribute(this._getMetaKeyMap(Fe),P[Fe])),V}_parseSelector(P){const V=P.name?"name":"property";return`${V}="${P[V]}"`}_containsAttributes(P,V){return Object.keys(P).every(Fe=>V.getAttribute(this._getMetaKeyMap(Fe))===P[Fe])}_getMetaKeyMap(P){return jt[P]||P}static#e=this.\u0275fac=function(V){return new(V||ie)(e.KVO(g.qQ))};static#t=this.\u0275prov=e.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"})}return ie})();const jt={httpEquiv:"http-equiv"};let Tn=(()=>{class ie{constructor(P){this._doc=P}getTitle(){return this._doc.title}setTitle(P){this._doc.title=P||""}static#e=this.\u0275fac=function(V){return new(V||ie)(e.KVO(g.qQ))};static#t=this.\u0275prov=e.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"})}return ie})(),On=(()=>{class ie{static#e=this.\u0275fac=function(V){return new(V||ie)};static#t=this.\u0275prov=e.jDH({token:ie,factory:function(V){let Fe=null;return Fe=V?new(V||ie):e.KVO(Zt),Fe},providedIn:"root"})}return ie})(),Zt=(()=>{class ie extends On{constructor(P){super(),this._doc=P}sanitize(P,V){if(null==V)return null;switch(P){case e.WPN.NONE:return V;case e.WPN.HTML:return(0,e.ZF7)(V,"HTML")?(0,e.rcV)(V):(0,e.h9k)(this._doc,String(V)).toString();case e.WPN.STYLE:return(0,e.ZF7)(V,"Style")?(0,e.rcV)(V):V;case e.WPN.SCRIPT:if((0,e.ZF7)(V,"Script"))return(0,e.rcV)(V);throw new e.wOt(5200,!1);case e.WPN.URL:return(0,e.ZF7)(V,"URL")?(0,e.rcV)(V):(0,e.$MX)(String(V));case e.WPN.RESOURCE_URL:if((0,e.ZF7)(V,"ResourceURL"))return(0,e.rcV)(V);throw new e.wOt(5201,!1);default:throw new e.wOt(5202,!1)}}bypassSecurityTrustHtml(P){return(0,e.Kcf)(P)}bypassSecurityTrustStyle(P){return(0,e.cWb)(P)}bypassSecurityTrustScript(P){return(0,e.UyX)(P)}bypassSecurityTrustUrl(P){return(0,e.osQ)(P)}bypassSecurityTrustResourceUrl(P){return(0,e.e5t)(P)}static#e=this.\u0275fac=function(V){return new(V||ie)(e.KVO(g.qQ))};static#t=this.\u0275prov=e.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"})}return ie})()},685:(Te,ne,C)=>{"use strict";C.d(ne,{nX:()=>zr,wF:()=>at,Kp:()=>dn,Ix:()=>qe,Wk:()=>en,wQ:()=>wn,iI:()=>Br,n3:()=>Wo});var g=C(4438),e=C(4402),$=C(6648),O=C(7673),R=C(4412),G=C(4572),re=C(9350),be=C(8793),he=C(1985),le=C(8750);function X(l){return new he.c(m=>{(0,le.Tg)(l()).subscribe(m)})}var te=C(1203),Y=C(8810),W=C(983),Ee=C(8359),ee=C(9974),Q=C(4360);function me(){return(0,ee.N)((l,m)=>{let p=null;l._refCount++;const E=(0,Q._)(m,void 0,void 0,void 0,()=>{if(!l||l._refCount<=0||0<--l._refCount)return void(p=null);const _=l._connection,x=p;p=null,_&&(!x||_===x)&&_.unsubscribe(),m.unsubscribe()});l.subscribe(E),E.closed||(p=l.connect())})}class Me extends he.c{constructor(m,p){super(),this.source=m,this.subjectFactory=p,this._subject=null,this._refCount=0,this._connection=null,(0,ee.S)(m)&&(this.lift=m.lift)}_subscribe(m){return this.getSubject().subscribe(m)}getSubject(){const m=this._subject;return(!m||m.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:m}=this;this._subject=this._connection=null,m?.unsubscribe()}connect(){let m=this._connection;if(!m){m=this._connection=new Ee.yU;const p=this.getSubject();m.add(this.source.subscribe((0,Q._)(p,void 0,()=>{this._teardown(),p.complete()},E=>{this._teardown(),p.error(E)},()=>this._teardown()))),m.closed&&(this._connection=null,m=Ee.yU.EMPTY)}return m}refCount(){return me()(this)}}var Ie=C(1413),de=C(177),se=C(6354),J=C(5558),Oe=C(6697),je=C(9172),Ae=C(5964),Ve=C(1397);function it(l){return(0,ee.N)((m,p)=>{let E=!1;m.subscribe((0,Q._)(p,_=>{E=!0,p.next(_)},()=>{E||p.next(l),p.complete()}))})}function gt(l=ze){return(0,ee.N)((m,p)=>{let E=!1;m.subscribe((0,Q._)(p,_=>{E=!0,p.next(_)},()=>E?p.complete():p.error(l())))})}function ze(){return new re.G}var kt=C(3669);function Ye(l,m){const p=arguments.length>=2;return E=>E.pipe(l?(0,Ae.p)((_,x)=>l(_,x,E)):kt.D,(0,Oe.s)(1),p?it(m):gt(()=>new re.G))}var pt=C(274),ht=C(8141),Pt=C(9437);function ae(l){return l<=0?()=>W.w:(0,ee.N)((m,p)=>{let E=[];m.subscribe((0,Q._)(p,_=>{E.push(_),l<E.length&&E.shift()},()=>{for(const _ of E)p.next(_);p.complete()},void 0,()=>{E=null}))})}var De=C(980),xe=C(6977),Qe=C(6365),Ct=C(345);const We="primary",tt=Symbol("RouteTitle");class Vt{constructor(m){this.params=m||{}}has(m){return Object.prototype.hasOwnProperty.call(this.params,m)}get(m){if(this.has(m)){const p=this.params[m];return Array.isArray(p)?p[0]:p}return null}getAll(m){if(this.has(m)){const p=this.params[m];return Array.isArray(p)?p:[p]}return[]}get keys(){return Object.keys(this.params)}}function Jt(l){return new Vt(l)}function ar(l,m,p){const E=p.path.split("/");if(E.length>l.length||"full"===p.pathMatch&&(m.hasChildren()||E.length<l.length))return null;const _={};for(let x=0;x<E.length;x++){const S=E[x],H=l[x];if(":"===S[0])_[S.substring(1)]=H;else if(S!==H.path)return null}return{consumed:l.slice(0,E.length),posParams:_}}function Qt(l,m){const p=l?jt(l):void 0,E=m?jt(m):void 0;if(!p||!E||p.length!=E.length)return!1;let _;for(let x=0;x<p.length;x++)if(_=p[x],!Tn(l[_],m[_]))return!1;return!0}function jt(l){return[...Object.keys(l),...Object.getOwnPropertySymbols(l)]}function Tn(l,m){if(Array.isArray(l)&&Array.isArray(m)){if(l.length!==m.length)return!1;const p=[...l].sort(),E=[...m].sort();return p.every((_,x)=>E[x]===_)}return l===m}function jn(l){return l.length>0?l[l.length-1]:null}function Re(l){return(0,e.A)(l)?l:(0,g.jNT)(l)?(0,$.H)(Promise.resolve(l)):(0,O.of)(l)}const br={exact:function _r(l,m,p){if(!Zt(l.segments,m.segments)||!Kn(l.segments,m.segments,p)||l.numberOfChildren!==m.numberOfChildren)return!1;for(const E in m.children)if(!l.children[E]||!_r(l.children[E],m.children[E],p))return!1;return!0},subset:Et},qr={exact:function Fi(l,m){return Qt(l,m)},subset:function St(l,m){return Object.keys(m).length<=Object.keys(l).length&&Object.keys(m).every(p=>Tn(l[p],m[p]))},ignored:()=>!0};function Tr(l,m,p){return br[p.paths](l.root,m.root,p.matrixParams)&&qr[p.queryParams](l.queryParams,m.queryParams)&&!("exact"===p.fragment&&l.fragment!==m.fragment)}function Et(l,m,p){return $r(l,m,m.segments,p)}function $r(l,m,p,E){if(l.segments.length>p.length){const _=l.segments.slice(0,p.length);return!(!Zt(_,p)||m.hasChildren()||!Kn(_,p,E))}if(l.segments.length===p.length){if(!Zt(l.segments,p)||!Kn(l.segments,p,E))return!1;for(const _ in m.children)if(!l.children[_]||!Et(l.children[_],m.children[_],E))return!1;return!0}{const _=p.slice(0,l.segments.length),x=p.slice(l.segments.length);return!!(Zt(l.segments,_)&&Kn(l.segments,_,E)&&l.children[We])&&$r(l.children[We],m,x,E)}}function Kn(l,m,p){return m.every((E,_)=>qr[p](l[_].parameters,E.parameters))}class mn{constructor(m=new Tt([],{}),p={},E=null){this.root=m,this.queryParams=p,this.fragment=E}get queryParamMap(){return this._queryParamMap??=Jt(this.queryParams),this._queryParamMap}toString(){return ct.serialize(this)}}class Tt{constructor(m,p){this.segments=m,this.children=p,this.parent=null,Object.values(p).forEach(E=>E.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ns(this)}}class Fn{constructor(m,p){this.path=m,this.parameters=p}get parameterMap(){return this._parameterMap??=Jt(this.parameters),this._parameterMap}toString(){return V(this)}}function Zt(l,m){return l.length===m.length&&l.every((p,E)=>p.path===m[E].path)}let _t=(()=>{class l{static#e=this.\u0275fac=function(E){return new(E||l)};static#t=this.\u0275prov=g.jDH({token:l,factory:()=>new jr,providedIn:"root"})}return l})();class jr{parse(m){const p=new Co(m);return new mn(p.parseRootSegment(),p.parseQueryParams(),p.parseFragment())}serialize(m){const p=`/${zt(m.root,!0)}`,E=function $e(l){const m=Object.entries(l).map(([p,E])=>Array.isArray(E)?E.map(_=>`${rs(p)}=${rs(_)}`).join("&"):`${rs(p)}=${rs(E)}`).filter(p=>p);return m.length?`?${m.join("&")}`:""}(m.queryParams);return`${p}${E}${"string"==typeof m.fragment?`#${function nr(l){return encodeURI(l)}(m.fragment)}`:""}`}}const ct=new jr;function ns(l){return l.segments.map(m=>V(m)).join("/")}function zt(l,m){if(!l.hasChildren())return ns(l);if(m){const p=l.children[We]?zt(l.children[We],!1):"",E=[];return Object.entries(l.children).forEach(([_,x])=>{_!==We&&E.push(`${_}:${zt(x,!1)}`)}),E.length>0?`${p}(${E.join("//")})`:p}{const p=function qt(l,m){let p=[];return Object.entries(l.children).forEach(([E,_])=>{E===We&&(p=p.concat(m(_,E)))}),Object.entries(l.children).forEach(([E,_])=>{E!==We&&(p=p.concat(m(_,E)))}),p}(l,(E,_)=>_===We?[zt(l.children[We],!1)]:[`${_}:${zt(E,!1)}`]);return 1===Object.keys(l.children).length&&null!=l.children[We]?`${ns(l)}/${p[0]}`:`${ns(l)}/(${p.join("//")})`}}function Hr(l){return encodeURIComponent(l).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rs(l){return Hr(l).replace(/%3B/gi,";")}function ie(l){return Hr(l).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function K(l){return decodeURIComponent(l)}function P(l){return K(l.replace(/\+/g,"%20"))}function V(l){return`${ie(l.path)}${function Fe(l){return Object.entries(l).map(([m,p])=>`;${ie(m)}=${ie(p)}`).join("")}(l.parameters)}`}const vt=/^[^\/()?;#]+/;function ft(l){const m=l.match(vt);return m?m[0]:""}const on=/^[^\/()?;=#]+/,Or=/^[^=?&#]+/,vs=/^[^&#]+/;class Co{constructor(m){this.url=m,this.remaining=m}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tt([],{}):new Tt([],this.parseChildren())}parseQueryParams(){const m={};if(this.consumeOptional("?"))do{this.parseQueryParam(m)}while(this.consumeOptional("&"));return m}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const m=[];for(this.peekStartsWith("(")||m.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),m.push(this.parseSegment());let p={};this.peekStartsWith("/(")&&(this.capture("/"),p=this.parseParens(!0));let E={};return this.peekStartsWith("(")&&(E=this.parseParens(!1)),(m.length>0||Object.keys(p).length>0)&&(E[We]=new Tt(m,p)),E}parseSegment(){const m=ft(this.remaining);if(""===m&&this.peekStartsWith(";"))throw new g.wOt(4009,!1);return this.capture(m),new Fn(K(m),this.parseMatrixParams())}parseMatrixParams(){const m={};for(;this.consumeOptional(";");)this.parseParam(m);return m}parseParam(m){const p=function Pn(l){const m=l.match(on);return m?m[0]:""}(this.remaining);if(!p)return;this.capture(p);let E="";if(this.consumeOptional("=")){const _=ft(this.remaining);_&&(E=_,this.capture(E))}m[K(p)]=K(E)}parseQueryParam(m){const p=function cr(l){const m=l.match(Or);return m?m[0]:""}(this.remaining);if(!p)return;this.capture(p);let E="";if(this.consumeOptional("=")){const S=function $i(l){const m=l.match(vs);return m?m[0]:""}(this.remaining);S&&(E=S,this.capture(E))}const _=P(p),x=P(E);if(m.hasOwnProperty(_)){let S=m[_];Array.isArray(S)||(S=[S],m[_]=S),S.push(x)}else m[_]=x}parseParens(m){const p={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const E=ft(this.remaining),_=this.remaining[E.length];if("/"!==_&&")"!==_&&";"!==_)throw new g.wOt(4010,!1);let x;E.indexOf(":")>-1?(x=E.slice(0,E.indexOf(":")),this.capture(x),this.capture(":")):m&&(x=We);const S=this.parseChildren();p[x]=1===Object.keys(S).length?S[We]:new Tt([],S),this.consumeOptional("//")}return p}peekStartsWith(m){return this.remaining.startsWith(m)}consumeOptional(m){return!!this.peekStartsWith(m)&&(this.remaining=this.remaining.substring(m.length),!0)}capture(m){if(!this.consumeOptional(m))throw new g.wOt(4011,!1)}}function ys(l){return l.segments.length>0?new Tt([],{[We]:l}):l}function kn(l){const m={};for(const[E,_]of Object.entries(l.children)){const x=kn(_);if(E===We&&0===x.segments.length&&x.hasChildren())for(const[S,H]of Object.entries(x.children))m[S]=H;else(x.segments.length>0||x.hasChildren())&&(m[E]=x)}return function rt(l){if(1===l.numberOfChildren&&l.children[We]){const m=l.children[We];return new Tt(l.segments.concat(m.segments),m.children)}return l}(new Tt(l.segments,m))}function ur(l){return l instanceof mn}function lr(l){let m;const _=ys(function p(x){const S={};for(const B of x.children){const ve=p(B);S[B.outlet]=ve}const H=new Tt(x.url,S);return x===l&&(m=H),H}(l.root));return m??_}function $s(l,m,p,E){let _=l;for(;_.parent;)_=_.parent;if(0===m.length)return bs(_,_,_,p,E);const x=function kr(l){if("string"==typeof l[0]&&1===l.length&&"/"===l[0])return new Rn(!0,0,l);let m=0,p=!1;const E=l.reduce((_,x,S)=>{if("object"==typeof x&&null!=x){if(x.outlets){const H={};return Object.entries(x.outlets).forEach(([B,ve])=>{H[B]="string"==typeof ve?ve.split("/"):ve}),[..._,{outlets:H}]}if(x.segmentPath)return[..._,x.segmentPath]}return"string"!=typeof x?[..._,x]:0===S?(x.split("/").forEach((H,B)=>{0==B&&"."===H||(0==B&&""===H?p=!0:".."===H?m++:""!=H&&_.push(H))}),_):[..._,x]},[]);return new Rn(p,m,E)}(m);if(x.toRoot())return bs(_,_,new Tt([],{}),p,E);const S=function Do(l,m,p){if(l.isAbsolute)return new dr(m,!0,0);if(!p)return new dr(m,!1,NaN);if(null===p.parent)return new dr(p,!0,0);const E=wr(l.commands[0])?0:1;return function _s(l,m,p){let E=l,_=m,x=p;for(;x>_;){if(x-=_,E=E.parent,!E)throw new g.wOt(4005,!1);_=E.segments.length}return new dr(E,!1,_-x)}(p,p.segments.length-1+E,l.numberOfDoubleDots)}(x,_,l),H=S.processChildren?os(S.segmentGroup,S.index,x.commands):Cr(S.segmentGroup,S.index,x.commands);return bs(_,S.segmentGroup,H,p,E)}function wr(l){return"object"==typeof l&&null!=l&&!l.outlets&&!l.segmentPath}function Ot(l){return"object"==typeof l&&null!=l&&l.outlets}function bs(l,m,p,E,_){let S,x={};E&&Object.entries(E).forEach(([B,ve])=>{x[B]=Array.isArray(ve)?ve.map(Le=>`${Le}`):`${ve}`}),S=l===m?p:ss(l,m,p);const H=ys(kn(S));return new mn(H,x,_)}function ss(l,m,p){const E={};return Object.entries(l.children).forEach(([_,x])=>{E[_]=x===m?p:ss(x,m,p)}),new Tt(l.segments,E)}class Rn{constructor(m,p,E){if(this.isAbsolute=m,this.numberOfDoubleDots=p,this.commands=E,m&&E.length>0&&wr(E[0]))throw new g.wOt(4003,!1);const _=E.find(Ot);if(_&&_!==jn(E))throw new g.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class dr{constructor(m,p,E){this.segmentGroup=m,this.processChildren=p,this.index=E}}function Cr(l,m,p){if(l??=new Tt([],{}),0===l.segments.length&&l.hasChildren())return os(l,m,p);const E=function io(l,m,p){let E=0,_=m;const x={match:!1,pathIndex:0,commandIndex:0};for(;_<l.segments.length;){if(E>=p.length)return x;const S=l.segments[_],H=p[E];if(Ot(H))break;const B=`${H}`,ve=E<p.length-1?p[E+1]:null;if(_>0&&void 0===B)break;if(B&&ve&&"object"==typeof ve&&void 0===ve.outlets){if(!U(B,ve,S))return x;E+=2}else{if(!U(B,{},S))return x;E++}_++}return{match:!0,pathIndex:_,commandIndex:E}}(l,m,p),_=p.slice(E.commandIndex);if(E.match&&E.pathIndex<l.segments.length){const x=new Tt(l.segments.slice(0,E.pathIndex),{});return x.children[We]=new Tt(l.segments.slice(E.pathIndex),l.children),os(x,0,_)}return E.match&&0===_.length?new Tt(l.segments,{}):E.match&&!l.hasChildren()?lt(l,m,p):E.match?os(l,0,_):lt(l,m,p)}function os(l,m,p){if(0===p.length)return new Tt(l.segments,{});{const E=function ws(l){return Ot(l[0])?l[0].outlets:{[We]:l}}(p),_={};if(Object.keys(E).some(x=>x!==We)&&l.children[We]&&1===l.numberOfChildren&&0===l.children[We].segments.length){const x=os(l.children[We],m,p);return new Tt(l.segments,x.children)}return Object.entries(E).forEach(([x,S])=>{"string"==typeof S&&(S=[S]),null!==S&&(_[x]=Cr(l.children[x],m,S))}),Object.entries(l.children).forEach(([x,S])=>{void 0===E[x]&&(_[x]=S)}),new Tt(l.segments,_)}}function lt(l,m,p){const E=l.segments.slice(0,m);let _=0;for(;_<p.length;){const x=p[_];if(Ot(x)){const B=j(x.outlets);return new Tt(E,B)}if(0===_&&wr(p[0])){E.push(new Fn(l.segments[m].path,q(p[0]))),_++;continue}const S=Ot(x)?x.outlets[We]:`${x}`,H=_<p.length-1?p[_+1]:null;S&&H&&wr(H)?(E.push(new Fn(S,q(H))),_+=2):(E.push(new Fn(S,{})),_++)}return new Tt(E,{})}function j(l){const m={};return Object.entries(l).forEach(([p,E])=>{"string"==typeof E&&(E=[E]),null!==E&&(m[p]=lt(new Tt([],{}),0,E))}),m}function q(l){const m={};return Object.entries(l).forEach(([p,E])=>m[p]=`${E}`),m}function U(l,m,p){return l==p.path&&Qt(m,p.parameters)}const ce="imperative";var pe=function(l){return l[l.NavigationStart=0]="NavigationStart",l[l.NavigationEnd=1]="NavigationEnd",l[l.NavigationCancel=2]="NavigationCancel",l[l.NavigationError=3]="NavigationError",l[l.RoutesRecognized=4]="RoutesRecognized",l[l.ResolveStart=5]="ResolveStart",l[l.ResolveEnd=6]="ResolveEnd",l[l.GuardsCheckStart=7]="GuardsCheckStart",l[l.GuardsCheckEnd=8]="GuardsCheckEnd",l[l.RouteConfigLoadStart=9]="RouteConfigLoadStart",l[l.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",l[l.ChildActivationStart=11]="ChildActivationStart",l[l.ChildActivationEnd=12]="ChildActivationEnd",l[l.ActivationStart=13]="ActivationStart",l[l.ActivationEnd=14]="ActivationEnd",l[l.Scroll=15]="Scroll",l[l.NavigationSkipped=16]="NavigationSkipped",l}(pe||{});class Se{constructor(m,p){this.id=m,this.url=p}}class Ne extends Se{constructor(m,p,E="imperative",_=null){super(m,p),this.type=pe.NavigationStart,this.navigationTrigger=E,this.restoredState=_}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class at extends Se{constructor(m,p,E){super(m,p),this.urlAfterRedirects=E,this.type=pe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Je=function(l){return l[l.Redirect=0]="Redirect",l[l.SupersededByNewNavigation=1]="SupersededByNewNavigation",l[l.NoDataFromResolver=2]="NoDataFromResolver",l[l.GuardRejected=3]="GuardRejected",l}(Je||{}),tn=function(l){return l[l.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",l[l.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",l}(tn||{});class cn extends Se{constructor(m,p,E,_){super(m,p),this.reason=E,this.code=_,this.type=pe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $t extends Se{constructor(m,p,E,_){super(m,p),this.reason=E,this.code=_,this.type=pe.NavigationSkipped}}class an extends Se{constructor(m,p,E,_){super(m,p),this.error=E,this.target=_,this.type=pe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nn extends Se{constructor(m,p,E,_){super(m,p),this.urlAfterRedirects=E,this.state=_,this.type=pe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bn extends Se{constructor(m,p,E,_){super(m,p),this.urlAfterRedirects=E,this.state=_,this.type=pe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class At extends Se{constructor(m,p,E,_,x){super(m,p),this.urlAfterRedirects=E,this.state=_,this.shouldActivate=x,this.type=pe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Dt extends Se{constructor(m,p,E,_){super(m,p),this.urlAfterRedirects=E,this.state=_,this.type=pe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _n extends Se{constructor(m,p,E,_){super(m,p),this.urlAfterRedirects=E,this.state=_,this.type=pe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class st{constructor(m){this.route=m,this.type=pe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ke{constructor(m){this.route=m,this.type=pe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Dr{constructor(m){this.snapshot=m,this.type=pe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ks{constructor(m){this.snapshot=m,this.type=pe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pr{constructor(m){this.snapshot=m,this.type=pe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hs{constructor(m){this.snapshot=m,this.type=pe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ao{constructor(m,p,E){this.routerEvent=m,this.position=p,this.anchor=E,this.type=pe.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class zs{}class wt{constructor(m,p){this.url=m,this.navigationBehaviorOptions=p}}function rr(l){return l.outlet||We}function Cs(l){if(!l)return null;if(l.routeConfig?._injector)return l.routeConfig._injector;for(let m=l.parent;m;m=m.parent){const p=m.routeConfig;if(p?._loadedInjector)return p._loadedInjector;if(p?._injector)return p._injector}return null}class Rr{get injector(){return Cs(this.route?.snapshot)??this.rootInjector}set injector(m){}constructor(m){this.rootInjector=m,this.outlet=null,this.route=null,this.children=new is(this.rootInjector),this.attachRef=null}}let is=(()=>{class l{constructor(p){this.rootInjector=p,this.contexts=new Map}onChildOutletCreated(p,E){const _=this.getOrCreateContext(p);_.outlet=E,this.contexts.set(p,_)}onChildOutletDestroyed(p){const E=this.getContext(p);E&&(E.outlet=null,E.attachRef=null)}onOutletDeactivated(){const p=this.contexts;return this.contexts=new Map,p}onOutletReAttached(p){this.contexts=p}getOrCreateContext(p){let E=this.getContext(p);return E||(E=new Rr(this.rootInjector),this.contexts.set(p,E)),E}getContext(p){return this.contexts.get(p)||null}static#e=this.\u0275fac=function(E){return new(E||l)(g.KVO(g.uvJ))};static#t=this.\u0275prov=g.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();class pr{constructor(m){this._root=m}get root(){return this._root.value}parent(m){const p=this.pathFromRoot(m);return p.length>1?p[p.length-2]:null}children(m){const p=lo(m,this._root);return p?p.children.map(E=>E.value):[]}firstChild(m){const p=lo(m,this._root);return p&&p.children.length>0?p.children[0].value:null}siblings(m){const p=vn(m,this._root);return p.length<2?[]:p[p.length-2].children.map(_=>_.value).filter(_=>_!==m)}pathFromRoot(m){return vn(m,this._root).map(p=>p.value)}}function lo(l,m){if(l===m.value)return m;for(const p of m.children){const E=lo(l,p);if(E)return E}return null}function vn(l,m){if(l===m.value)return[m];for(const p of m.children){const E=vn(l,p);if(E.length)return E.unshift(m),E}return[]}class Ir{constructor(m,p){this.value=m,this.children=p}toString(){return`TreeNode(${this.value})`}}function Ze(l){const m={};return l&&l.children.forEach(p=>m[p.value.outlet]=p),m}class as extends pr{constructor(m,p){super(m),this.snapshot=p,Ks(this,m)}toString(){return this.snapshot.toString()}}function Ds(l){const m=function po(l){const x=new fo([],{},{},"",{},We,l,null,{});return new wi("",new Ir(x,[]))}(l),p=new R.t([new Fn("",{})]),E=new R.t({}),_=new R.t({}),x=new R.t({}),S=new R.t(""),H=new zr(p,E,x,S,_,We,l,m.root);return H.snapshot=m.root,new as(new Ir(H,[]),m)}class zr{constructor(m,p,E,_,x,S,H,B){this.urlSubject=m,this.paramsSubject=p,this.queryParamsSubject=E,this.fragmentSubject=_,this.dataSubject=x,this.outlet=S,this.component=H,this._futureSnapshot=B,this.title=this.dataSubject?.pipe((0,se.T)(ve=>ve[tt]))??(0,O.of)(void 0),this.url=m,this.params=p,this.queryParams=E,this.fragment=_,this.data=x}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,se.T)(m=>Jt(m))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,se.T)(m=>Jt(m))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ws(l,m,p="emptyOnly"){let E;const{routeConfig:_}=l;return E=null===m||"always"!==p&&""!==_?.path&&(m.component||m.routeConfig?.loadComponent)?{params:{...l.params},data:{...l.data},resolve:{...l.data,...l._resolvedData??{}}}:{params:{...m.params,...l.params},data:{...m.data,...l.data},resolve:{...l.data,...m.data,..._?.data,...l._resolvedData}},_&&Mr(_)&&(E.resolve[tt]=_.title),E}class fo{get title(){return this.data?.[tt]}constructor(m,p,E,_,x,S,H,B,ve){this.url=m,this.params=p,this.queryParams=E,this.fragment=_,this.data=x,this.outlet=S,this.component=H,this.routeConfig=B,this._resolve=ve}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Jt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Jt(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(E=>E.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wi extends pr{constructor(m,p){super(p),this.url=m,Ks(this,p)}toString(){return ki(this._root)}}function Ks(l,m){m.value._routerState=l,m.children.forEach(p=>Ks(l,p))}function ki(l){const m=l.children.length>0?` { ${l.children.map(ki).join(", ")} } `:"";return`${l.value}${m}`}function Is(l){if(l.snapshot){const m=l.snapshot,p=l._futureSnapshot;l.snapshot=p,Qt(m.queryParams,p.queryParams)||l.queryParamsSubject.next(p.queryParams),m.fragment!==p.fragment&&l.fragmentSubject.next(p.fragment),Qt(m.params,p.params)||l.paramsSubject.next(p.params),function Nt(l,m){if(l.length!==m.length)return!1;for(let p=0;p<l.length;++p)if(!Qt(l[p],m[p]))return!1;return!0}(m.url,p.url)||l.urlSubject.next(p.url),Qt(m.data,p.data)||l.dataSubject.next(p.data)}else l.snapshot=l._futureSnapshot,l.dataSubject.next(l._futureSnapshot.data)}function Mo(l,m){const p=Qt(l.params,m.params)&&function On(l,m){return Zt(l,m)&&l.every((p,E)=>Qt(p.parameters,m[E].parameters))}(l.url,m.url);return p&&!(!l.parent!=!m.parent)&&(!l.parent||Mo(l.parent,m.parent))}function Mr(l){return"string"==typeof l.title||null===l.title}let Wo=(()=>{class l{constructor(){this.activated=null,this._activatedRoute=null,this.name=We,this.activateEvents=new g.bkB,this.deactivateEvents=new g.bkB,this.attachEvents=new g.bkB,this.detachEvents=new g.bkB,this.parentContexts=(0,g.WQX)(is),this.location=(0,g.WQX)(g.c1b),this.changeDetector=(0,g.WQX)(g.gRc),this.inputBinder=(0,g.WQX)(Nr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(p){if(p.name){const{firstChange:E,previousValue:_}=p.name;if(E)return;this.isTrackedInParentContexts(_)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(_)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(p){return this.parentContexts.getContext(p)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const p=this.parentContexts.getContext(this.name);p?.route&&(p.attachRef?this.attach(p.attachRef,p.route):this.activateWith(p.route,p.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.wOt(4012,!1);this.location.detach();const p=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(p.instance),p}attach(p,E){this.activated=p,this._activatedRoute=E,this.location.insert(p.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(p.instance)}deactivate(){if(this.activated){const p=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(p)}}activateWith(p,E){if(this.isActivated)throw new g.wOt(4013,!1);this._activatedRoute=p;const _=this.location,S=p.snapshot.component,H=this.parentContexts.getOrCreateContext(this.name).children,B=new Dn(p,H,_.injector);this.activated=_.createComponent(S,{index:_.length,injector:B,environmentInjector:E}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(E){return new(E||l)};static#t=this.\u0275dir=g.FsC({type:l,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[g.OA$]})}return l})();class Dn{__ngOutletInjector(m){return new Dn(this.route,this.childContexts,m)}constructor(m,p,E){this.route=m,this.childContexts=p,this.parent=E}get(m,p){return m===zr?this.route:m===is?this.childContexts:this.parent.get(m,p)}}const Nr=new g.nKC("");let Ao=(()=>{class l{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(p){this.unsubscribeFromRouteData(p),this.subscribeToRouteData(p)}unsubscribeFromRouteData(p){this.outletDataSubscriptions.get(p)?.unsubscribe(),this.outletDataSubscriptions.delete(p)}subscribeToRouteData(p){const{activatedRoute:E}=p,_=(0,G.z)([E.queryParams,E.params,E.data]).pipe((0,J.n)(([x,S,H],B)=>(H={...x,...S,...H},0===B?(0,O.of)(H):Promise.resolve(H)))).subscribe(x=>{if(!p.isActivated||!p.activatedComponentRef||p.activatedRoute!==E||null===E.component)return void this.unsubscribeFromRouteData(p);const S=(0,g.HJs)(E.component);if(S)for(const{templateName:H}of S.inputs)p.activatedComponentRef.setInput(H,x[H]);else this.unsubscribeFromRouteData(p)});this.outletDataSubscriptions.set(p,_)}static#e=this.\u0275fac=function(E){return new(E||l)};static#t=this.\u0275prov=g.jDH({token:l,factory:l.\u0275fac})}return l})();function cs(l,m,p){if(p&&l.shouldReuseRoute(m.value,p.value.snapshot)){const E=p.value;E._futureSnapshot=m.value;const _=function Ms(l,m,p){return m.children.map(E=>{for(const _ of p.children)if(l.shouldReuseRoute(E.value,_.value.snapshot))return cs(l,E,_);return cs(l,E)})}(l,m,p);return new Ir(E,_)}{if(l.shouldAttach(m.value)){const x=l.retrieve(m.value);if(null!==x){const S=x.route;return S.value._futureSnapshot=m.value,S.children=m.children.map(H=>cs(l,H)),S}}const E=function Ci(l){return new zr(new R.t(l.url),new R.t(l.params),new R.t(l.queryParams),new R.t(l.fragment),new R.t(l.data),l.outlet,l.component,l)}(m.value),_=m.children.map(x=>cs(l,x));return new Ir(E,_)}}class Ko{constructor(m,p){this.redirectTo=m,this.navigationBehaviorOptions=p}}const Ar="ngNavigationCancelingError";function Nn(l,m){const{redirectTo:p,navigationBehaviorOptions:E}=ur(m)?{redirectTo:m,navigationBehaviorOptions:void 0}:m,_=As(!1,Je.Redirect);return _.url=p,_.navigationBehaviorOptions=E,_}function As(l,m){const p=new Error(`NavigationCancelingError: ${l||""}`);return p[Ar]=!0,p.cancellationCode=m,p}function Hi(l){return!!l&&l[Ar]}class Lt{constructor(m,p,E,_,x){this.routeReuseStrategy=m,this.futureState=p,this.currState=E,this.forwardEvent=_,this.inputBindingEnabled=x}activate(m){const p=this.futureState._root,E=this.currState?this.currState._root:null;this.deactivateChildRoutes(p,E,m),Is(this.futureState.root),this.activateChildRoutes(p,E,m)}deactivateChildRoutes(m,p,E){const _=Ze(p);m.children.forEach(x=>{const S=x.value.outlet;this.deactivateRoutes(x,_[S],E),delete _[S]}),Object.values(_).forEach(x=>{this.deactivateRouteAndItsChildren(x,E)})}deactivateRoutes(m,p,E){const _=m.value,x=p?p.value:null;if(_===x)if(_.component){const S=E.getContext(_.outlet);S&&this.deactivateChildRoutes(m,p,S.children)}else this.deactivateChildRoutes(m,p,E);else x&&this.deactivateRouteAndItsChildren(p,E)}deactivateRouteAndItsChildren(m,p){m.value.component&&this.routeReuseStrategy.shouldDetach(m.value.snapshot)?this.detachAndStoreRouteSubtree(m,p):this.deactivateRouteAndOutlet(m,p)}detachAndStoreRouteSubtree(m,p){const E=p.getContext(m.value.outlet),_=E&&m.value.component?E.children:p,x=Ze(m);for(const S of Object.values(x))this.deactivateRouteAndItsChildren(S,_);if(E&&E.outlet){const S=E.outlet.detach(),H=E.children.onOutletDeactivated();this.routeReuseStrategy.store(m.value.snapshot,{componentRef:S,route:m,contexts:H})}}deactivateRouteAndOutlet(m,p){const E=p.getContext(m.value.outlet),_=E&&m.value.component?E.children:p,x=Ze(m);for(const S of Object.values(x))this.deactivateRouteAndItsChildren(S,_);E&&(E.outlet&&(E.outlet.deactivate(),E.children.onOutletDeactivated()),E.attachRef=null,E.route=null)}activateChildRoutes(m,p,E){const _=Ze(p);m.children.forEach(x=>{this.activateRoutes(x,_[x.value.outlet],E),this.forwardEvent(new Hs(x.value.snapshot))}),m.children.length&&this.forwardEvent(new ks(m.value.snapshot))}activateRoutes(m,p,E){const _=m.value,x=p?p.value:null;if(Is(_),_===x)if(_.component){const S=E.getOrCreateContext(_.outlet);this.activateChildRoutes(m,p,S.children)}else this.activateChildRoutes(m,p,E);else if(_.component){const S=E.getOrCreateContext(_.outlet);if(this.routeReuseStrategy.shouldAttach(_.snapshot)){const H=this.routeReuseStrategy.retrieve(_.snapshot);this.routeReuseStrategy.store(_.snapshot,null),S.children.onOutletReAttached(H.contexts),S.attachRef=H.componentRef,S.route=H.route.value,S.outlet&&S.outlet.attach(H.componentRef,H.route.value),Is(H.route.value),this.activateChildRoutes(m,null,S.children)}else S.attachRef=null,S.route=_,S.outlet&&S.outlet.activateWith(_,S.injector),this.activateChildRoutes(m,null,S.children)}else this.activateChildRoutes(m,null,E)}}class Lr{constructor(m){this.path=m,this.route=this.path[this.path.length-1]}}class us{constructor(m,p){this.component=m,this.route=p}}function So(l,m,p){const E=l._root;return hr(E,m?m._root:null,p,[E.value])}function Gr(l,m){const p=Symbol(),E=m.get(l,p);return E===p?"function"!=typeof l||(0,g.LfX)(l)?m.get(l):l:E}function hr(l,m,p,E,_={canDeactivateChecks:[],canActivateChecks:[]}){const x=Ze(m);return l.children.forEach(S=>{(function In(l,m,p,E,_={canDeactivateChecks:[],canActivateChecks:[]}){const x=l.value,S=m?m.value:null,H=p?p.getContext(l.value.outlet):null;if(S&&x.routeConfig===S.routeConfig){const B=function sr(l,m,p){if("function"==typeof p)return p(l,m);switch(p){case"pathParamsChange":return!Zt(l.url,m.url);case"pathParamsOrQueryParamsChange":return!Zt(l.url,m.url)||!Qt(l.queryParams,m.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mo(l,m)||!Qt(l.queryParams,m.queryParams);default:return!Mo(l,m)}}(S,x,x.routeConfig.runGuardsAndResolvers);B?_.canActivateChecks.push(new Lr(E)):(x.data=S.data,x._resolvedData=S._resolvedData),hr(l,m,x.component?H?H.children:null:p,E,_),B&&H&&H.outlet&&H.outlet.isActivated&&_.canDeactivateChecks.push(new us(H.outlet.component,S))}else S&&Wr(m,H,_),_.canActivateChecks.push(new Lr(E)),hr(l,null,x.component?H?H.children:null:p,E,_)})(S,x[S.value.outlet],p,E.concat([S.value]),_),delete x[S.value.outlet]}),Object.entries(x).forEach(([S,H])=>Wr(H,p.getContext(S),_)),_}function Wr(l,m,p){const E=Ze(l),_=l.value;Object.entries(E).forEach(([x,S])=>{Wr(S,_.component?m?m.children.getContext(x):null:m,p)}),p.canDeactivateChecks.push(new us(_.component&&m&&m.outlet&&m.outlet.isActivated?m.outlet.component:null,_))}function Ss(l){return"function"==typeof l}function To(l){return l instanceof re.G||"EmptyError"===l?.name}const Gt=Symbol("INITIAL_VALUE");function Hn(){return(0,J.n)(l=>(0,G.z)(l.map(m=>m.pipe((0,Oe.s)(1),(0,je.Z)(Gt)))).pipe((0,se.T)(m=>{for(const p of m)if(!0!==p){if(p===Gt)return Gt;if(!1===p||Qo(p))return p}return!0}),(0,Ae.p)(m=>m!==Gt),(0,Oe.s)(1)))}function Qo(l){return ur(l)||l instanceof Ko}function xr(l){return(0,te.F)((0,ht.M)(m=>{if("boolean"!=typeof m)throw Nn(0,m)}),(0,se.T)(m=>!0===m))}class go{constructor(m){this.segmentGroup=m||null}}class ls extends Error{constructor(m){super(),this.urlTree=m}}function mr(l){return(0,Y.$)(new go(l))}class Mn{constructor(m,p){this.urlSerializer=m,this.urlTree=p}lineralizeSegments(m,p){let E=[],_=p.root;for(;;){if(E=E.concat(_.segments),0===_.numberOfChildren)return(0,O.of)(E);if(_.numberOfChildren>1||!_.children[We])return(0,Y.$)(new g.wOt(4e3,!1));_=_.children[We]}}applyRedirectCommands(m,p,E,_,x){if("string"!=typeof p){const H=p,{queryParams:B,fragment:ve,routeConfig:Le,url:He,outlet:dt,params:rn,data:xn,title:Gn}=_,gn=(0,g.N4e)(x,()=>H({params:rn,data:xn,queryParams:B,fragment:ve,routeConfig:Le,url:He,outlet:dt,title:Gn}));if(gn instanceof mn)throw new ls(gn);p=gn}const S=this.applyRedirectCreateUrlTree(p,this.urlSerializer.parse(p),m,E);if("/"===p[0])throw new ls(S);return S}applyRedirectCreateUrlTree(m,p,E,_){const x=this.createSegmentGroup(m,p.root,E,_);return new mn(x,this.createQueryParams(p.queryParams,this.urlTree.queryParams),p.fragment)}createQueryParams(m,p){const E={};return Object.entries(m).forEach(([_,x])=>{if("string"==typeof x&&":"===x[0]){const H=x.substring(1);E[_]=p[H]}else E[_]=x}),E}createSegmentGroup(m,p,E,_){const x=this.createSegments(m,p.segments,E,_);let S={};return Object.entries(p.children).forEach(([H,B])=>{S[H]=this.createSegmentGroup(m,B,E,_)}),new Tt(x,S)}createSegments(m,p,E,_){return p.map(x=>":"===x.path[0]?this.findPosParam(m,x,_):this.findOrReturn(x,E))}findPosParam(m,p,E){const _=E[p.path.substring(1)];if(!_)throw new g.wOt(4001,!1);return _}findOrReturn(m,p){let E=0;for(const _ of p){if(_.path===m.path)return p.splice(E),_;E++}return m}}const Un={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zs(l,m,p,E,_){const x=mt(l,m,p);return x.matched?(E=function vi(l,m){return l.providers&&!l._injector&&(l._injector=(0,g.Ol2)(l.providers,m,`Route: ${l.path}`)),l._injector??m}(m,E),function Ki(l,m,p,E){const _=m.canMatch;if(!_||0===_.length)return(0,O.of)(!0);const x=_.map(S=>{const H=Gr(S,l);return Re(function Kr(l){return l&&Ss(l.canMatch)}(H)?H.canMatch(m,p):(0,g.N4e)(l,()=>H(m,p)))});return(0,O.of)(x).pipe(Hn(),xr())}(E,m,p).pipe((0,se.T)(S=>!0===S?x:{...Un}))):(0,O.of)(x)}function mt(l,m,p){if("**"===m.path)return function jo(l){return{matched:!0,parameters:l.length>0?jn(l).parameters:{},consumedSegments:l,remainingSegments:[],positionalParamSegments:{}}}(p);if(""===m.path)return"full"===m.pathMatch&&(l.hasChildren()||p.length>0)?{...Un}:{matched:!0,consumedSegments:[],remainingSegments:p,parameters:{},positionalParamSegments:{}};const _=(m.matcher||ar)(p,l,m);if(!_)return{...Un};const x={};Object.entries(_.posParams??{}).forEach(([H,B])=>{x[H]=B.path});const S=_.consumed.length>0?{...x,..._.consumed[_.consumed.length-1].parameters}:x;return{matched:!0,consumedSegments:_.consumed,remainingSegments:p.slice(_.consumed.length),parameters:S,positionalParamSegments:_.posParams??{}}}function Eo(l,m,p,E){return p.length>0&&function ds(l,m,p){return p.some(E=>ei(l,m,E)&&rr(E)!==We)}(l,p,E)?{segmentGroup:new Tt(m,Ai(E,new Tt(p,l.children))),slicedSegments:[]}:0===p.length&&function Ur(l,m,p){return p.some(E=>ei(l,m,E))}(l,p,E)?{segmentGroup:new Tt(l.segments,Fo(l,p,E,l.children)),slicedSegments:p}:{segmentGroup:new Tt(l.segments,l.children),slicedSegments:p}}function Fo(l,m,p,E){const _={};for(const x of p)if(ei(l,m,x)&&!E[rr(x)]){const S=new Tt([],{});_[rr(x)]=S}return{...E,..._}}function Ai(l,m){const p={};p[We]=m;for(const E of l)if(""===E.path&&rr(E)!==We){const _=new Tt([],{});p[rr(E)]=_}return p}function ei(l,m,p){return(!(l.hasChildren()||m.length>0)||"full"!==p.pathMatch)&&""===p.path}class xi{}class Si{constructor(m,p,E,_,x,S,H){this.injector=m,this.configLoader=p,this.rootComponentType=E,this.config=_,this.urlTree=x,this.paramsInheritanceStrategy=S,this.urlSerializer=H,this.applyRedirects=new Mn(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(m){return new g.wOt(4002,`'${m.segmentGroup}'`)}recognize(){const m=Eo(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(m).pipe((0,se.T)(({children:p,rootSnapshot:E})=>{const _=new Ir(E,p),x=new wi("",_),S=function oo(l,m,p=null,E=null){return $s(lr(l),m,p,E)}(E,[],this.urlTree.queryParams,this.urlTree.fragment);return S.queryParams=this.urlTree.queryParams,x.url=this.urlSerializer.serialize(S),{state:x,tree:S}}))}match(m){const p=new fo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),We,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,m,We,p).pipe((0,se.T)(E=>({children:E,rootSnapshot:p})),(0,Pt.W)(E=>{if(E instanceof ls)return this.urlTree=E.urlTree,this.match(E.urlTree.root);throw E instanceof go?this.noMatchError(E):E}))}processSegmentGroup(m,p,E,_,x){return 0===E.segments.length&&E.hasChildren()?this.processChildren(m,p,E,x):this.processSegment(m,p,E,E.segments,_,!0,x).pipe((0,se.T)(S=>S instanceof Ir?[S]:[]))}processChildren(m,p,E,_){const x=[];for(const S of Object.keys(E.children))"primary"===S?x.unshift(S):x.push(S);return(0,$.H)(x).pipe((0,pt.H)(S=>{const H=E.children[S],B=function uo(l,m){const p=l.filter(E=>rr(E)===m);return p.push(...l.filter(E=>rr(E)!==m)),p}(p,S);return this.processSegmentGroup(m,B,H,S,_)}),function oe(l,m){return(0,ee.N)(function Kt(l,m,p,E,_){return(x,S)=>{let H=p,B=m,ve=0;x.subscribe((0,Q._)(S,Le=>{const He=ve++;B=H?l(B,Le,He):(H=!0,Le),E&&S.next(B)},_&&(()=>{H&&S.next(B),S.complete()})))}}(l,m,arguments.length>=2,!0))}((S,H)=>(S.push(...H),S)),it(null),function fe(l,m){const p=arguments.length>=2;return E=>E.pipe(l?(0,Ae.p)((_,x)=>l(_,x,E)):kt.D,ae(1),p?it(m):gt(()=>new re.G))}(),(0,Ve.Z)(S=>{if(null===S)return mr(E);const H=vo(S);return function Ji(l){l.sort((m,p)=>m.value.outlet===We?-1:p.value.outlet===We?1:m.value.outlet.localeCompare(p.value.outlet))}(H),(0,O.of)(H)}))}processSegment(m,p,E,_,x,S,H){return(0,$.H)(p).pipe((0,pt.H)(B=>this.processSegmentAgainstRoute(B._injector??m,p,B,E,_,x,S,H).pipe((0,Pt.W)(ve=>{if(ve instanceof go)return(0,O.of)(null);throw ve}))),Ye(B=>!!B),(0,Pt.W)(B=>{if(To(B))return function ti(l,m,p){return 0===m.length&&!l.children[p]}(E,_,x)?(0,O.of)(new xi):mr(E);throw B}))}processSegmentAgainstRoute(m,p,E,_,x,S,H,B){return rr(E)===S||S!==We&&ei(_,x,E)?void 0===E.redirectTo?this.matchSegmentAgainstRoute(m,_,E,x,S,B):this.allowRedirects&&H?this.expandSegmentAgainstRouteUsingRedirect(m,_,p,E,x,S,B):mr(_):mr(_)}expandSegmentAgainstRouteUsingRedirect(m,p,E,_,x,S,H){const{matched:B,parameters:ve,consumedSegments:Le,positionalParamSegments:He,remainingSegments:dt}=mt(p,_,x);if(!B)return mr(p);"string"==typeof _.redirectTo&&"/"===_.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const rn=new fo(x,ve,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jr(_),rr(_),_.component??_._loadedComponent??null,_,Qi(_)),xn=Ws(rn,H,this.paramsInheritanceStrategy);rn.params=Object.freeze(xn.params),rn.data=Object.freeze(xn.data);const Gn=this.applyRedirects.applyRedirectCommands(Le,_.redirectTo,He,rn,m);return this.applyRedirects.lineralizeSegments(_,Gn).pipe((0,Ve.Z)(gn=>this.processSegment(m,E,p,gn.concat(dt),S,!1,H)))}matchSegmentAgainstRoute(m,p,E,_,x,S){const H=Zs(p,E,_,m);return"**"===E.path&&(p.children={}),H.pipe((0,J.n)(B=>B.matched?this.getChildConfig(m=E._injector??m,E,_).pipe((0,J.n)(({routes:ve})=>{const Le=E._loadedInjector??m,{parameters:He,consumedSegments:dt,remainingSegments:rn}=B,xn=new fo(dt,He,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jr(E),rr(E),E.component??E._loadedComponent??null,E,Qi(E)),Gn=Ws(xn,S,this.paramsInheritanceStrategy);xn.params=Object.freeze(Gn.params),xn.data=Object.freeze(Gn.data);const{segmentGroup:gn,slicedSegments:Wn}=Eo(p,dt,rn,ve);if(0===Wn.length&&gn.hasChildren())return this.processChildren(Le,ve,gn,xn).pipe((0,se.T)(Ls=>new Ir(xn,Ls)));if(0===ve.length&&0===Wn.length)return(0,O.of)(new Ir(xn,[]));const _o=rr(E)===x;return this.processSegment(Le,ve,gn,Wn,_o?We:x,!0,xn).pipe((0,se.T)(Ls=>new Ir(xn,Ls instanceof Ir?[Ls]:[])))})):mr(p)))}getChildConfig(m,p,E){return p.children?(0,O.of)({routes:p.children,injector:m}):p.loadChildren?void 0!==p._loadedRoutes?(0,O.of)({routes:p._loadedRoutes,injector:p._loadedInjector}):function da(l,m,p,E){const _=m.canLoad;if(void 0===_||0===_.length)return(0,O.of)(!0);const x=_.map(S=>{const H=Gr(S,l);return Re(function Js(l){return l&&Ss(l.canLoad)}(H)?H.canLoad(m,p):(0,g.N4e)(l,()=>H(m,p)))});return(0,O.of)(x).pipe(Hn(),xr())}(m,p,E).pipe((0,Ve.Z)(_=>_?this.configLoader.loadChildren(m,p).pipe((0,ht.M)(x=>{p._loadedRoutes=x.routes,p._loadedInjector=x.injector})):function Ft(){return(0,Y.$)(As(!1,Je.GuardRejected))}())):(0,O.of)({routes:[],injector:m})}}function ni(l){const m=l.value.routeConfig;return m&&""===m.path}function vo(l){const m=[],p=new Set;for(const E of l){if(!ni(E)){m.push(E);continue}const _=m.find(x=>E.value.routeConfig===x.value.routeConfig);void 0!==_?(_.children.push(...E.children),p.add(_)):m.push(E)}for(const E of p){const _=vo(E.children);m.push(new Ir(E.value,_))}return m.filter(E=>!p.has(E))}function Jr(l){return l.data||{}}function Qi(l){return l.resolve||{}}function ji(l){const m=l.children.map(p=>ji(p)).flat();return[l,...m]}function fs(l){return(0,J.n)(m=>{const p=l(m);return p?(0,$.H)(p).pipe((0,se.T)(()=>m)):(0,O.of)(m)})}let yo=(()=>{class l{buildTitle(p){let E,_=p.root;for(;void 0!==_;)E=this.getResolvedTitleForRoute(_)??E,_=_.children.find(x=>x.outlet===We);return E}getResolvedTitleForRoute(p){return p.data[tt]}static#e=this.\u0275fac=function(E){return new(E||l)};static#t=this.\u0275prov=g.jDH({token:l,factory:()=>(0,g.WQX)(fa),providedIn:"root"})}return l})(),fa=(()=>{class l extends yo{constructor(p){super(),this.title=p}updateTitle(p){const E=this.buildTitle(p);void 0!==E&&this.title.setTitle(E)}static#e=this.\u0275fac=function(E){return new(E||l)(g.KVO(Ct.hE))};static#t=this.\u0275prov=g.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const js=new g.nKC("",{providedIn:"root",factory:()=>({})});let ii=(()=>{class l{static#e=this.\u0275fac=function(E){return new(E||l)};static#t=this.\u0275cmp=g.VBU({type:l,selectors:[["ng-component"]],standalone:!0,features:[g.aNF],decls:1,vars:0,template:function(E,_){1&E&&g.nrm(0,"router-outlet")},dependencies:[Wo],encapsulation:2})}return l})();function Qr(l){const m=l.children&&l.children.map(Qr),p=m?{...l,children:m}:{...l};return!p.component&&!p.loadComponent&&(m||p.loadChildren)&&p.outlet&&p.outlet!==We&&(p.component=ii),p}const Os=new g.nKC("");let Oo=(()=>{class l{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,g.WQX)(g.Ql9)}loadComponent(p){if(this.componentLoaders.get(p))return this.componentLoaders.get(p);if(p._loadedComponent)return(0,O.of)(p._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(p);const E=Re(p.loadComponent()).pipe((0,se.T)(ha),(0,ht.M)(x=>{this.onLoadEndListener&&this.onLoadEndListener(p),p._loadedComponent=x}),(0,De.j)(()=>{this.componentLoaders.delete(p)})),_=new Me(E,()=>new Ie.B).pipe(me());return this.componentLoaders.set(p,_),_}loadChildren(p,E){if(this.childrenLoaders.get(E))return this.childrenLoaders.get(E);if(E._loadedRoutes)return(0,O.of)({routes:E._loadedRoutes,injector:E._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(E);const x=function ai(l,m,p,E){return Re(l.loadChildren()).pipe((0,se.T)(ha),(0,Ve.Z)(_=>_ instanceof g.Co$||Array.isArray(_)?(0,O.of)(_):(0,$.H)(m.compileModuleAsync(_))),(0,se.T)(_=>{E&&E(l);let x,S,H=!1;return Array.isArray(_)?(S=_,!0):(x=_.create(p).injector,S=x.get(Os,[],{optional:!0,self:!0}).flat()),{routes:S.map(Qr),injector:x}}))}(E,this.compiler,p,this.onLoadEndListener).pipe((0,De.j)(()=>{this.childrenLoaders.delete(E)})),S=new Me(x,()=>new Ie.B).pipe(me());return this.childrenLoaders.set(E,S),S}static#e=this.\u0275fac=function(E){return new(E||l)};static#t=this.\u0275prov=g.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function ha(l){return function Xs(l){return l&&"object"==typeof l&&"default"in l}(l)?l.default:l}let bo=(()=>{class l{static#e=this.\u0275fac=function(E){return new(E||l)};static#t=this.\u0275prov=g.jDH({token:l,factory:()=>(0,g.WQX)(Ps),providedIn:"root"})}return l})(),Ps=(()=>{class l{shouldProcessUrl(p){return!0}extract(p){return p}merge(p,E){return p}static#e=this.\u0275fac=function(E){return new(E||l)};static#t=this.\u0275prov=g.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const Ys=new g.nKC(""),Zi=new g.nKC("");function F(l,m,p){const E=l.get(Zi),_=l.get(de.qQ);return l.get(g.SKi).runOutsideAngular(()=>{if(!_.startViewTransition||E.skipNextTransition)return E.skipNextTransition=!1,new Promise(ve=>setTimeout(ve));let x;const S=new Promise(ve=>{x=ve}),H=_.startViewTransition(()=>(x(),function M(l){return new Promise(m=>{(0,g.mal)({read:()=>setTimeout(m)},{injector:l})})}(l))),{onViewTransitionCreated:B}=E;return B&&(0,g.N4e)(l,()=>B({transition:H,from:m,to:p})),S})}const w=new g.nKC("");let I=(()=>{class l{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ie.B,this.transitionAbortSubject=new Ie.B,this.configLoader=(0,g.WQX)(Oo),this.environmentInjector=(0,g.WQX)(g.uvJ),this.urlSerializer=(0,g.WQX)(_t),this.rootContexts=(0,g.WQX)(is),this.location=(0,g.WQX)(de.aZ),this.inputBindingEnabled=null!==(0,g.WQX)(Nr,{optional:!0}),this.titleStrategy=(0,g.WQX)(yo),this.options=(0,g.WQX)(js,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,g.WQX)(bo),this.createViewTransition=(0,g.WQX)(Ys,{optional:!0}),this.navigationErrorHandler=(0,g.WQX)(w,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,O.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=_=>this.events.next(new Ke(_)),this.configLoader.onLoadStartListener=_=>this.events.next(new st(_))}complete(){this.transitions?.complete()}handleNavigationRequest(p){const E=++this.navigationId;this.transitions?.next({...this.transitions.value,...p,id:E})}setupNavigations(p,E,_){return this.transitions=new R.t({id:0,currentUrlTree:E,currentRawUrl:E,extractedUrl:this.urlHandlingStrategy.extract(E),urlAfterRedirects:this.urlHandlingStrategy.extract(E),rawUrl:E,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ce,restoredState:null,currentSnapshot:_.snapshot,targetSnapshot:null,currentRouterState:_,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ae.p)(x=>0!==x.id),(0,se.T)(x=>({...x,extractedUrl:this.urlHandlingStrategy.extract(x.rawUrl)})),(0,J.n)(x=>{let S=!1,H=!1;return(0,O.of)(x).pipe((0,J.n)(B=>{if(this.navigationId>x.id)return this.cancelNavigationTransition(x,"",Je.SupersededByNewNavigation),W.w;this.currentTransition=x,this.currentNavigation={id:B.id,initialUrl:B.rawUrl,extractedUrl:B.extractedUrl,targetBrowserUrl:"string"==typeof B.extras.browserUrl?this.urlSerializer.parse(B.extras.browserUrl):B.extras.browserUrl,trigger:B.source,extras:B.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const ve=!p.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!ve&&"reload"!==(B.extras.onSameUrlNavigation??p.onSameUrlNavigation)){const He="";return this.events.next(new $t(B.id,this.urlSerializer.serialize(B.rawUrl),He,tn.IgnoredSameUrlNavigation)),B.resolve(!1),W.w}if(this.urlHandlingStrategy.shouldProcessUrl(B.rawUrl))return(0,O.of)(B).pipe((0,J.n)(He=>{const dt=this.transitions?.getValue();return this.events.next(new Ne(He.id,this.urlSerializer.serialize(He.extractedUrl),He.source,He.restoredState)),dt!==this.transitions?.getValue()?W.w:Promise.resolve(He)}),function ri(l,m,p,E,_,x){return(0,Ve.Z)(S=>function Ts(l,m,p,E,_,x,S="emptyOnly"){return new Si(l,m,p,E,_,S,x).recognize()}(l,m,p,E,S.extractedUrl,_,x).pipe((0,se.T)(({state:H,tree:B})=>({...S,targetSnapshot:H,urlAfterRedirects:B}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,p.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,ht.M)(He=>{x.targetSnapshot=He.targetSnapshot,x.urlAfterRedirects=He.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:He.urlAfterRedirects};const dt=new nn(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects),He.targetSnapshot);this.events.next(dt)}));if(ve&&this.urlHandlingStrategy.shouldProcessUrl(B.currentRawUrl)){const{id:He,extractedUrl:dt,source:rn,restoredState:xn,extras:Gn}=B,gn=new Ne(He,this.urlSerializer.serialize(dt),rn,xn);this.events.next(gn);const Wn=Ds(this.rootComponentType).snapshot;return this.currentTransition=x={...B,targetSnapshot:Wn,urlAfterRedirects:dt,extras:{...Gn,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=dt,(0,O.of)(x)}{const He="";return this.events.next(new $t(B.id,this.urlSerializer.serialize(B.extractedUrl),He,tn.IgnoredByUrlHandlingStrategy)),B.resolve(!1),W.w}}),(0,ht.M)(B=>{const ve=new bn(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects),B.targetSnapshot);this.events.next(ve)}),(0,se.T)(B=>(this.currentTransition=x={...B,guards:So(B.targetSnapshot,B.currentSnapshot,this.rootContexts)},x)),function Ii(l,m){return(0,Ve.Z)(p=>{const{targetSnapshot:E,currentSnapshot:_,guards:{canActivateChecks:x,canDeactivateChecks:S}}=p;return 0===S.length&&0===x.length?(0,O.of)({...p,guardsResult:!0}):function Ra(l,m,p,E){return(0,$.H)(l).pipe((0,Ve.Z)(_=>function la(l,m,p,E,_){const x=m&&m.routeConfig?m.routeConfig.canDeactivate:null;if(!x||0===x.length)return(0,O.of)(!0);const S=x.map(H=>{const B=Cs(m)??_,ve=Gr(H,B);return Re(function zi(l){return l&&Ss(l.canDeactivate)}(ve)?ve.canDeactivate(l,m,p,E):(0,g.N4e)(B,()=>ve(l,m,p,E))).pipe(Ye())});return(0,O.of)(S).pipe(Hn())}(_.component,_.route,p,m,E)),Ye(_=>!0!==_,!0))}(S,E,_,l).pipe((0,Ve.Z)(H=>H&&function mo(l){return"boolean"==typeof l}(H)?function Zo(l,m,p,E){return(0,$.H)(m).pipe((0,pt.H)(_=>(0,be.x)(function Wi(l,m){return null!==l&&m&&m(new Dr(l)),(0,O.of)(!0)}(_.route.parent,E),function Gi(l,m){return null!==l&&m&&m(new Pr(l)),(0,O.of)(!0)}(_.route,E),function ua(l,m,p){const E=m[m.length-1],x=m.slice(0,m.length-1).reverse().map(S=>function ho(l){const m=l.routeConfig?l.routeConfig.canActivateChild:null;return m&&0!==m.length?{node:l,guards:m}:null}(S)).filter(S=>null!==S).map(S=>X(()=>{const H=S.guards.map(B=>{const ve=Cs(S.node)??p,Le=Gr(B,ve);return Re(function Qs(l){return l&&Ss(l.canActivateChild)}(Le)?Le.canActivateChild(E,l):(0,g.N4e)(ve,()=>Le(E,l))).pipe(Ye())});return(0,O.of)(H).pipe(Hn())}));return(0,O.of)(x).pipe(Hn())}(l,_.path,p),function Mi(l,m,p){const E=m.routeConfig?m.routeConfig.canActivate:null;if(!E||0===E.length)return(0,O.of)(!0);const _=E.map(x=>X(()=>{const S=Cs(m)??p,H=Gr(x,S);return Re(function Jo(l){return l&&Ss(l.canActivate)}(H)?H.canActivate(m,l):(0,g.N4e)(S,()=>H(m,l))).pipe(Ye())}));return(0,O.of)(_).pipe(Hn())}(l,_.route,p))),Ye(_=>!0!==_,!0))}(E,x,l,m):(0,O.of)(H)),(0,se.T)(H=>({...p,guardsResult:H})))})}(this.environmentInjector,B=>this.events.next(B)),(0,ht.M)(B=>{if(x.guardsResult=B.guardsResult,B.guardsResult&&"boolean"!=typeof B.guardsResult)throw Nn(0,B.guardsResult);const ve=new At(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects),B.targetSnapshot,!!B.guardsResult);this.events.next(ve)}),(0,Ae.p)(B=>!!B.guardsResult||(this.cancelNavigationTransition(B,"",Je.GuardRejected),!1)),fs(B=>{if(B.guards.canActivateChecks.length)return(0,O.of)(B).pipe((0,ht.M)(ve=>{const Le=new Dt(ve.id,this.urlSerializer.serialize(ve.extractedUrl),this.urlSerializer.serialize(ve.urlAfterRedirects),ve.targetSnapshot);this.events.next(Le)}),(0,J.n)(ve=>{let Le=!1;return(0,O.of)(ve).pipe(function si(l,m){return(0,Ve.Z)(p=>{const{targetSnapshot:E,guards:{canActivateChecks:_}}=p;if(!_.length)return(0,O.of)(p);const x=new Set(_.map(B=>B.route)),S=new Set;for(const B of x)if(!S.has(B))for(const ve of ji(B))S.add(ve);let H=0;return(0,$.H)(S).pipe((0,pt.H)(B=>x.has(B)?function ps(l,m,p,E){const _=l.routeConfig,x=l._resolve;return void 0!==_?.title&&!Mr(_)&&(x[tt]=_.title),function oi(l,m,p,E){const _=jt(l);if(0===_.length)return(0,O.of)({});const x={};return(0,$.H)(_).pipe((0,Ve.Z)(S=>function hn(l,m,p,E){const _=Cs(m)??E,x=Gr(l,_);return Re(x.resolve?x.resolve(m,p):(0,g.N4e)(_,()=>x(m,p)))}(l[S],m,p,E).pipe(Ye(),(0,ht.M)(H=>{if(H instanceof Ko)throw Nn(new jr,H);x[S]=H}))),ae(1),function ge(l){return(0,se.T)(()=>l)}(x),(0,Pt.W)(S=>To(S)?W.w:(0,Y.$)(S)))}(x,l,m,E).pipe((0,se.T)(S=>(l._resolvedData=S,l.data=Ws(l,l.parent,p).resolve,null)))}(B,E,l,m):(B.data=Ws(B,B.parent,l).resolve,(0,O.of)(void 0))),(0,ht.M)(()=>H++),ae(1),(0,Ve.Z)(B=>H===S.size?(0,O.of)(p):W.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,ht.M)({next:()=>Le=!0,complete:()=>{Le||this.cancelNavigationTransition(ve,"",Je.NoDataFromResolver)}}))}),(0,ht.M)(ve=>{const Le=new _n(ve.id,this.urlSerializer.serialize(ve.extractedUrl),this.urlSerializer.serialize(ve.urlAfterRedirects),ve.targetSnapshot);this.events.next(Le)}))}),fs(B=>{const ve=Le=>{const He=[];Le.routeConfig?.loadComponent&&!Le.routeConfig._loadedComponent&&He.push(this.configLoader.loadComponent(Le.routeConfig).pipe((0,ht.M)(dt=>{Le.component=dt}),(0,se.T)(()=>{})));for(const dt of Le.children)He.push(...ve(dt));return He};return(0,G.z)(ve(B.targetSnapshot.root)).pipe(it(null),(0,Oe.s)(1))}),fs(()=>this.afterPreactivation()),(0,J.n)(()=>{const{currentSnapshot:B,targetSnapshot:ve}=x,Le=this.createViewTransition?.(this.environmentInjector,B.root,ve.root);return Le?(0,$.H)(Le).pipe((0,se.T)(()=>x)):(0,O.of)(x)}),(0,se.T)(B=>{const ve=function xo(l,m,p){const E=cs(l,m._root,p?p._root:void 0);return new as(E,m)}(p.routeReuseStrategy,B.targetSnapshot,B.currentRouterState);return this.currentTransition=x={...B,targetRouterState:ve},this.currentNavigation.targetRouterState=ve,x}),(0,ht.M)(()=>{this.events.next(new zs)}),((l,m,p,E)=>(0,se.T)(_=>(new Lt(m,_.targetRouterState,_.currentRouterState,p,E).activate(l),_)))(this.rootContexts,p.routeReuseStrategy,B=>this.events.next(B),this.inputBindingEnabled),(0,Oe.s)(1),(0,ht.M)({next:B=>{S=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new at(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects))),this.titleStrategy?.updateTitle(B.targetRouterState.snapshot),B.resolve(!0)},complete:()=>{S=!0}}),(0,xe.Q)(this.transitionAbortSubject.pipe((0,ht.M)(B=>{throw B}))),(0,De.j)(()=>{!S&&!H&&this.cancelNavigationTransition(x,"",Je.SupersededByNewNavigation),this.currentTransition?.id===x.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,Pt.W)(B=>{if(H=!0,Hi(B))this.events.next(new cn(x.id,this.urlSerializer.serialize(x.extractedUrl),B.message,B.cancellationCode)),function xs(l){return Hi(l)&&ur(l.url)}(B)?this.events.next(new wt(B.url,B.navigationBehaviorOptions)):x.resolve(!1);else{const ve=new an(x.id,this.urlSerializer.serialize(x.extractedUrl),B,x.targetSnapshot??void 0);try{const Le=(0,g.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(ve));if(Le instanceof Ko){const{message:He,cancellationCode:dt}=Nn(0,Le);this.events.next(new cn(x.id,this.urlSerializer.serialize(x.extractedUrl),He,dt)),this.events.next(new wt(Le.redirectTo,Le.navigationBehaviorOptions))}else{this.events.next(ve);const He=p.errorHandler(B);x.resolve(!!He)}}catch(Le){this.options.resolveNavigationPromiseOnError?x.resolve(!1):x.reject(Le)}}return W.w}))}))}cancelNavigationTransition(p,E,_){const x=new cn(p.id,this.urlSerializer.serialize(p.extractedUrl),E,_);this.events.next(x),p.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const p=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),E=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return p.toString()!==E?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(E){return new(E||l)};static#t=this.\u0275prov=g.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function N(l){return l!==ce}let ue=(()=>{class l{static#e=this.\u0275fac=function(E){return new(E||l)};static#t=this.\u0275prov=g.jDH({token:l,factory:()=>(0,g.WQX)(Ge),providedIn:"root"})}return l})();class ke{shouldDetach(m){return!1}store(m,p){}shouldAttach(m){return!1}retrieve(m){return null}shouldReuseRoute(m,p){return m.routeConfig===p.routeConfig}}let Ge=(()=>{class l extends ke{static#e=this.\u0275fac=(()=>{let p;return function(_){return(p||(p=g.xGo(l)))(_||l)}})();static#t=this.\u0275prov=g.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Ut=(()=>{class l{static#e=this.\u0275fac=function(E){return new(E||l)};static#t=this.\u0275prov=g.jDH({token:l,factory:()=>(0,g.WQX)(un),providedIn:"root"})}return l})(),un=(()=>{class l extends Ut{constructor(){super(...arguments),this.location=(0,g.WQX)(de.aZ),this.urlSerializer=(0,g.WQX)(_t),this.options=(0,g.WQX)(js,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,g.WQX)(bo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new mn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ds(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(p){return this.location.subscribe(E=>{"popstate"===E.type&&p(E.url,E.state)})}handleRouterEvent(p,E){if(p instanceof Ne)this.stateMemento=this.createStateMemento();else if(p instanceof $t)this.rawUrlTree=E.initialUrl;else if(p instanceof nn){if("eager"===this.urlUpdateStrategy&&!E.extras.skipLocationChange){const _=this.urlHandlingStrategy.merge(E.finalUrl,E.initialUrl);this.setBrowserUrl(E.targetBrowserUrl??_,E)}}else p instanceof zs?(this.currentUrlTree=E.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(E.finalUrl,E.initialUrl),this.routerState=E.targetRouterState,"deferred"===this.urlUpdateStrategy&&!E.extras.skipLocationChange&&this.setBrowserUrl(E.targetBrowserUrl??this.rawUrlTree,E)):p instanceof cn&&(p.code===Je.GuardRejected||p.code===Je.NoDataFromResolver)?this.restoreHistory(E):p instanceof an?this.restoreHistory(E,!0):p instanceof at&&(this.lastSuccessfulId=p.id,this.currentPageId=this.browserPageId)}setBrowserUrl(p,E){const _=p instanceof mn?this.urlSerializer.serialize(p):p;if(this.location.isCurrentPathEqualTo(_)||E.extras.replaceUrl){const S={...E.extras.state,...this.generateNgRouterState(E.id,this.browserPageId)};this.location.replaceState(_,"",S)}else{const x={...E.extras.state,...this.generateNgRouterState(E.id,this.browserPageId+1)};this.location.go(_,"",x)}}restoreHistory(p,E=!1){if("computed"===this.canceledNavigationResolution){const x=this.currentPageId-this.browserPageId;0!==x?this.location.historyGo(x):this.currentUrlTree===p.finalUrl&&0===x&&(this.resetState(p),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(E&&this.resetState(p),this.resetUrlToCurrentUrlTree())}resetState(p){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,p.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(p,E){return"computed"===this.canceledNavigationResolution?{navigationId:p,\u0275routerPageId:E}:{navigationId:p}}static#e=this.\u0275fac=(()=>{let p;return function(_){return(p||(p=g.xGo(l)))(_||l)}})();static#t=this.\u0275prov=g.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var Ht=function(l){return l[l.COMPLETE=0]="COMPLETE",l[l.FAILED=1]="FAILED",l[l.REDIRECTING=2]="REDIRECTING",l}(Ht||{});function It(l,m){l.events.pipe((0,Ae.p)(p=>p instanceof at||p instanceof cn||p instanceof an||p instanceof $t),(0,se.T)(p=>p instanceof at||p instanceof $t?Ht.COMPLETE:p instanceof cn&&(p.code===Je.Redirect||p.code===Je.SupersededByNewNavigation)?Ht.REDIRECTING:Ht.FAILED),(0,Ae.p)(p=>p!==Ht.REDIRECTING),(0,Oe.s)(1)).subscribe(()=>{m()})}function ln(l){throw l}const ot={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ce={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qe=(()=>{class l{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,g.WQX)(g.H3F),this.stateManager=(0,g.WQX)(Ut),this.options=(0,g.WQX)(js,{optional:!0})||{},this.pendingTasks=(0,g.WQX)(g.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,g.WQX)(I),this.urlSerializer=(0,g.WQX)(_t),this.location=(0,g.WQX)(de.aZ),this.urlHandlingStrategy=(0,g.WQX)(bo),this._events=new Ie.B,this.errorHandler=this.options.errorHandler||ln,this.navigated=!1,this.routeReuseStrategy=(0,g.WQX)(ue),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,g.WQX)(Os,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,g.WQX)(Nr,{optional:!0}),this.eventsSubscription=new Ee.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:p=>{this.console.warn(p)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const p=this.navigationTransitions.events.subscribe(E=>{try{const _=this.navigationTransitions.currentTransition,x=this.navigationTransitions.currentNavigation;if(null!==_&&null!==x)if(this.stateManager.handleRouterEvent(E,x),E instanceof cn&&E.code!==Je.Redirect&&E.code!==Je.SupersededByNewNavigation)this.navigated=!0;else if(E instanceof at)this.navigated=!0;else if(E instanceof wt){const S=E.navigationBehaviorOptions,H=this.urlHandlingStrategy.merge(E.url,_.currentRawUrl),B={browserUrl:_.extras.browserUrl,info:_.extras.info,skipLocationChange:_.extras.skipLocationChange,replaceUrl:_.extras.replaceUrl||"eager"===this.urlUpdateStrategy||N(_.source),...S};this.scheduleNavigation(H,ce,null,B,{resolve:_.resolve,reject:_.reject,promise:_.promise})}(function Bn(l){return!(l instanceof zs||l instanceof wt)})(E)&&this._events.next(E)}catch(_){this.navigationTransitions.transitionAbortSubject.next(_)}});this.eventsSubscription.add(p)}resetRootComponentType(p){this.routerState.root.component=p,this.navigationTransitions.rootComponentType=p}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ce,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((p,E)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(p,"popstate",E)},0)})}navigateToSyncWithBrowser(p,E,_){const x={replaceUrl:!0},S=_?.navigationId?_:null;if(_){const B={..._};delete B.navigationId,delete B.\u0275routerPageId,0!==Object.keys(B).length&&(x.state=B)}const H=this.parseUrl(p);this.scheduleNavigation(H,E,S,x)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(p){this.config=p.map(Qr),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(p,E={}){const{relativeTo:_,queryParams:x,fragment:S,queryParamsHandling:H,preserveFragment:B}=E,ve=B?this.currentUrlTree.fragment:S;let He,Le=null;switch(H??this.options.defaultQueryParamsHandling){case"merge":Le={...this.currentUrlTree.queryParams,...x};break;case"preserve":Le=this.currentUrlTree.queryParams;break;default:Le=x||null}null!==Le&&(Le=this.removeEmptyProps(Le));try{He=lr(_?_.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof p[0]||"/"!==p[0][0])&&(p=[]),He=this.currentUrlTree.root}return $s(He,p,Le,ve??null)}navigateByUrl(p,E={skipLocationChange:!1}){const _=ur(p)?p:this.parseUrl(p),x=this.urlHandlingStrategy.merge(_,this.rawUrlTree);return this.scheduleNavigation(x,ce,null,E)}navigate(p,E={skipLocationChange:!1}){return function Xt(l){for(let m=0;m<l.length;m++)if(null==l[m])throw new g.wOt(4008,!1)}(p),this.navigateByUrl(this.createUrlTree(p,E),E)}serializeUrl(p){return this.urlSerializer.serialize(p)}parseUrl(p){try{return this.urlSerializer.parse(p)}catch{return this.urlSerializer.parse("/")}}isActive(p,E){let _;if(_=!0===E?{...ot}:!1===E?{...Ce}:E,ur(p))return Tr(this.currentUrlTree,p,_);const x=this.parseUrl(p);return Tr(this.currentUrlTree,x,_)}removeEmptyProps(p){return Object.entries(p).reduce((E,[_,x])=>(null!=x&&(E[_]=x),E),{})}scheduleNavigation(p,E,_,x,S){if(this.disposed)return Promise.resolve(!1);let H,B,ve;S?(H=S.resolve,B=S.reject,ve=S.promise):ve=new Promise((He,dt)=>{H=He,B=dt});const Le=this.pendingTasks.add();return It(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Le))}),this.navigationTransitions.handleNavigationRequest({source:E,restoredState:_,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:p,extras:x,resolve:H,reject:B,promise:ve,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ve.catch(He=>Promise.reject(He))}static#e=this.\u0275fac=function(E){return new(E||l)};static#t=this.\u0275prov=g.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),en=(()=>{class l{constructor(p,E,_,x,S,H){this.router=p,this.route=E,this.tabIndexAttribute=_,this.renderer=x,this.el=S,this.locationStrategy=H,this.href=null,this.onChanges=new Ie.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const B=S.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===B||"area"===B,this.isAnchorElement?this.subscription=p.events.subscribe(ve=>{ve instanceof at&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(p){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",p)}ngOnChanges(p){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(p){null==p?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=ur(p)||Array.isArray(p)?p:[p],this.setTabIndexIfNotOnNativeEl("0"))}onClick(p,E,_,x,S){const H=this.urlTree;return!!(null===H||this.isAnchorElement&&(0!==p||E||_||x||S||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(H,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const p=this.urlTree;this.href=null!==p&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(p)):null;const E=null===this.href?null:(0,g.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",E)}applyAttributeValue(p,E){const _=this.renderer,x=this.el.nativeElement;null!==E?_.setAttribute(x,p,E):_.removeAttribute(x,p)}get urlTree(){return null===this.routerLinkInput?null:ur(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(E){return new(E||l)(g.rXU(qe),g.rXU(zr),g.kS0("tabindex"),g.rXU(g.sFG),g.rXU(g.aKT),g.rXU(de.hb))};static#t=this.\u0275dir=g.FsC({type:l,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(E,_){1&E&&g.bIt("click",function(S){return _.onClick(S.button,S.ctrlKey,S.shiftKey,S.altKey,S.metaKey)}),2&E&&g.BMQ("target",_.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",g.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",g.L39],replaceUrl:[2,"replaceUrl","replaceUrl",g.L39],routerLink:"routerLink"},standalone:!0,features:[g.GFd,g.OA$]})}return l})(),wn=(()=>{class l{get isActive(){return this._isActive}constructor(p,E,_,x,S){this.router=p,this.element=E,this.renderer=_,this.cdr=x,this.link=S,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new g.bkB,this.routerEventsSubscription=p.events.subscribe(H=>{H instanceof at&&this.update()})}ngAfterContentInit(){(0,O.of)(this.links.changes,(0,O.of)(null)).pipe((0,Qe.U)()).subscribe(p=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const p=[...this.links.toArray(),this.link].filter(E=>!!E).map(E=>E.onChanges);this.linkInputChangesSubscription=(0,$.H)(p).pipe((0,Qe.U)()).subscribe(E=>{this._isActive!==this.isLinkActive(this.router)(E)&&this.update()})}set routerLinkActive(p){const E=Array.isArray(p)?p:p.split(" ");this.classes=E.filter(_=>!!_)}ngOnChanges(p){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const p=this.hasActiveLinks();this.classes.forEach(E=>{p?this.renderer.addClass(this.element.nativeElement,E):this.renderer.removeClass(this.element.nativeElement,E)}),p&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==p&&(this._isActive=p,this.cdr.markForCheck(),this.isActiveChange.emit(p))})}isLinkActive(p){const E=function Jn(l){return!!l.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return _=>{const x=_.urlTree;return!!x&&p.isActive(x,E)}}hasActiveLinks(){const p=this.isLinkActive(this.router);return this.link&&p(this.link)||this.links.some(p)}static#e=this.\u0275fac=function(E){return new(E||l)(g.rXU(qe),g.rXU(g.aKT),g.rXU(g.sFG),g.rXU(g.gRc),g.rXU(en,8))};static#t=this.\u0275dir=g.FsC({type:l,selectors:[["","routerLinkActive",""]],contentQueries:function(E,_,x){if(1&E&&g.wni(x,en,5),2&E){let S;g.mGM(S=g.lsd())&&(_.links=S)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[g.OA$]})}return l})();class xt{}let dn=(()=>{class l{preload(p,E){return E().pipe((0,Pt.W)(()=>(0,O.of)(null)))}static#e=this.\u0275fac=function(E){return new(E||l)};static#t=this.\u0275prov=g.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),Xe=(()=>{class l{constructor(p,E,_,x,S){this.router=p,this.injector=_,this.preloadingStrategy=x,this.loader=S}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ae.p)(p=>p instanceof at),(0,pt.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(p,E){const _=[];for(const x of E){x.providers&&!x._injector&&(x._injector=(0,g.Ol2)(x.providers,p,`Route: ${x.path}`));const S=x._injector??p,H=x._loadedInjector??S;(x.loadChildren&&!x._loadedRoutes&&void 0===x.canLoad||x.loadComponent&&!x._loadedComponent)&&_.push(this.preloadConfig(S,x)),(x.children||x._loadedRoutes)&&_.push(this.processRoutes(H,x.children??x._loadedRoutes))}return(0,$.H)(_).pipe((0,Qe.U)())}preloadConfig(p,E){return this.preloadingStrategy.preload(E,()=>{let _;_=E.loadChildren&&void 0===E.canLoad?this.loader.loadChildren(p,E):(0,O.of)(null);const x=_.pipe((0,Ve.Z)(S=>null===S?(0,O.of)(void 0):(E._loadedRoutes=S.routes,E._loadedInjector=S.injector,this.processRoutes(S.injector??p,S.routes))));if(E.loadComponent&&!E._loadedComponent){const S=this.loader.loadComponent(E);return(0,$.H)([x,S]).pipe((0,Qe.U)())}return x})}static#e=this.\u0275fac=function(E){return new(E||l)(g.KVO(qe),g.KVO(g.Ql9),g.KVO(g.uvJ),g.KVO(xt),g.KVO(Oo))};static#t=this.\u0275prov=g.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();const zn=new g.nKC("");let Ln=(()=>{class l{constructor(p,E,_,x,S={}){this.urlSerializer=p,this.transitions=E,this.viewportScroller=_,this.zone=x,this.options=S,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},S.scrollPositionRestoration||="disabled",S.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(p=>{p instanceof Ne?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=p.navigationTrigger,this.restoredId=p.restoredState?p.restoredState.navigationId:0):p instanceof at?(this.lastId=p.id,this.scheduleScrollEvent(p,this.urlSerializer.parse(p.urlAfterRedirects).fragment)):p instanceof $t&&p.code===tn.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(p,this.urlSerializer.parse(p.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(p=>{p instanceof ao&&(p.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(p.position):p.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(p.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(p,E){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ao(p,"popstate"===this.lastSource?this.store[this.restoredId]:null,E))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(E){g.QTQ()};static#t=this.\u0275prov=g.jDH({token:l,factory:l.\u0275fac})}return l})();function An(l,m){return{\u0275kind:l,\u0275providers:m}}function Zr(){const l=(0,g.WQX)(g.zZn);return m=>{const p=l.get(g.o8S);if(m!==p.components[0])return;const E=l.get(qe),_=l.get(Po);1===l.get(Vn)&&E.initialNavigation(),l.get(Xr,null,g.$GK.Optional)?.setUpPreloading(),l.get(zn,null,g.$GK.Optional)?.init(),E.resetRootComponentType(p.componentTypes[0]),_.closed||(_.next(),_.complete(),_.unsubscribe())}}const Po=new g.nKC("",{factory:()=>new Ie.B}),Vn=new g.nKC("",{providedIn:"root",factory:()=>1}),Xr=new g.nKC("");function ci(l){return An(0,[{provide:Xr,useExisting:Xe},{provide:xt,useExisting:l}])}function or(l){return An(9,[{provide:Ys,useValue:F},{provide:Zi,useValue:{skipNextTransition:!!l?.skipInitialTransition,...l}}])}const Ns=new g.nKC("ROUTER_FORROOT_GUARD"),Oi=[de.aZ,{provide:_t,useClass:jr},qe,is,{provide:zr,useFactory:function pn(l){return l.routerState.root},deps:[qe]},Oo,[]];let Br=(()=>{class l{constructor(p){}static forRoot(p,E){return{ngModule:l,providers:[Oi,[],{provide:Os,multi:!0,useValue:p},{provide:Ns,useFactory:Pi,deps:[[qe,new g.Xx1,new g.kdw]]},{provide:js,useValue:E||{}},E?.useHash?{provide:de.hb,useClass:de.fw}:{provide:de.hb,useClass:de.Sm},{provide:zn,useFactory:()=>{const l=(0,g.WQX)(de.Xr),m=(0,g.WQX)(g.SKi),p=(0,g.WQX)(js),E=(0,g.WQX)(I),_=(0,g.WQX)(_t);return p.scrollOffset&&l.setOffset(p.scrollOffset),new Ln(_,E,l,m,p)}},E?.preloadingStrategy?ci(E.preloadingStrategy).\u0275providers:[],E?.initialNavigation?ta(E):[],E?.bindToComponentInputs?An(8,[Ao,{provide:Nr,useExisting:Ao}]).\u0275providers:[],E?.enableViewTransitions?or().\u0275providers:[],[{provide:na,useFactory:Zr},{provide:g.iLQ,multi:!0,useExisting:na}]]}}static forChild(p){return{ngModule:l,providers:[{provide:Os,multi:!0,useValue:p}]}}static#e=this.\u0275fac=function(E){return new(E||l)(g.KVO(Ns,8))};static#t=this.\u0275mod=g.$C({type:l});static#n=this.\u0275inj=g.G2t({})}return l})();function Pi(l){return"guarded"}function ta(l){return["disabled"===l.initialNavigation?An(3,[{provide:g.hnV,multi:!0,useFactory:()=>{const m=(0,g.WQX)(qe);return()=>{m.setUpLocationChangeListener()}}},{provide:Vn,useValue:2}]).\u0275providers:[],"enabledBlocking"===l.initialNavigation?An(2,[{provide:Vn,useValue:0},{provide:g.hnV,multi:!0,deps:[g.zZn],useFactory:m=>{const p=m.get(de.hj,Promise.resolve());return()=>p.then(()=>new Promise(E=>{const _=m.get(qe),x=m.get(Po);It(_,()=>{E(!0)}),m.get(I).afterPreactivation=()=>(E(!0),x.closed?(0,O.of)(void 0):x),_.initialNavigation()}))}}]).\u0275providers:[]]}const na=new g.nKC("")},467:(Te,ne,C)=>{"use strict";function g($,O,R,G,re,be,he){try{var le=$[be](he),X=le.value}catch(te){return void R(te)}le.done?O(X):Promise.resolve(X).then(G,re)}function e($){return function(){var O=this,R=arguments;return new Promise(function(G,re){var be=$.apply(O,R);function he(X){g(be,G,re,he,le,"next",X)}function le(X){g(be,G,re,he,le,"throw",X)}he(void 0)})}}C.d(ne,{A:()=>e})},1635:(Te,ne,C)=>{"use strict";function te(oe,ae,fe,ge){return new(fe||(fe=Promise))(function(xe,Qe){function Ct(Vt){try{tt(ge.next(Vt))}catch(Jt){Qe(Jt)}}function We(Vt){try{tt(ge.throw(Vt))}catch(Jt){Qe(Jt)}}function tt(Vt){Vt.done?xe(Vt.value):function De(xe){return xe instanceof fe?xe:new fe(function(Qe){Qe(xe)})}(Vt.value).then(Ct,We)}tt((ge=ge.apply(oe,ae||[])).next())})}function de(oe){return this instanceof de?(this.v=oe,this):new de(oe)}function se(oe,ae,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,ge=fe.apply(oe,ae||[]),xe=[];return De=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Ct("next"),Ct("throw"),Ct("return",function Qe(Nt){return function(Qt){return Promise.resolve(Qt).then(Nt,Jt)}}),De[Symbol.asyncIterator]=function(){return this},De;function Ct(Nt,Qt){ge[Nt]&&(De[Nt]=function(jt){return new Promise(function(Tn,jn){xe.push([Nt,jt,Tn,jn])>1||We(Nt,jt)})},Qt&&(De[Nt]=Qt(De[Nt])))}function We(Nt,Qt){try{!function tt(Nt){Nt.value instanceof de?Promise.resolve(Nt.value.v).then(Vt,Jt):ar(xe[0][2],Nt)}(ge[Nt](Qt))}catch(jt){ar(xe[0][3],jt)}}function Vt(Nt){We("next",Nt)}function Jt(Nt){We("throw",Nt)}function ar(Nt,Qt){Nt(Qt),xe.shift(),xe.length&&We(xe[0][0],xe[0][1])}}function Oe(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,ae=oe[Symbol.asyncIterator];return ae?ae.call(oe):(oe=function ee(oe){var ae="function"==typeof Symbol&&Symbol.iterator,fe=ae&&oe[ae],ge=0;if(fe)return fe.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&ge>=oe.length&&(oe=void 0),{value:oe&&oe[ge++],done:!oe}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),fe={},ge("next"),ge("throw"),ge("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function ge(xe){fe[xe]=oe[xe]&&function(Qe){return new Promise(function(Ct,We){!function De(xe,Qe,Ct,We){Promise.resolve(We).then(function(tt){xe({value:tt,done:Ct})},Qe)}(Ct,We,(Qe=oe[xe](Qe)).done,Qe.value)})}}}C.d(ne,{AQ:()=>se,N3:()=>de,sH:()=>te,xN:()=>Oe}),"function"==typeof SuppressedError&&SuppressedError}},Te=>{Te(Te.s=6760)}]);